<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="rss.xsl"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Ò Capistaine Docs Blog</title>
        <link>https://docs.locki.io/blog</link>
        <description>Ò Capistaine Docs Blog</description>
        <lastBuildDate>Fri, 06 Feb 2026 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[The Anonymization Trilemma: Balancing Cost, Accuracy, and Speed in Civic AI]]></title>
            <link>https://docs.locki.io/blog/anonymization-trilemma</link>
            <guid>https://docs.locki.io/blog/anonymization-trilemma</guid>
            <pubDate>Fri, 06 Feb 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Three complementary approaches to document anonymization—and how auto-detection picks the right one for each document type]]></description>
            <content:encoded><![CDATA[<p><strong>A hybrid approach that uses regex for transcripts, LLMs for general documents, and NLP guardrails for validation</strong></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-problem-pii-in-civic-data">The Problem: PII in Civic Data<a href="https://docs.locki.io/blog/anonymization-trilemma#the-problem-pii-in-civic-data" class="hash-link" aria-label="Direct link to The Problem: PII in Civic Data" title="Direct link to The Problem: PII in Civic Data" translate="no">​</a></h2>
<p>Municipal transcripts, citizen contributions, and public hearing records contain sensitive personal information:</p>
<ul>
<li class=""><strong>Names</strong>: "Florent Lardic proposed that..."</li>
<li class=""><strong>Contact info</strong>: Emails, phone numbers shared during Q&amp;A</li>
<li class=""><strong>Addresses</strong>: "I live at 12 rue de la Paix and..."</li>
</ul>
<p>Before processing these documents through our AI pipeline for theme extraction, we need to anonymize them. But how?</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-trilemma">The Trilemma<a href="https://docs.locki.io/blog/anonymization-trilemma#the-trilemma" class="hash-link" aria-label="Direct link to The Trilemma" title="Direct link to The Trilemma" translate="no">​</a></h2>
<p>Every anonymization approach forces a tradeoff:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">           ACCURACY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              ▲</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              │    ★ LLM-based</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              │    (understands context)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              │         ★ NLP Guardrails</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              │         (good entity detection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              │              ★ Regex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              │              (pattern matching only)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ──────────┼──────────────────────────▶ SPEED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         COST │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              ▼</span><br></span></code></pre></div></div>
<table><thead><tr><th>Approach</th><th>Cost</th><th>Accuracy</th><th>Speed</th><th>Best For</th></tr></thead><tbody><tr><td><strong>Regex</strong></td><td>Free</td><td>Medium</td><td>Instant</td><td>Structured formats (transcripts)</td></tr><tr><td><strong>LLM</strong></td><td>$$$</td><td>High</td><td>Slow</td><td>Complex context, general docs</td></tr><tr><td><strong>NLP</strong></td><td>Free</td><td>Medium-High</td><td>Fast</td><td>Validation, pre-screening</td></tr></tbody></table>
<p><strong>You can't optimize all three.</strong> But you can pick the right approach for each document type.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="our-solution-three-mode-architecture">Our Solution: Three-Mode Architecture<a href="https://docs.locki.io/blog/anonymization-trilemma#our-solution-three-mode-architecture" class="hash-link" aria-label="Direct link to Our Solution: Three-Mode Architecture" title="Direct link to Our Solution: Three-Mode Architecture" translate="no">​</a></h2>
<p>We implemented a hybrid system that auto-detects document type and routes to the appropriate anonymizer:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Input Text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Document Type Detection]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── Transcript with names? → Regex Anonymizer (free, instant)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── Already anonymous? → Skip (no processing needed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── General document? → LLM Anonymizer (accurate, costly)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[PII Validation] ← Opik Guardrail (NLP check)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Theme Extraction] → Uses anonymized text</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mode-1-transcript-regex-free-instant">Mode 1: Transcript Regex (Free, Instant)<a href="https://docs.locki.io/blog/anonymization-trilemma#mode-1-transcript-regex-free-instant" class="hash-link" aria-label="Direct link to Mode 1: Transcript Regex (Free, Instant)" title="Direct link to Mode 1: Transcript Regex (Free, Instant)" translate="no">​</a></h3>
<p>Municipal meeting transcripts follow a predictable format:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">00:00:00 Florent Lardic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nous allons discuter du programme...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00:05:23 Malika Redaouia</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">je pense que nous devrions...</span><br></span></code></pre></div></div>
<p>A regex pattern extracts speakers and replaces them consistently:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Pattern: HH:MM:SS followed by speaker name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TIMESTAMP_PATTERN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">compile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">r"^(\d{2}:\d{2}:\d{2})\s+(.+?)$"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MULTILINE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>Result:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">00:00:00 Speaker_1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nous allons discuter du programme...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00:05:23 Speaker_2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">je pense que nous devrions...</span><br></span></code></pre></div></div>
<p><strong>Features:</strong></p>
<ul>
<li class=""><strong>Consistent mapping</strong>: Same name = same Speaker_N throughout</li>
<li class=""><strong>Fuzzy matching</strong>: Handles "Karine" vs "Carine" variations (Levenshtein distance)</li>
<li class=""><strong>Inline replacement</strong>: "comme Florent le disait" → "comme Speaker_1 le disait"</li>
</ul>
<p><strong>Benchmarks (90k character transcript):</strong></p>
<table><thead><tr><th>Metric</th><th>Value</th></tr></thead><tbody><tr><td>Processing time</td><td>12ms</td></tr><tr><td>API cost</td><td>$0.00</td></tr><tr><td>Speakers detected</td><td>7</td></tr><tr><td>Replacements made</td><td>199</td></tr><tr><td>Accuracy</td><td>High for structured transcripts</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mode-2-llm-based-accurate-costly">Mode 2: LLM-Based (Accurate, Costly)<a href="https://docs.locki.io/blog/anonymization-trilemma#mode-2-llm-based-accurate-costly" class="hash-link" aria-label="Direct link to Mode 2: LLM-Based (Accurate, Costly)" title="Direct link to Mode 2: LLM-Based (Accurate, Costly)" translate="no">​</a></h3>
<p>General documents need context understanding:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Jean Dupont habite au 12 rue de la Paix à Audierne.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Son email est jean.dupont@example.com.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">La Mairie devrait améliorer...</span><br></span></code></pre></div></div>
<p>An LLM understands that:</p>
<ul>
<li class="">"Jean Dupont" is a person → anonymize</li>
<li class="">"12 rue de la Paix" is an address → anonymize</li>
<li class="">"Audierne" is a public place → <strong>keep as keyword</strong></li>
<li class="">"La Mairie" is an institution → <strong>keep as keyword</strong></li>
</ul>
<p><strong>Result:</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"anonymized_text"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[PERSONNE_1] habite au [ADRESSE_1] à Audierne..."</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"entity_mapping"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"Jean Dupont"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[PERSONNE_1]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"12 rue de la Paix"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[ADRESSE_1]"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"jean.dupont@example.com"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[EMAIL_1]"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"keywords_extracted"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"Audierne"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Mairie"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>The key insight</strong>: Organizations and places aren't PII—they're valuable keywords for theme extraction. The LLM distinguishes between what to hide and what to keep.</p>
<p><strong>Benchmarks (1k character document):</strong></p>
<table><thead><tr><th>Metric</th><th>Value</th></tr></thead><tbody><tr><td>Processing time</td><td>2-5 seconds</td></tr><tr><td>API cost</td><td>~$0.001-0.003</td></tr><tr><td>Accuracy</td><td>High (context-aware)</td></tr><tr><td>Keywords extracted</td><td>Yes</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mode-3-nlp-guardrail-validation">Mode 3: NLP Guardrail (Validation)<a href="https://docs.locki.io/blog/anonymization-trilemma#mode-3-nlp-guardrail-validation" class="hash-link" aria-label="Direct link to Mode 3: NLP Guardrail (Validation)" title="Direct link to Mode 3: NLP Guardrail (Validation)" translate="no">​</a></h3>
<p>Opik's PII guardrail uses traditional NER (Named Entity Recognition) to detect remaining PII:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mockup</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">anonymizer </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> validate_no_pii</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> validate_no_pii</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Speaker_1 a dit que la mairie doit agir."</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># result.is_clean = True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> validate_no_pii</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Jean Dupont a dit que la mairie doit agir."</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># result.is_clean = False (PERSON detected)</span><br></span></code></pre></div></div>
<p><strong>Use cases:</strong></p>
<ol>
<li class=""><strong>Pre-LLM check</strong>: Quick validation before expensive LLM calls</li>
<li class=""><strong>Post-processing audit</strong>: Verify no PII leaked through</li>
<li class=""><strong>Logging</strong>: Track PII detection failures in Opik dashboard</li>
</ol>
<p><strong>Benchmarks:</strong></p>
<table><thead><tr><th>Metric</th><th>Value</th></tr></thead><tbody><tr><td>Processing time</td><td>50-100ms</td></tr><tr><td>API cost</td><td>$0.00 (local NLP)</td></tr><tr><td>Accuracy</td><td>Medium-High</td></tr><tr><td>Entity types</td><td>PERSON, EMAIL, PHONE, CREDIT_CARD, etc.</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="auto-detection-logic">Auto-Detection Logic<a href="https://docs.locki.io/blog/anonymization-trilemma#auto-detection-logic" class="hash-link" aria-label="Direct link to Auto-Detection Logic" title="Direct link to Auto-Detection Logic" translate="no">​</a></h2>
<p>The system automatically picks the right mode:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">detect_document_type</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> DocumentType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    matches </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> TIMESTAMP_PATTERN</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">finditer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">matches</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> DocumentType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GENERAL  </span><span class="token comment" style="color:#999988;font-style:italic"># → LLM mode</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Check if speakers are already anonymous</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sample_speakers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">m</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">group</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> m </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> matches</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    anonymous_count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> s </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> sample_speakers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> ANONYMOUS_PATTERN</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">match</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># "Speaker 1", "Intervenant 2"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> anonymous_count </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sample_speakers</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> DocumentType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TRANSCRIPT_ANONYMOUS  </span><span class="token comment" style="color:#999988;font-style:italic"># → Skip</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> DocumentType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TRANSCRIPT_NAMED  </span><span class="token comment" style="color:#999988;font-style:italic"># → Regex mode</span><br></span></code></pre></div></div>
<p><strong>Detection accuracy</strong>: 100% on our test corpus (transcripts have clear timestamp patterns).</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-economics">The Economics<a href="https://docs.locki.io/blog/anonymization-trilemma#the-economics" class="hash-link" aria-label="Direct link to The Economics" title="Direct link to The Economics" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="scenario-processing-100-municipal-documents">Scenario: Processing 100 municipal documents<a href="https://docs.locki.io/blog/anonymization-trilemma#scenario-processing-100-municipal-documents" class="hash-link" aria-label="Direct link to Scenario: Processing 100 municipal documents" title="Direct link to Scenario: Processing 100 municipal documents" translate="no">​</a></h3>
<table><thead><tr><th>Doc Type</th><th>Count</th><th>Mode</th><th>Time</th><th>Cost</th></tr></thead><tbody><tr><td>Meeting transcripts</td><td>30</td><td>Regex</td><td>0.4s total</td><td>$0.00</td></tr><tr><td>Already anonymous</td><td>10</td><td>Skip</td><td>0s</td><td>$0.00</td></tr><tr><td>Citizen letters</td><td>40</td><td>LLM</td><td>160s (2.6min)</td><td>$0.12</td></tr><tr><td>Short comments</td><td>20</td><td>LLM</td><td>60s</td><td>$0.04</td></tr><tr><td><strong>Total</strong></td><td><strong>100</strong></td><td><strong>Mixed</strong></td><td><strong>~3.5min</strong></td><td><strong>$0.16</strong></td></tr></tbody></table>
<p><strong>Compare to LLM-only approach:</strong></p>
<table><thead><tr><th>Mode</th><th>Time</th><th>Cost</th></tr></thead><tbody><tr><td>LLM for all</td><td>~8 minutes</td><td>$0.30</td></tr><tr><td>Auto-detect</td><td>~3.5 minutes</td><td>$0.16</td></tr><tr><td><strong>Savings</strong></td><td><strong>56%</strong></td><td><strong>47%</strong></td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="integration-with-field-input-pipeline">Integration with Field Input Pipeline<a href="https://docs.locki.io/blog/anonymization-trilemma#integration-with-field-input-pipeline" class="hash-link" aria-label="Direct link to Integration with Field Input Pipeline" title="Direct link to Integration with Field Input Pipeline" translate="no">​</a></h2>
<p>The anonymization happens automatically before theme extraction:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mockup</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">field_input </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> FieldInputGenerator</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> AnonymizationConfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> FieldInputGenerator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">provider</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"gemini"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> gen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">process_field_input</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    input_text</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">transcript_text</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    source_title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"Conseil Municipal Janvier 2026"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    anonymization_config</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">AnonymizationConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        enabled</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mode</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"auto"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># or "transcript", "llm", "none"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"Anonymization: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">result</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">anonymization_type</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># "transcript"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"Speakers: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation builtin">len</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation">result</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">anonymization_mapping</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"Keywords: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">result</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">keywords_from_anonymization</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># From LLM mode</span><br></span></code></pre></div></div>
<p><strong>Result fields added:</strong></p>
<ul>
<li class=""><code>anonymization_applied</code>: bool</li>
<li class=""><code>anonymization_type</code>: "transcript" | "llm" | None</li>
<li class=""><code>anonymization_mapping</code>: dict of original → anonymized</li>
<li class=""><code>keywords_from_anonymization</code>: list (LLM mode only)</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="privacy-vs-utility-tradeoff">Privacy vs Utility Tradeoff<a href="https://docs.locki.io/blog/anonymization-trilemma#privacy-vs-utility-tradeoff" class="hash-link" aria-label="Direct link to Privacy vs Utility Tradeoff" title="Direct link to Privacy vs Utility Tradeoff" translate="no">​</a></h2>
<table><thead><tr><th>Priority</th><th>Configuration</th><th>Tradeoff</th></tr></thead><tbody><tr><td>Maximum privacy</td><td><code>mode="llm"</code> always</td><td>Higher cost, slower</td></tr><tr><td>Maximum speed</td><td><code>mode="transcript"</code> always</td><td>May miss PII in general docs</td></tr><tr><td>Balanced</td><td><code>mode="auto"</code></td><td>Best cost/accuracy ratio</td></tr><tr><td>Debugging</td><td><code>mode="none"</code></td><td>No anonymization (dev only)</td></tr></tbody></table>
<p>For production, <strong>auto mode</strong> is recommended: it gets transcript anonymization essentially free while only paying for LLM when truly needed.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="lessons-learned">Lessons Learned<a href="https://docs.locki.io/blog/anonymization-trilemma#lessons-learned" class="hash-link" aria-label="Direct link to Lessons Learned" title="Direct link to Lessons Learned" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-structure-is-free">1. Structure Is Free<a href="https://docs.locki.io/blog/anonymization-trilemma#1-structure-is-free" class="hash-link" aria-label="Direct link to 1. Structure Is Free" title="Direct link to 1. Structure Is Free" translate="no">​</a></h3>
<p>Structured documents (transcripts, forms) can be anonymized with regex at zero cost. Invest in understanding your data formats before reaching for expensive solutions.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-context-costs-money">2. Context Costs Money<a href="https://docs.locki.io/blog/anonymization-trilemma#2-context-costs-money" class="hash-link" aria-label="Direct link to 2. Context Costs Money" title="Direct link to 2. Context Costs Money" translate="no">​</a></h3>
<p>LLMs excel at understanding context ("Jean Dupont" is a person, "Dupont SA" is a company). But this understanding isn't free. Use it selectively.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-validation-is-cheap-insurance">3. Validation Is Cheap Insurance<a href="https://docs.locki.io/blog/anonymization-trilemma#3-validation-is-cheap-insurance" class="hash-link" aria-label="Direct link to 3. Validation Is Cheap Insurance" title="Direct link to 3. Validation Is Cheap Insurance" translate="no">​</a></h3>
<p>NLP-based PII detection (Opik guardrails) is fast and free. Running it after anonymization catches mistakes before they reach production.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-keywords-are-side-benefits">4. Keywords Are Side Benefits<a href="https://docs.locki.io/blog/anonymization-trilemma#4-keywords-are-side-benefits" class="hash-link" aria-label="Direct link to 4. Keywords Are Side Benefits" title="Direct link to 4. Keywords Are Side Benefits" translate="no">​</a></h3>
<p>LLM anonymization extracts useful keywords (organizations, places) as a side effect. These feed into theme extraction, improving downstream accuracy.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-trilemma-resolved">The Trilemma, Resolved<a href="https://docs.locki.io/blog/anonymization-trilemma#the-trilemma-resolved" class="hash-link" aria-label="Direct link to The Trilemma, Resolved" title="Direct link to The Trilemma, Resolved" translate="no">​</a></h2>
<p>You can't have the best of all three—but you can have <strong>the right tool for each job</strong>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Document arrives</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌──────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Type Detection   │ (instant, free)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└────────┬─────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ┌────┴────┬──────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │         │              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ▼         ▼              ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌───────┐ ┌───────┐    ┌──────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Regex │ │ Skip  │    │   LLM    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ (0ms) │ │ (0ms) │    │ (2-5s)   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ($0)  │ │ ($0)  │    │ ($0.003) │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└───┬───┘ └───┬───┘    └────┬─────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │         │              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └────┬────┴──────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌──────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ PII Validation   │ (50ms, free)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└────────┬─────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Clean text for</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    theme extraction</span><br></span></code></pre></div></div>
<p><strong>Result</strong>: Fast where possible, accurate where necessary, validated always.</p>
<hr>
<p><em>Code reference: <code>app/mockup/anonymizer.py</code>, <code>app/mockup/field_input.py</code>, <code>app/agents/forseti/features/anonymization.py</code></em></p>
<p><em>Related: <a class="" href="https://docs.locki.io/blog/reliability-without-the-cloud-tax">Reliability Without the Cloud Tax</a> | <a class="" href="https://docs.locki.io/blog/grounding-ai-in-reality">Grounding AI in Reality</a></em></p>]]></content:encoded>
            <category>AI and Machine Learning</category>
            <category>Privacy</category>
            <category>civitech</category>
            <category>PII Protection</category>
            <category>Anonymization</category>
        </item>
        <item>
            <title><![CDATA[Reliability Without the Cloud Tax: Local LLMs with Intelligent Failover]]></title>
            <link>https://docs.locki.io/blog/reliability-without-the-cloud-tax</link>
            <guid>https://docs.locki.io/blog/reliability-without-the-cloud-tax</guid>
            <pubDate>Fri, 06 Feb 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[How a simple Redis lock transformed our local LLM from unreliable to production-ready, while keeping data sovereign and costs near zero]]></description>
            <content:encoded><![CDATA[<p><strong>A global lock pattern that makes local AI as reliable as cloud AI—without the costs or data concerns</strong></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-problem-local-vs-cloud-tradeoffs">The Problem: Local vs Cloud Tradeoffs<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#the-problem-local-vs-cloud-tradeoffs" class="hash-link" aria-label="Direct link to The Problem: Local vs Cloud Tradeoffs" title="Direct link to The Problem: Local vs Cloud Tradeoffs" translate="no">​</a></h2>
<p>When building AI for civic applications, we face a fundamental tension:</p>
<table><thead><tr><th>Approach</th><th>Cost</th><th>Reliability</th><th>Sovereignty</th><th>Speed</th></tr></thead><tbody><tr><td>Cloud LLMs (OpenAI, Claude)</td><td>$$$</td><td>High</td><td>Data leaves France</td><td>Fast</td></tr><tr><td>Local LLMs (Ollama)</td><td>Near zero</td><td>Variable</td><td>Data stays local</td><td>Slower</td></tr></tbody></table>
<p>For a civic project in Audierne processing citizen contributions, <strong>sovereignty matters</strong>. Citizens sharing concerns about their town shouldn't have that data processed on US servers. But unreliable AI is worse than no AI—if the system fails during a meeting or public event, trust evaporates.</p>
<p>We needed both: the sovereignty of local AI with the reliability of cloud.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-discovery-ollamas-achilles-heel">The Discovery: Ollama's Achilles Heel<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#the-discovery-ollamas-achilles-heel" class="hash-link" aria-label="Direct link to The Discovery: Ollama's Achilles Heel" title="Direct link to The Discovery: Ollama's Achilles Heel" translate="no">​</a></h2>
<p>After weeks of intermittent failures, we identified the pattern:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">✅ Single request to Ollama: Works perfectly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ Sequential requests (same process): Works perfectly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">❌ Concurrent requests (different processes): Random failures</span><br></span></code></pre></div></div>
<p>When our scheduler ran <code>task_audierne_docs</code> (document analysis) at the same time as a manual validation, one would fail with cryptic 404 errors. Ollama wasn't crashing—it was <strong>choking on concurrency</strong>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-solution-a-global-lock">The Solution: A Global Lock<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#the-solution-a-global-lock" class="hash-link" aria-label="Direct link to The Solution: A Global Lock" title="Direct link to The Solution: A Global Lock" translate="no">​</a></h2>
<p>The fix is embarrassingly simple: a Redis lock that ensures only one process talks to Ollama at a time.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># In app/services/tasks/task_audierne_docs.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OLLAMA_LOCK_KEY </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"lock:ollama:global"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OLLAMA_LOCK_TTL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">600</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 10 minutes max</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_acquire_ollama_lock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">task_id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">bool</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""Try to acquire the global Ollama lock."""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    redis </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_scheduler_redis</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    acquired </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> redis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        OLLAMA_LOCK_KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        task_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ex</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">OLLAMA_LOCK_TTL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        nx</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Only set if doesn't exist</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token builtin">bool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">acquired</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_release_ollama_lock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">task_id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""Release the lock only if we own it."""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    redis </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_scheduler_redis</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    current </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> redis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">OLLAMA_LOCK_KEY</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> current</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Handle both bytes and str from Redis</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        current_str </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">decode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">isinstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> current</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> current_str </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> task_id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            redis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">delete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">OLLAMA_LOCK_KEY</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>Key design decisions:</strong></p>
<ol>
<li class=""><strong>TTL of 600s</strong>: If a task crashes, the lock auto-expires. No manual intervention needed.</li>
<li class=""><strong>Owner verification</strong>: Only the task that acquired the lock can release it.</li>
<li class=""><strong>Atomic acquisition</strong>: <code>nx=True</code> ensures no race conditions.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-innovation-intelligent-failover">The Innovation: Intelligent Failover<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#the-innovation-intelligent-failover" class="hash-link" aria-label="Direct link to The Innovation: Intelligent Failover" title="Direct link to The Innovation: Intelligent Failover" translate="no">​</a></h2>
<p>The lock alone isn't enough. If a scheduled task holds the lock, manual runs would just fail. Instead, we <strong>fail over to cloud providers</strong> when Ollama is busy:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Default failover chain: local -&gt; paid (reliable) -&gt; free tier (rate limited)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEFAULT_FAILOVER_CHAIN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"ollama"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"openai"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"claude"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"mistral"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"gemini"</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p>The chain is ordered by preference:</p>
<ol>
<li class=""><strong>Ollama</strong>: Free, sovereign, preferred</li>
<li class=""><strong>OpenAI</strong>: Reliable, fast, reasonable cost</li>
<li class=""><strong>Claude</strong>: High quality, good for complex reasoning</li>
<li class=""><strong>Mistral</strong>: EU-based, GDPR-friendly</li>
<li class=""><strong>Gemini</strong>: Free tier available, but aggressive rate limits</li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">complete_with_failover</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> messages</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""Try providers in order until one succeeds."""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> provider_name </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_chain</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> provider_name </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ollama"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_acquire_ollama_lock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_logger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Ollama locked, trying next provider"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">continue</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            provider </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_provider</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">provider_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> provider</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">complete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">messages</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_logger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">warning</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">provider_name</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> failed: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">continue</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">finally</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> provider_name </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ollama"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_release_ollama_lock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">raise</span><span class="token plain"> RuntimeError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"All providers failed"</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-numbers">The Numbers<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#the-numbers" class="hash-link" aria-label="Direct link to The Numbers" title="Direct link to The Numbers" translate="no">​</a></h2>
<p>After deploying this pattern:</p>
<table><thead><tr><th>Metric</th><th>Before</th><th>After</th></tr></thead><tbody><tr><td>Validation failures</td><td>~15%</td><td>&lt;1%</td></tr><tr><td>Data sent to cloud</td><td>100%</td><td>~20%</td></tr><tr><td>Monthly LLM costs</td><td>~$50</td><td>~$5</td></tr><tr><td>Sovereignty compliance</td><td>No</td><td>Yes</td></tr></tbody></table>
<p>The 20% cloud usage comes from:</p>
<ul>
<li class="">Manual runs during scheduled tasks (Ollama locked)</li>
<li class="">Ollama service restarts</li>
<li class="">Very long documents that timeout locally</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-this-matters-for-civic-ai">Why This Matters for Civic AI<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#why-this-matters-for-civic-ai" class="hash-link" aria-label="Direct link to Why This Matters for Civic AI" title="Direct link to Why This Matters for Civic AI" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-cost-democratization">1. Cost Democratization<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#1-cost-democratization" class="hash-link" aria-label="Direct link to 1. Cost Democratization" title="Direct link to 1. Cost Democratization" translate="no">​</a></h3>
<p>Not every civic project has budget for cloud AI. A small town council shouldn't need to choose between AI assistance and other spending. With local-first + failover:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Monthly cost breakdown:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Ollama (local): $0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Electricity: ~$2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── OpenAI fallback: ~$3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── Total: ~$5/month</span><br></span></code></pre></div></div>
<p>Compare to pure cloud: $50-100/month for similar volume.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-data-sovereignty">2. Data Sovereignty<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#2-data-sovereignty" class="hash-link" aria-label="Direct link to 2. Data Sovereignty" title="Direct link to 2. Data Sovereignty" translate="no">​</a></h3>
<p>French citizens' contributions stay on French servers unless absolutely necessary. When failover triggers, only that specific contribution goes to cloud—not the entire dataset.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Data flow:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── 80% of requests: Local only</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── 15% of requests: OpenAI (US)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── 4% of requests: Claude (US/UK)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── 1% of requests: Gemini (US)</span><br></span></code></pre></div></div>
<p>For sensitive civic data, this is the difference between "data might leave the country" and "data almost never leaves, and when it does, it's minimal."</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-resilience">3. Resilience<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#3-resilience" class="hash-link" aria-label="Direct link to 3. Resilience" title="Direct link to 3. Resilience" translate="no">​</a></h3>
<p>The system <strong>never fails completely</strong>. If Ollama crashes, cloud takes over. If OpenAI has an outage, Claude steps in. If everything fails, Gemini's free tier is the last resort.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌──────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                   FAILOVER CASCADE                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├──────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Request arrives                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         │                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         ▼                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────┐                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │   Ollama    │ ──── Lock available? ──── Yes ──▶ Use   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────┘           │                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                           No                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            │                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            ▼                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────┐                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │   OpenAI    │ ──── API available? ──── Yes ──▶ Use    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────┘           │                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                           No                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            │                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            ▼                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────┐                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │   Claude    │ ──── API available? ──── Yes ──▶ Use    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────┘           │                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                           No                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            │                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            ▼                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────┐                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │   Mistral   │ ──── API available? ──── Yes ──▶ Use    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────┘           │                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                           No                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            │                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            ▼                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────┐                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │   Gemini    │ ──── Last resort (rate limited)         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────┘                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└──────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="implementation-notes">Implementation Notes<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#implementation-notes" class="hash-link" aria-label="Direct link to Implementation Notes" title="Direct link to Implementation Notes" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="check-lock-status">Check Lock Status<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#check-lock-status" class="hash-link" aria-label="Direct link to Check Lock Status" title="Direct link to Check Lock Status" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Is Ollama available?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis-cli </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> GET </span><span class="token string" style="color:#e3116c">"lock:ollama:global"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Empty = available, otherwise shows task holding it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># How long until lock expires?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis-cli </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> TTL </span><span class="token string" style="color:#e3116c">"lock:ollama:global"</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="force-clear-a-stuck-lock">Force Clear a Stuck Lock<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#force-clear-a-stuck-lock" class="hash-link" aria-label="Direct link to Force Clear a Stuck Lock" title="Direct link to Force Clear a Stuck Lock" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Only if you're sure no task is actually running</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis-cli </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> DEL </span><span class="token string" style="color:#e3116c">"lock:ollama:global"</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="monitor-failover">Monitor Failover<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#monitor-failover" class="hash-link" aria-label="Direct link to Monitor Failover" title="Direct link to Monitor Failover" translate="no">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># In your task code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> provider</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">complete_with_failover</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">messages</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"Used provider: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">result</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">provider</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Shows which provider actually handled it</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="revalidate-after-failures">Revalidate After Failures<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#revalidate-after-failures" class="hash-link" aria-label="Direct link to Revalidate After Failures" title="Direct link to Revalidate After Failures" translate="no">​</a></h3>
<p>If you had failures before implementing failover, clean them up:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Run the revalidation script (uses OpenAI)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">poetry run python scripts/revalidate_errors.py</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-bigger-picture">The Bigger Picture<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#the-bigger-picture" class="hash-link" aria-label="Direct link to The Bigger Picture" title="Direct link to The Bigger Picture" translate="no">​</a></h2>
<p>This pattern—<strong>local-first with intelligent failover</strong>—applies beyond LLMs:</p>
<table><thead><tr><th>Domain</th><th>Local</th><th>Failover</th></tr></thead><tbody><tr><td>LLM inference</td><td>Ollama</td><td>OpenAI, Claude</td></tr><tr><td>Vector search</td><td>Local Qdrant</td><td>Pinecone</td></tr><tr><td>OCR</td><td>Tesseract</td><td>Google Vision</td></tr><tr><td>Speech-to-text</td><td>Whisper local</td><td>Whisper API</td></tr></tbody></table>
<p>The principle is the same: prefer local for cost and sovereignty, failover to cloud for reliability.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="conclusion">Conclusion<a href="https://docs.locki.io/blog/reliability-without-the-cloud-tax#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate="no">​</a></h2>
<p>The global lock pattern turned our unreliable local LLM into a production-ready system. Citizens get fast, reliable AI assistance. Their data stays sovereign. The project stays within budget.</p>
<p><strong>Reliability and sovereignty aren't opposites—they're achievable together with the right architecture.</strong></p>
<hr>
<p><em>Code reference: <code>app/providers/failover.py</code>, <code>app/services/tasks/task_audierne_docs.py</code></em></p>
<p><em>Related: <a class="" href="https://docs.locki.io/blog/grounding-ai-in-reality">Grounding AI in Reality</a> | <a class="" href="https://docs.locki.io/blog/self-improving-civic-ai">Self-Improving Civic AI</a></em></p>]]></content:encoded>
            <category>AI and Machine Learning</category>
            <category>Infrastructure</category>
            <category>Data Sovereignty</category>
            <category>Ollama</category>
            <category>civitech</category>
        </item>
        <item>
            <title><![CDATA[Grounding AI in Reality: How Field Data Keeps Our Agents Honest]]></title>
            <link>https://docs.locki.io/blog/grounding-ai-in-reality</link>
            <guid>https://docs.locki.io/blog/grounding-ai-in-reality</guid>
            <pubDate>Wed, 04 Feb 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[How real-world inputs from recordings, meetings, and press keep AI agents from drifting into comfortable bubbles]]></description>
            <content:encoded><![CDATA[<p><strong>The daily practice of challenging AI prompts with messy, real-world data</strong></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-bubble-problem">The Bubble Problem<a href="https://docs.locki.io/blog/grounding-ai-in-reality#the-bubble-problem" class="hash-link" aria-label="Direct link to The Bubble Problem" title="Direct link to The Bubble Problem" translate="no">​</a></h2>
<p>Every AI system risks becoming a bubble. Train it on clean data, test it on similar clean data, and it performs beautifully—in the lab. Then reality arrives:</p>
<ul>
<li class="">A citizen uses slang the model never saw</li>
<li class="">A press article frames an issue differently than our categories expect</li>
<li class="">A field recording captures a concern that doesn't fit our charter's neat boxes</li>
<li class="">An official explains a nuance that our prompts don't account for</li>
</ul>
<p><strong>The AI doesn't know what it doesn't know.</strong> And worse: it will confidently give wrong answers, because its training data said that's how the world works.</p>
<p>This is the gap between <a class="" href="https://docs.locki.io/blog/self-improving-civic-ai">our trust-building vision</a> and daily reality. The vision is beautiful. The practice is messy. This article is about the messy part.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="our-reality-streams">Our Reality Streams<a href="https://docs.locki.io/blog/grounding-ai-in-reality#our-reality-streams" class="hash-link" aria-label="Direct link to Our Reality Streams" title="Direct link to Our Reality Streams" translate="no">​</a></h2>
<p>We're constantly receiving signals from the field. Each one is a potential challenge to our AI's worldview:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                        REALITY STREAMS INTO SYSTEM                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐   ┌──────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │  PLAUD AI    │   │  CITIZEN     │   │  OFFICIAL    │   │    PRESS     │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │  Recordings  │   │  Contribs    │   │  Meetings    │   │   Articles   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └──────┬───────┘   └──────┬───────┘   └──────┬───────┘   └──────┬───────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         │                  │                  │                  │          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         │   Unstructured   │   Structured     │   Context-rich   │  External│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         │   Spontaneous    │   Intentional    │   Nuanced        │  Framing │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         │   Local dialect  │   Formal tone    │   Political      │  Diverse │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         │                  │                  │                  │          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         └──────────────────┼──────────────────┼──────────────────┘          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            │                  │                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            ▼                  ▼                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    ┌─────────────────────────────────┐                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    │      DOES THIS CHALLENGE        │                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    │      OUR AI'S ASSUMPTIONS?      │                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    └─────────────────────────────────┘                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="plaud-ai-recordings">Plaud AI Recordings<a href="https://docs.locki.io/blog/grounding-ai-in-reality#plaud-ai-recordings" class="hash-link" aria-label="Direct link to Plaud AI Recordings" title="Direct link to Plaud AI Recordings" translate="no">​</a></h3>
<p>We record field conversations (with consent). A fisherman explaining why the port needs work doesn't speak like a formal contribution. He uses local terms, references shared history, expresses frustration in ways our polite training data never showed.</p>
<p><strong>Challenge</strong>: Can Forseti recognize validity when the tone is raw?</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="citizen-contributions">Citizen Contributions<a href="https://docs.locki.io/blog/grounding-ai-in-reality#citizen-contributions" class="hash-link" aria-label="Direct link to Citizen Contributions" title="Direct link to Citizen Contributions" translate="no">​</a></h3>
<p>These are our bread and butter—but they surprise us constantly. Edge cases appear weekly:</p>
<ul>
<li class="">A contribution that's clearly well-intentioned but technically violates charter rules</li>
<li class="">A valid concern expressed as a complaint about a specific person (borderline personal attack?)</li>
<li class="">A suggestion that spans multiple categories</li>
</ul>
<p><strong>Challenge</strong>: Are our categories and rules aligned with how citizens actually think?</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="official-meetings">Official Meetings<a href="https://docs.locki.io/blog/grounding-ai-in-reality#official-meetings" class="hash-link" aria-label="Direct link to Official Meetings" title="Direct link to Official Meetings" translate="no">​</a></h3>
<p>When we meet with municipal staff, they explain the <em>why</em> behind policies. "We categorize it this way because of budget structure." "That phrase is actually a compliment in local context." These insights rarely make it into training data.</p>
<p><strong>Challenge</strong>: Does our AI understand institutional context, or just surface patterns?</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="press-articles">Press Articles<a href="https://docs.locki.io/blog/grounding-ai-in-reality#press-articles" class="hash-link" aria-label="Direct link to Press Articles" title="Direct link to Press Articles" translate="no">​</a></h3>
<p>Local journalists frame issues differently than citizens or officials. They highlight tensions, use dramatic language, connect dots across topics. When Gwaien (local bulletin) publishes about port renovation, it's a different lens than a citizen contribution about the same topic.</p>
<p><strong>Challenge</strong>: Can our AI maintain consistent judgment across different framings of the same issue?</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-daily-practice">The Daily Practice<a href="https://docs.locki.io/blog/grounding-ai-in-reality#the-daily-practice" class="hash-link" aria-label="Direct link to The Daily Practice" title="Direct link to The Daily Practice" translate="no">​</a></h2>
<p>Understanding that reality challenges our AI is step one. Step two is building a <em>daily practice</em> of grounding. Here's ours:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-morning-error-cleanup">1. Morning: Error Cleanup<a href="https://docs.locki.io/blog/grounding-ai-in-reality#1-morning-error-cleanup" class="hash-link" aria-label="Direct link to 1. Morning: Error Cleanup" title="Direct link to 1. Morning: Error Cleanup" translate="no">​</a></h3>
<p>Before any analysis, we clean the noise:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">processors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">workflows</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">workflow_experiment </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> cleanup_error_traces</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Every morning: remove traces that contain errors</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># These pollute our optimization if left in place</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cleanup_error_traces</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"Cleaned </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">result</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation string" style="color:#e3116c">'deleted'</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> error traces"</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>Why daily?</strong> Errors accumulate. "Gemini retries exhausted" isn't a valid data point—it's infrastructure noise. Leaving it in skews our metrics toward false pessimism.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-midday-format-compliance-check">2. Midday: Format Compliance Check<a href="https://docs.locki.io/blog/grounding-ai-in-reality#2-midday-format-compliance-check" class="hash-link" aria-label="Direct link to 2. Midday: Format Compliance Check" title="Direct link to 2. Midday: Format Compliance Check" translate="no">​</a></h3>
<p>We measure how well our AI outputs match the <em>ideal</em> format:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># The ideal output we're optimizing toward</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IDEAL_CHARTER_OUTPUT </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"is_valid"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"violations"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"encouraged_aspects"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"Concrete and argued proposals"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"Constructive criticism"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"Questions and requests for clarification"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"reasoning"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Clear explanation..."</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"confidence"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.95</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>The <code>output_format</code> metric scores every output against this ideal (0.0 to 1.0):</p>
<ul>
<li class="">Missing fields? Score drops.</li>
<li class="">Error in reasoning? Score drops significantly.</li>
<li class="">Valid but no positive aspects identified? Score drops.</li>
</ul>
<p><strong>Why format matters?</strong> An AI that gives the right answer in the wrong format is hard to integrate, hard to audit, hard to trust. Consistency enables trust.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-afternoon-new-data-evaluation">3. Afternoon: New Data Evaluation<a href="https://docs.locki.io/blog/grounding-ai-in-reality#3-afternoon-new-data-evaluation" class="hash-link" aria-label="Direct link to 3. Afternoon: New Data Evaluation" title="Direct link to 3. Afternoon: New Data Evaluation" translate="no">​</a></h3>
<p>The scheduled task processes any new spans from the morning's work:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Every 30 minutes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─ Search for spans not yet evaluated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─ Create dataset from new spans</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─ Run Opik evaluate() with metrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├─ hallucination (is the AI making things up?)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─ output_format (is output structured correctly?)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─ Report results</span><br></span></code></pre></div></div>
<p>This catches drift <em>the same day</em> it appears. Not next week. Not at quarterly review. Today.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-evening-field-data-integration">4. Evening: Field Data Integration<a href="https://docs.locki.io/blog/grounding-ai-in-reality#4-evening-field-data-integration" class="hash-link" aria-label="Direct link to 4. Evening: Field Data Integration" title="Direct link to 4. Evening: Field Data Integration" translate="no">​</a></h3>
<p>This is the creative part. We take the day's field inputs and ask: <strong>does any of this break our AI?</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    EVENING CHALLENGE PROTOCOL                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  For each new field input (recording, article, meeting note):                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  1. EXTRACT the core claim/concern                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     "The port access road is dangerous" (from Plaud recording)               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  2. FORMULATE as a test contribution                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     Title: "Sécurité de la route d'accès au port"                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     Body: [transcribed concern in citizen language]                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  3. RUN through Forseti                                                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     → Is it classified correctly?                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     → Is confidence appropriate?                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     → Does reasoning make sense?                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  4. IF surprising result:                                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     → Log as potential prompt challenge                                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     → Add to next experiment batch                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     → Consider: is the AI wrong, or are our rules wrong?                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<p>The last question is crucial: sometimes the AI is wrong and needs fixing. Sometimes our rules are wrong and need updating. Both are valid outcomes.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-metrics-that-matter">The Metrics That Matter<a href="https://docs.locki.io/blog/grounding-ai-in-reality#the-metrics-that-matter" class="hash-link" aria-label="Direct link to The Metrics That Matter" title="Direct link to The Metrics That Matter" translate="no">​</a></h2>
<p>We track specific signals that indicate grounding vs. drift:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="grounding-indicators-good">Grounding Indicators (Good)<a href="https://docs.locki.io/blog/grounding-ai-in-reality#grounding-indicators-good" class="hash-link" aria-label="Direct link to Grounding Indicators (Good)" title="Direct link to Grounding Indicators (Good)" translate="no">​</a></h3>
<table><thead><tr><th>Metric</th><th>Meaning</th><th>Target</th></tr></thead><tbody><tr><td>Output format score</td><td>AI produces consistent structure</td><td>≥ 0.85</td></tr><tr><td>Confidence calibration</td><td>When AI says 90%, it's right 90%</td><td>Within 5%</td></tr><tr><td>Field case accuracy</td><td>AI handles real recordings correctly</td><td>≥ 80%</td></tr><tr><td>Category consistency</td><td>Same topic → same category</td><td>≥ 90%</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="drift-indicators-warning">Drift Indicators (Warning)<a href="https://docs.locki.io/blog/grounding-ai-in-reality#drift-indicators-warning" class="hash-link" aria-label="Direct link to Drift Indicators (Warning)" title="Direct link to Drift Indicators (Warning)" translate="no">​</a></h3>
<table><thead><tr><th>Metric</th><th>Meaning</th><th>Concern Level</th></tr></thead><tbody><tr><td>Rising error rate</td><td>More "validation error" traces</td><td>High</td></tr><tr><td>Dropping format score</td><td>Outputs becoming inconsistent</td><td>Medium</td></tr><tr><td>Confidence inflation</td><td>AI overconfident on edge cases</td><td>High</td></tr><tr><td>Category confusion</td><td>Same topic → different categories</td><td>Medium</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bubble-indicators-critical">Bubble Indicators (Critical)<a href="https://docs.locki.io/blog/grounding-ai-in-reality#bubble-indicators-critical" class="hash-link" aria-label="Direct link to Bubble Indicators (Critical)" title="Direct link to Bubble Indicators (Critical)" translate="no">​</a></h3>
<table><thead><tr><th>Signal</th><th>What It Means</th></tr></thead><tbody><tr><td>Field cases consistently fail</td><td>AI model doesn't match reality</td></tr><tr><td>Officials disagree with classifications</td><td>Institutional context missing</td></tr><tr><td>Press framings confuse the AI</td><td>Limited linguistic flexibility</td></tr><tr><td>Citizens appeal correct classifications</td><td>Rules don't match expectations</td></tr></tbody></table>
<p>When bubble indicators appear, we don't just tune the model. We question the rules.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="challenging-the-prompt-a-worked-example">Challenging the Prompt: A Worked Example<a href="https://docs.locki.io/blog/grounding-ai-in-reality#challenging-the-prompt-a-worked-example" class="hash-link" aria-label="Direct link to Challenging the Prompt: A Worked Example" title="Direct link to Challenging the Prompt: A Worked Example" translate="no">​</a></h2>
<p>Here's how a single Plaud recording becomes a prompt challenge:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-recording">The Recording<a href="https://docs.locki.io/blog/grounding-ai-in-reality#the-recording" class="hash-link" aria-label="Direct link to The Recording" title="Direct link to The Recording" translate="no">​</a></h3>
<p>A fisherman at the port, speaking informally:</p>
<blockquote>
<p>"Le quai là, c'est n'importe quoi. Ça fait trois ans qu'on demande et rien. Les touristes ils passent, ils voient ça, qu'est-ce qu'ils pensent? Faut arrêter de dépenser pour les conneries et s'occuper du port."</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="initial-ai-response">Initial AI Response<a href="https://docs.locki.io/blog/grounding-ai-in-reality#initial-ai-response" class="hash-link" aria-label="Direct link to Initial AI Response" title="Direct link to Initial AI Response" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">is_valid: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">violations: ["Potentially inappropriate language: 'conneries'"]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">confidence: 0.72</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reasoning: "The contribution contains informal language that may</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            violate charter guidelines on respectful discourse."</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-challenge">The Challenge<a href="https://docs.locki.io/blog/grounding-ai-in-reality#the-challenge" class="hash-link" aria-label="Direct link to The Challenge" title="Direct link to The Challenge" translate="no">​</a></h3>
<p>Wait. This is a legitimate concern about port infrastructure, expressed in authentic local language. Is "conneries" really a charter violation, or is our prompt too sanitized?</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-investigation">The Investigation<a href="https://docs.locki.io/blog/grounding-ai-in-reality#the-investigation" class="hash-link" aria-label="Direct link to The Investigation" title="Direct link to The Investigation" translate="no">​</a></h3>
<p>We check:</p>
<ol>
<li class=""><strong>Charter text</strong>: Does it actually prohibit informal language? No—it prohibits personal attacks and insults.</li>
<li class=""><strong>Official input</strong>: Would municipal staff consider this offensive? We ask. They laugh. "That's how people talk here."</li>
<li class=""><strong>Citizen expectation</strong>: Would the speaker feel unfairly filtered? Almost certainly yes.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-prompt-update">The Prompt Update<a href="https://docs.locki.io/blog/grounding-ai-in-reality#the-prompt-update" class="hash-link" aria-label="Direct link to The Prompt Update" title="Direct link to The Prompt Update" translate="no">​</a></h3>
<p>We add to our charter validation prompt:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Note: Informal or colloquial language common in Brittany</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(e.g., expressing frustration with strong words about situations,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">not people) should not be confused with charter violations.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The charter prohibits attacks on individuals, not passionate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expression about issues.</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-verification">The Verification<a href="https://docs.locki.io/blog/grounding-ai-in-reality#the-verification" class="hash-link" aria-label="Direct link to The Verification" title="Direct link to The Verification" translate="no">​</a></h3>
<p>Re-run the same input:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">is_valid: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">violations: []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">encouraged_aspects: ["Concrete concern about infrastructure"]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">confidence: 0.88</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reasoning: "The contribution expresses legitimate frustration about</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            port maintenance using informal but non-offensive language.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            The criticism targets infrastructure neglect, not individuals."</span><br></span></code></pre></div></div>
<p><strong>The AI now matches human judgment.</strong></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-continuous-loop">The Continuous Loop<a href="https://docs.locki.io/blog/grounding-ai-in-reality#the-continuous-loop" class="hash-link" aria-label="Direct link to The Continuous Loop" title="Direct link to The Continuous Loop" translate="no">​</a></h2>
<p>This isn't a one-time fix. It's a daily loop:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     THE GROUNDING LOOP                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌──────────────┐                                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │  Real World  │  Recordings, contributions, meetings, press             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └──────┬───────┘                                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            │                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            ▼                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌──────────────┐                                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │   Observe    │  Does this challenge our AI?                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └──────┬───────┘                                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            │                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            ▼                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌──────────────┐                                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │    Test      │  Run through Forseti, measure metrics                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └──────┬───────┘                                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            │                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            ▼                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌──────────────┐                                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │   Analyze    │  AI wrong, or rules wrong?                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └──────┬───────┘                                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            │                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌──────┴──────┐                                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ▼             ▼                                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌────────┐  ┌────────────┐                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │Fix AI  │  │Update Rules│                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │(prompt)│  │(charter)   │                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └───┬────┘  └─────┬──────┘                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│      │             │                                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│      └──────┬──────┘                                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│             │                                                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│             ▼                                                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌──────────────┐                                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │   Verify     │  Re-test, measure improvement                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └──────┬───────┘                                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            │                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            └────────────────────────────▶ Tomorrow: new data arrives         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-were-really-doing">What We're Really Doing<a href="https://docs.locki.io/blog/grounding-ai-in-reality#what-were-really-doing" class="hash-link" aria-label="Direct link to What We're Really Doing" title="Direct link to What We're Really Doing" translate="no">​</a></h2>
<p>This practice isn't about making AI smarter. It's about making AI <strong>humbler</strong>.</p>
<p>An AI that performs perfectly on test data but fails on field recordings is worse than one that admits uncertainty. At least the uncertain AI knows it needs help.</p>
<p>Our goal:</p>
<ul>
<li class=""><strong>Not</strong>: AI that always knows the answer</li>
<li class=""><strong>Instead</strong>: AI that knows when it doesn't know, and improves when shown</li>
</ul>
<p>The trust we're building with citizens and officials depends on this humility. An AI that overconfidently misclassifies their contribution destroys trust faster than one that says "I'm not sure, let me flag this for human review."</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="tomorrows-challenge">Tomorrow's Challenge<a href="https://docs.locki.io/blog/grounding-ai-in-reality#tomorrows-challenge" class="hash-link" aria-label="Direct link to Tomorrow's Challenge" title="Direct link to Tomorrow's Challenge" translate="no">​</a></h2>
<p>We don't know what tomorrow's Plaud recording will contain. We don't know what issue the next press article will raise. We don't know what nuance an official will explain in the next meeting.</p>
<p><strong>That uncertainty is the point.</strong></p>
<p>We're building a system that can say:</p>
<ol>
<li class="">"This is what I think, with this confidence"</li>
<li class="">"Here's my reasoning"</li>
<li class="">"If I'm wrong, teach me"</li>
</ol>
<p>The continuous improvement loop ensures that teaching happens—not quarterly, not monthly, but daily.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="coming-tomorrow-the-field-to-feature-pipeline">Coming Tomorrow: The Field-to-Feature Pipeline<a href="https://docs.locki.io/blog/grounding-ai-in-reality#coming-tomorrow-the-field-to-feature-pipeline" class="hash-link" aria-label="Direct link to Coming Tomorrow: The Field-to-Feature Pipeline" title="Direct link to Coming Tomorrow: The Field-to-Feature Pipeline" translate="no">​</a></h2>
<p>The manual process described above works, but it doesn't scale. Tomorrow we build the automated pipeline:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    FIELD-TO-FEATURE PIPELINE (Tomorrow)                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  INGEST                                                                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │  Plaud AI    │   │    Press     │   │   Meeting    │                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │  Recordings  │   │   Articles   │   │    Notes     │                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └──────┬───────┘   └──────┬───────┘   └──────┬───────┘                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         │                  │                  │                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         └──────────────────┼──────────────────┘                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            ▼                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  TRANSFORM          ┌──────────────┐                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │ Speech-to-   │  Whisper / Plaud transcription          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │ Text + LLM   │  Summarize or keep raw                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │ Processing   │                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     └──────┬───────┘                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            │                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            ▼                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  GENERATE           ┌──────────────┐                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │   Mockup     │  Generate contributions:                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │  Generator   │  • Valid examples                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │              │  • Charter violations                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │              │  • Edge cases                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     └──────┬───────┘                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            │                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            ▼                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  EVALUATE           ┌──────────────┐                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │   Forseti    │  Run all features:                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │   Features   │  • charter_validation                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │              │  • category_classification              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │              │  • (future features)                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     └──────┬───────┘                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            │                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            ▼                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  MEASURE            ┌──────────────┐                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │   Metrics    │  • output_format                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │  + Opik      │  • hallucination                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │              │  • confidence calibration               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     └──────┬───────┘                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            │                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                            ▼                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  IMPROVE            ┌──────────────┐                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │   Prompt     │  Automatic suggestions for              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     │  Refinement  │  prompt improvements                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     └──────────────┘                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-key-innovation-synthetic-challenges">The Key Innovation: Synthetic Challenges<a href="https://docs.locki.io/blog/grounding-ai-in-reality#the-key-innovation-synthetic-challenges" class="hash-link" aria-label="Direct link to The Key Innovation: Synthetic Challenges" title="Direct link to The Key Innovation: Synthetic Challenges" translate="no">​</a></h3>
<p>We won't just transcribe recordings—we'll <strong>generate variations</strong> that stress-test the agent:</p>
<table><thead><tr><th>Input</th><th>Generated Variations</th></tr></thead><tbody><tr><td>Valid concern from recording</td><td>Same concern with: aggressive tone, personal attack, off-topic tangent</td></tr><tr><td>Press article about port</td><td>Contribution that: agrees, disagrees, misunderstands, exaggerates</td></tr><tr><td>Official meeting insight</td><td>Edge case that: tests the boundary, uses ambiguous language</td></tr></tbody></table>
<p><strong>Why generate violations?</strong> An agent that only sees valid inputs gets complacent. We need to keep it sharp by regularly testing its ability to detect problems.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="deployed-across-all-forseti-features">Deployed Across All Forseti Features<a href="https://docs.locki.io/blog/grounding-ai-in-reality#deployed-across-all-forseti-features" class="hash-link" aria-label="Direct link to Deployed Across All Forseti Features" title="Direct link to Deployed Across All Forseti Features" translate="no">​</a></h3>
<p>The pipeline won't just test <code>charter_validation</code>. It will challenge every feature:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Tomorrow's goal: feature-agnostic challenge pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FEATURES_TO_CHALLENGE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"charter_validation"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Does it catch violations?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"category_classification"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Does it categorize correctly?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Future features:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># "sentiment_analysis",</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># "priority_scoring",</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># "duplicate_detection",</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> feature </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> FEATURES_TO_CHALLENGE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    challenges </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> generate_challenges_from_field_data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        recordings</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">today_plaud_files</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        articles</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">today_press_articles</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        include_violations</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        variation_count</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    results </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> run_forseti_evaluation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">feature</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> challenges</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log_to_opik</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">feature</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> results</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-schedule">The Schedule<a href="https://docs.locki.io/blog/grounding-ai-in-reality#the-schedule" class="hash-link" aria-label="Direct link to The Schedule" title="Direct link to The Schedule" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    DAILY CHALLENGE SCHEDULE                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  00:00  Ingest new field data (recordings, articles)             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  01:00  Transcribe and process                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  02:00  Generate mockup contributions (valid + violations)       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  03:00  Run through all Forseti features                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  04:00  Measure and log to Opik                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  06:00  task_contributions_analysis (real contributions)         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  07:00+ task_opik_evaluate (every 30 min)                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         └─▶ Includes field-generated challenges                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Morning report: "3 new challenges failed - review needed"       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-this-matters">Why This Matters<a href="https://docs.locki.io/blog/grounding-ai-in-reality#why-this-matters" class="hash-link" aria-label="Direct link to Why This Matters" title="Direct link to Why This Matters" translate="no">​</a></h3>
<p>Today's approach is reactive: we wait for problems, then fix them.</p>
<p>Tomorrow's approach is <strong>proactive</strong>: we manufacture challenges before they happen in production. The agent faces synthetic violations every night, so when a real one arrives, it's ready.</p>
<p><strong>The agent stays on edge. The agent stays grounded. The agent earns trust.</strong></p>
<hr>
<p><em>The path from <a class="" href="https://docs.locki.io/blog/self-improving-civic-ai">trust-building vision</a> to trusted reality runs through daily practice. No shortcuts. No silver bullets. Just the messy, humbling work of keeping AI grounded in the world as it actually is.</em></p>
<p><em>Tools we use: <a class="" href="https://docs.locki.io/docs/app/opik/CONTINUOUS_IMPROVEMENT">Continuous Improvement Methodology</a> | <a class="" href="https://docs.locki.io/docs/app/opik/EXPERIMENT_WORKFLOW">Experiment Workflow</a> | <a class="" href="https://docs.locki.io/docs/app/FIELD_INPUT_WORKFLOW">Field Input Workflow</a></em></p>
<hr>
<p><em>Tomorrow: Building the automated Field-to-Feature Pipeline using the <a class="" href="https://docs.locki.io/docs/app/FIELD_INPUT_WORKFLOW">Field Input</a> feature</em></p>]]></content:encoded>
            <category>AI and Machine Learning</category>
            <category>civitech</category>
            <category>Methodology</category>
            <category>Continuous Improvement</category>
            <category>Forseti</category>
        </item>
        <item>
            <title><![CDATA[The Impossible Sprint: Building Civic AI in 4 Weeks]]></title>
            <link>https://docs.locki.io/blog/hackathon-final-sprint</link>
            <guid>https://docs.locki.io/blog/hackathon-final-sprint</guid>
            <pubDate>Tue, 03 Feb 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[How we pivoted from OCR blockers to Mistral Document AI in the final hours of the Encode Hackathon - and why civic transparency is worth the chaos.]]></description>
            <content:encoded><![CDATA[<blockquote>
<p>"It looks impossible - but it's a hackathon. Cheers!"</p>
</blockquote>
<p>This is the story of <strong>OCapistaine</strong>, a civic transparency AI built during the Encode "Commit to Change" Hackathon. It's a story of blocked pipelines, strategic pivots, 4,000 municipal PDFs, and the belief that AI can help citizens understand their local democracy.</p>
<p><strong>Spoiler</strong>: We shipped it. Barely.
<img decoding="async" loading="lazy" alt="impossible is not ocapistaine" src="https://docs.locki.io/assets/images/the_impossible_sprint-43b186b00ff31418158ad67bffaf9d35.jpg" width="784" height="1168" class="img_ev3q"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-mission">The Mission<a href="https://docs.locki.io/blog/hackathon-final-sprint#the-mission" class="hash-link" aria-label="Direct link to The Mission" title="Direct link to The Mission" translate="no">​</a></h2>
<p>Audierne is a small coastal town in Brittany, France. Like many municipalities, it has years of public documents - council deliberations, municipal decrees, budget reports - scattered across websites and PDFs. Citizens <em>technically</em> have access, but practically? Good luck finding what you need.</p>
<p><strong>OCapistaine</strong> aims to change that: a RAG-powered Q&amp;A system where citizens can ask questions in plain French and get answers with source citations. No hallucinations. Full transparency. Trust through traceability.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-journey-a-timeline-of-chaos">The Journey (A Timeline of Chaos)<a href="https://docs.locki.io/blog/hackathon-final-sprint#the-journey-a-timeline-of-chaos" class="hash-link" aria-label="Direct link to The Journey (A Timeline of Chaos)" title="Direct link to The Journey (A Timeline of Chaos)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="week-1-foundation">Week 1: Foundation<a href="https://docs.locki.io/blog/hackathon-final-sprint#week-1-foundation" class="hash-link" aria-label="Direct link to Week 1: Foundation" title="Direct link to Week 1: Foundation" translate="no">​</a></h3>
<ul>
<li class="">Built the <strong>Forseti agent</strong> for charter validation (contribution moderation)</li>
<li class="">Deployed <strong>N8N orchestration</strong> on our Vaettir server</li>
<li class="">Set up <strong>Opik</strong> for LLM observability</li>
<li class="">Scraped ~4,000 municipal PDFs via Firecrawl</li>
</ul>
<p><strong>Feeling</strong>: Optimistic. We got this.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="week-2-the-ocr-wall">Week 2: The OCR Wall<a href="https://docs.locki.io/blog/hackathon-final-sprint#week-2-the-ocr-wall" class="hash-link" aria-label="Direct link to Week 2: The OCR Wall" title="Direct link to Week 2: The OCR Wall" translate="no">​</a></h3>
<ul>
<li class="">Text extraction worked for ~1,800 PDFs</li>
<li class="">But ~3,000 were <strong>image-based scans</strong> requiring OCR</li>
<li class="">Tested pdf2ocr, Tabula, pypdf... all blocked by installation issues</li>
<li class="">Victor spent days fighting library dependencies</li>
</ul>
<p><strong>Feeling</strong>: Concerned. The RAG needs documents.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="week-3-the-opik-pivot">Week 3: The Opik Pivot<a href="https://docs.locki.io/blog/hackathon-final-sprint#week-3-the-opik-pivot" class="hash-link" aria-label="Direct link to Week 3: The Opik Pivot" title="Direct link to Week 3: The Opik Pivot" translate="no">​</a></h3>
<ul>
<li class="">Shifted focus to what <em>was</em> working: <strong>prompt optimization</strong></li>
<li class="">Built an <strong>Opik Prompt Library</strong> - no more hardcoded prompts</li>
<li class="">Created <strong>mockup generation</strong> for testing Forseti with synthetic contributions</li>
<li class="">Forseti accuracy jumped from ~20% to <strong>90%+</strong></li>
</ul>
<p><strong>Feeling</strong>: Progress, but RAG still blocked.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="week-4-today-the-mistral-gambit">Week 4 (Today): The Mistral Gambit<a href="https://docs.locki.io/blog/hackathon-final-sprint#week-4-today-the-mistral-gambit" class="hash-link" aria-label="Direct link to Week 4 (Today): The Mistral Gambit" title="Direct link to Week 4 (Today): The Mistral Gambit" translate="no">​</a></h3>
<p><strong>Sunday, February 3rd, 2026 - 48 hours to deadline</strong></p>
<p>The team sync call started with bad news: OCR was still blocked. Then someone asked:</p>
<blockquote>
<p>"What if we don't build OCR? What if someone else already did?"</p>
</blockquote>
<p>Enter <strong>Mistral Document AI</strong>.</p>
<ul>
<li class="">Native PDF processing with <strong>built-in OCR</strong></li>
<li class="">Batch endpoint with <strong>50% discount</strong></li>
<li class="">Agent API for RAG queries</li>
<li class="">~$2 per 1,000 pages</li>
</ul>
<p><strong>The pivot</strong>: Instead of custom RAG infrastructure, use Mistral's managed solution. Upload documents, train an agent, integrate Opik tracing, ship.</p>
<p><strong>Feeling</strong>: Terrified excitement. Classic hackathon energy.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-architecture-post-pivot">The Architecture (Post-Pivot)<a href="https://docs.locki.io/blog/hackathon-final-sprint#the-architecture-post-pivot" class="hash-link" aria-label="Direct link to The Architecture (Post-Pivot)" title="Direct link to The Architecture (Post-Pivot)" translate="no">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                     OCapistaine Architecture                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Municipal PDFs ──► Mistral Document AI ──► Trained Agent       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  (~4,000 docs)        (OCR + indexing)       (RAG queries)      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                    │            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                    ▼            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Streamlit UI ◄──────────────────────────── Agent API          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       │                                           │            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └──────────► Opik Tracing ◄─────────────────┘            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    (observability)                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Forseti Agent: Charter validation for citizen contributions    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  N8N Workflows: Email/Facebook → GitHub issue automation        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Vaettir Server: Orchestration and webhook handling             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-we-built">What We Built<a href="https://docs.locki.io/blog/hackathon-final-sprint#what-we-built" class="hash-link" aria-label="Direct link to What We Built" title="Direct link to What We Built" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-forseti-461---the-charter-guardian">1. Forseti 461 - The Charter Guardian<a href="https://docs.locki.io/blog/hackathon-final-sprint#1-forseti-461---the-charter-guardian" class="hash-link" aria-label="Direct link to 1. Forseti 461 - The Charter Guardian" title="Direct link to 1. Forseti 461 - The Charter Guardian" translate="no">​</a></h3>
<p>An LLM agent that validates citizen contributions against the participation charter:</p>
<ul>
<li class="">No personal attacks or naming individuals</li>
<li class="">Constructive and factual content</li>
<li class="">Relevant to local issues</li>
<li class="">Proper category classification (7 categories)</li>
</ul>
<p><strong>Results</strong>: 90%+ accuracy after Opik-guided prompt optimization.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-auto-contribution-workflow">2. Auto-Contribution Workflow<a href="https://docs.locki.io/blog/hackathon-final-sprint#2-auto-contribution-workflow" class="hash-link" aria-label="Direct link to 2. Auto-Contribution Workflow" title="Direct link to 2. Auto-Contribution Workflow" translate="no">​</a></h3>
<p>Citizens can submit ideas via email or Facebook. The system:</p>
<ol>
<li class="">Receives submission via N8N webhook</li>
<li class="">Validates against charter (Forseti)</li>
<li class="">Creates GitHub issue if compliant</li>
<li class="">Tracks everything in Opik</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-rag-qa-the-final-sprint">3. RAG Q&amp;A (The Final Sprint)<a href="https://docs.locki.io/blog/hackathon-final-sprint#3-rag-qa-the-final-sprint" class="hash-link" aria-label="Direct link to 3. RAG Q&amp;A (The Final Sprint)" title="Direct link to 3. RAG Q&amp;A (The Final Sprint)" translate="no">​</a></h3>
<p>Upload 4,000+ municipal documents to Mistral, train an agent, let citizens ask:</p>
<ul>
<li class="">"What was the 2024 budget for road maintenance?"</li>
<li class="">"When was the last deliberation about the port?"</li>
<li class="">"What environmental measures has the council discussed?"</li>
</ul>
<p>Every answer comes with <strong>source citations</strong>. No trust without transparency.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-opik-observability">4. Opik Observability<a href="https://docs.locki.io/blog/hackathon-final-sprint#4-opik-observability" class="hash-link" aria-label="Direct link to 4. Opik Observability" title="Direct link to 4. Opik Observability" translate="no">​</a></h3>
<p>Every LLM call is traced:</p>
<ul>
<li class="">Prompt versions tracked in Opik Prompt Library</li>
<li class="">Latency, tokens, and costs monitored</li>
<li class="">Hallucination detection via evaluation pipelines</li>
<li class="">A/B testing for prompt improvements</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-trust-architecture">The Trust Architecture<a href="https://docs.locki.io/blog/hackathon-final-sprint#the-trust-architecture" class="hash-link" aria-label="Direct link to The Trust Architecture" title="Direct link to The Trust Architecture" translate="no">​</a></h2>
<p>This isn't just about answering questions. It's about <strong>building trust</strong> between citizens and AI systems.</p>
<p>Our approach:</p>
<table><thead><tr><th>Layer</th><th>Mechanism</th><th>Transparency</th></tr></thead><tbody><tr><td><strong>Input</strong></td><td>Charter validation</td><td>Citizens know the rules</td></tr><tr><td><strong>Processing</strong></td><td>Opik tracing</td><td>Every decision is logged</td></tr><tr><td><strong>Output</strong></td><td>Source citations</td><td>Answers are verifiable</td></tr><tr><td><strong>Feedback</strong></td><td>Accuracy metrics</td><td>Performance is measurable</td></tr></tbody></table>
<p>The goal: Civil servants and citizens can <strong>audit</strong> the AI's reasoning. If it's wrong, we know. If it improves, we can prove it.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="lessons-learned">Lessons Learned<a href="https://docs.locki.io/blog/hackathon-final-sprint#lessons-learned" class="hash-link" aria-label="Direct link to Lessons Learned" title="Direct link to Lessons Learned" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-pivots-are-not-failures">1. Pivots Are Not Failures<a href="https://docs.locki.io/blog/hackathon-final-sprint#1-pivots-are-not-failures" class="hash-link" aria-label="Direct link to 1. Pivots Are Not Failures" title="Direct link to 1. Pivots Are Not Failures" translate="no">​</a></h3>
<p>The OCR blocker felt like a disaster. The Mistral pivot turned it into an advantage - better OCR, managed infrastructure, faster shipping.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-observability-is-non-negotiable">2. Observability Is Non-Negotiable<a href="https://docs.locki.io/blog/hackathon-final-sprint#2-observability-is-non-negotiable" class="hash-link" aria-label="Direct link to 2. Observability Is Non-Negotiable" title="Direct link to 2. Observability Is Non-Negotiable" translate="no">​</a></h3>
<p>Without Opik, we'd have no idea if Forseti was improving. The prompt library and tracing made optimization possible in days, not weeks.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-hackathons-require-scope-ruthlessness">3. Hackathons Require Scope Ruthlessness<a href="https://docs.locki.io/blog/hackathon-final-sprint#3-hackathons-require-scope-ruthlessness" class="hash-link" aria-label="Direct link to 3. Hackathons Require Scope Ruthlessness" title="Direct link to 3. Hackathons Require Scope Ruthlessness" translate="no">​</a></h3>
<p>We wanted custom embeddings, MongoDB, a full document service. We shipped a working demo by choosing "good enough now" over "perfect later."</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-civic-tech-needs-humans">4. Civic Tech Needs Humans<a href="https://docs.locki.io/blog/hackathon-final-sprint#4-civic-tech-needs-humans" class="hash-link" aria-label="Direct link to 4. Civic Tech Needs Humans" title="Direct link to 4. Civic Tech Needs Humans" translate="no">​</a></h3>
<p>The best AI can't replace citizen participation. It can only make it <strong>easier</strong> to participate and <strong>harder</strong> for information to be hidden.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="whats-next">What's Next<a href="https://docs.locki.io/blog/hackathon-final-sprint#whats-next" class="hash-link" aria-label="Direct link to What's Next" title="Direct link to What's Next" translate="no">​</a></h2>
<p>Post-hackathon roadmap:</p>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Custom vector embeddings for better retrieval</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->MongoDB for document tracking and change detection</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Multi-channel deployment (dedicated chatbot, Facebook integration)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Breton language support (yes, really)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Self-improving feedback loops via Opik experiments</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-team">The Team<a href="https://docs.locki.io/blog/hackathon-final-sprint#the-team" class="hash-link" aria-label="Direct link to The Team" title="Direct link to The Team" translate="no">​</a></h2>
<ul>
<li class=""><strong>@jnxmas</strong> - Lead, infrastructure, Opik integration, sleep deprivation</li>
<li class=""><strong>@zcbtvag</strong> - Backend, Firecrawl scraping, OCR battles, Mistral uploads</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="try-it">Try It<a href="https://docs.locki.io/blog/hackathon-final-sprint#try-it" class="hash-link" aria-label="Direct link to Try It" title="Direct link to Try It" translate="no">​</a></h2>
<ul>
<li class=""><strong>Live Demo</strong>: <a href="https://ocapistaine.ngrok.app/" target="_blank" rel="noopener noreferrer" class="">ocapistaine.ngrok.app</a></li>
<li class=""><strong>GitHub</strong>: <a href="https://github.com/locki-io/ocapistaine" target="_blank" rel="noopener noreferrer" class="">locki-io/ocapistaine</a></li>
<li class=""><strong>Docs</strong>: <a href="https://docs.locki.io/" target="_blank" rel="noopener noreferrer" class="">docs.locki.io</a></li>
<li class=""><strong>Opik Dashboard</strong>: <a href="https://www.comet.com/opik" target="_blank" rel="noopener noreferrer" class="">comet.com/opik</a></li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="to-the-jury">To the Jury<a href="https://docs.locki.io/blog/hackathon-final-sprint#to-the-jury" class="hash-link" aria-label="Direct link to To the Jury" title="Direct link to To the Jury" translate="no">​</a></h2>
<p>This project exists because we believe:</p>
<ol>
<li class=""><strong>Local democracy matters</strong> - and it's broken by information asymmetry</li>
<li class=""><strong>AI can help</strong> - but only if it's transparent and auditable</li>
<li class=""><strong>Civic tech should be open</strong> - our code, our process, our mistakes are all public</li>
</ol>
<p>We didn't build a perfect system. We built a <strong>working</strong> system in 4 weeks, with:</p>
<ul>
<li class="">Real municipal documents (not synthetic data)</li>
<li class="">Real observability (not just logs)</li>
<li class="">Real transparency (source citations, not "trust me")</li>
</ul>
<p>The impossible sprint taught us that the hardest part of civic AI isn't the technology. It's earning the trust of the people it's supposed to serve.</p>
<p>We're just getting started.</p>
<hr>
<p><em>Built with caffeine, Opik traces, and the stubborn belief that citizens deserve better tools.</em></p>
<p><strong>#EncodeHackathon #CommitToChange #CivicTech #OCapistaine</strong></p>]]></content:encoded>
            <category>Encode hackathon</category>
            <category>civitech</category>
            <category>AI and Machine Learning</category>
            <category>Opik</category>
            <category>RAG</category>
            <category>Mistral AI</category>
        </item>
        <item>
            <title><![CDATA[Sprint Planning: Mistral Document AI RAG Prototype]]></title>
            <link>https://docs.locki.io/blog/sprint-planning-mistral-rag</link>
            <guid>https://docs.locki.io/blog/sprint-planning-mistral-rag</guid>
            <pubDate>Tue, 03 Feb 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Sprint planning call between Johnny (@jnxmas) and Victor (@zcbtvag) to align on the Sunday midnight deadline. Key decision: pivot to Mistral Document AI + Batch + Agent for a rapid RAG prototype.]]></description>
            <content:encoded><![CDATA[<p>Sprint planning call between Johnny (@jnxmas) and Victor (@zcbtvag) to align on the Sunday midnight deadline. Key decision: <strong>pivot to Mistral Document AI + Batch + Agent</strong> for a rapid RAG prototype.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="call-goals">Call Goals<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#call-goals" class="hash-link" aria-label="Direct link to Call Goals" title="Direct link to Call Goals" translate="no">​</a></h2>
<ul>
<li class="">Align on immediate priorities before Sunday midnight</li>
<li class="">Decide RAG approach and OCR path</li>
<li class="">Clarify repo/branch workflow and submodule handling</li>
<li class="">Assign ownership for Mistral Document AI setup</li>
<li class="">Coordinate API keys and cost management</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="timeline--data-status">Timeline &amp; Data Status<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#timeline--data-status" class="hash-link" aria-label="Direct link to Timeline &amp; Data Status" title="Direct link to Timeline &amp; Data Status" translate="no">​</a></h3>
<ul>
<li class=""><strong>Deadline:</strong> Sunday at midnight</li>
<li class=""><strong>Scraping:</strong> Completed ~1.5-2 weeks ago; ~4,000 PDFs downloaded</li>
<li class=""><strong>Text extraction:</strong> ~1,800 text-based PDFs processed</li>
<li class=""><strong>OCR needed:</strong> ~3,000 image-based PDFs still pending</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="strategic-pivot-mistral-document-ai">Strategic Pivot: Mistral Document AI<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#strategic-pivot-mistral-document-ai" class="hash-link" aria-label="Direct link to Strategic Pivot: Mistral Document AI" title="Direct link to Strategic Pivot: Mistral Document AI" translate="no">​</a></h3>
<p>Instead of building custom in-app RAG (deferring Nomic), we'll leverage <strong>Mistral Document AI + Batch + Agent</strong> to ship faster:</p>
<table><thead><tr><th>Feature</th><th>Capability</th></tr></thead><tbody><tr><td><strong>Document AI</strong></td><td>Handles PDFs and images (OCR), accepts URLs</td></tr><tr><td><strong>Batch endpoint</strong></td><td>50% discount, high capacity</td></tr><tr><td><strong>Pricing</strong></td><td>~$2 per 1,000 pages</td></tr><tr><td><strong>Limits</strong></td><td>50 MB per doc, up to 1,000 pages per doc</td></tr></tbody></table>
<p><strong>Plan:</strong></p>
<ol>
<li class="">Upload existing municipal documents (text + image PDFs) to Mistral Document AI</li>
<li class="">Run batch processing</li>
<li class="">Train 1-2 times before deadline</li>
<li class="">Create Agent with API key for search queries from app</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="contributions--forseti">Contributions &amp; Forseti<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#contributions--forseti" class="hash-link" aria-label="Direct link to Contributions &amp; Forseti" title="Direct link to Contributions &amp; Forseti" translate="no">​</a></h3>
<ul>
<li class="">Forseti agent validates charter compliance</li>
<li class="">Performance improved from ~20% to ~90%+ via manual optimization</li>
<li class="">Desire to instrument with Opik for continuous improvement and traceability</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="git-submodule-issues">Git Submodule Issues<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#git-submodule-issues" class="hash-link" aria-label="Direct link to Git Submodule Issues" title="Direct link to Git Submodule Issues" translate="no">​</a></h3>
<p>The docs submodule caused merge friction - commit pointer in main repo can lag behind when merging older branches. Solution: take 5 minutes at merge time to realign submodule pointers.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="alignment-check">Alignment Check<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#alignment-check" class="hash-link" aria-label="Direct link to Alignment Check" title="Direct link to Alignment Check" translate="no">​</a></h2>
<table><thead><tr><th>Area</th><th>Status</th><th>Notes</th></tr></thead><tbody><tr><td><strong>Project goals</strong></td><td>Aligned</td><td>Accelerates citizen Q&amp;A chatbot via managed RAG</td></tr><tr><td><strong>Neutrality</strong></td><td>Requires work</td><td>Third-party RAG demands strict guardrails + source citations</td></tr><tr><td><strong>Scope fit</strong></td><td>Acceptable</td><td>Defers custom RAG infra for hackathon prototype</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="risks">Risks<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#risks" class="hash-link" aria-label="Direct link to Risks" title="Direct link to Risks" translate="no">​</a></h3>
<table><thead><tr><th>Risk</th><th>Mitigation</th></tr></thead><tbody><tr><td>Upload/process time for ~4k PDFs</td><td>Start batch ASAP</td></tr><tr><td>Mistral limits/costs unknown</td><td>Verify before large uploads</td></tr><tr><td>Submodule merge errors</td><td>Plan explicit merge steps</td></tr><tr><td>Hallucination without evaluation</td><td>Add Opik tracing now</td></tr><tr><td>OCR quality for scans</td><td>Test subset first</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="decisions">Decisions<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#decisions" class="hash-link" aria-label="Direct link to Decisions" title="Direct link to Decisions" translate="no">​</a></h2>
<ol>
<li class=""><strong>Use Mistral Document AI + Batch + Agent</strong> for RAG prototype</li>
<li class=""><strong>Victor</strong> focuses on documents and Mistral API integration</li>
<li class=""><strong>Johnny</strong> sets up Mistral workspace, coordinates batch runs and context links</li>
<li class="">Continue feature-branch workflow; handle docs submodule at merge time</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="action-plan--tasks">Action Plan &amp; Tasks<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#action-plan--tasks" class="hash-link" aria-label="Direct link to Action Plan &amp; Tasks" title="Direct link to Action Plan &amp; Tasks" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-mistral-setup-priority-critical">1. Mistral Setup (Priority: Critical)<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#1-mistral-setup-priority-critical" class="hash-link" aria-label="Direct link to 1. Mistral Setup (Priority: Critical)" title="Direct link to 1. Mistral Setup (Priority: Critical)" translate="no">​</a></h3>
<ul>
<li class="">
<p><strong>Task:</strong> Create Mistral workspace and share API keys</p>
<ul>
<li class=""><strong>Owner:</strong> @jnxmas</li>
<li class=""><strong>Description:</strong> Set up Mistral workspace using jnlockey3d.com, invite <a href="mailto:victoragrest@gmail.com" target="_blank" rel="noopener noreferrer" class="">victoragrest@gmail.com</a>, generate API key for batch/agent operations. Confirm billing setup and budget cap.</li>
<li class=""><strong>Deadline:</strong> Tomorrow morning</li>
<li class=""><strong>Success Criteria:</strong> Victor receives invite and API key; billing confirmed.</li>
</ul>
</li>
<li class="">
<p><strong>Task:</strong> Verify Mistral Document AI limits and pricing</p>
<ul>
<li class=""><strong>Owner:</strong> @zcbtvag</li>
<li class=""><strong>Description:</strong> Confirm batch limits (documents per job, max requests, file size/page limits), OCR capabilities, and expected cost for ~4,000 PDFs. Document findings in repo docs.</li>
<li class=""><strong>Deadline:</strong> ASAP (before starting large uploads)</li>
<li class=""><strong>Success Criteria:</strong> Clear documented constraints and cost estimate.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-document-processing-priority-critical">2. Document Processing (Priority: Critical)<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#2-document-processing-priority-critical" class="hash-link" aria-label="Direct link to 2. Document Processing (Priority: Critical)" title="Direct link to 2. Document Processing (Priority: Critical)" translate="no">​</a></h3>
<ul>
<li class="">
<p><strong>Task:</strong> Prepare document list and upload script</p>
<ul>
<li class=""><strong>Owner:</strong> @zcbtvag</li>
<li class=""><strong>Description:</strong> Create Python script to iterate over 4,000 PDFs, sending to Mistral Document AI batch endpoint. Start with 50-100 file pilot to validate throughput and OCR quality.</li>
<li class=""><strong>Deadline:</strong> Pilot today; full batch tomorrow</li>
<li class=""><strong>Success Criteria:</strong> Pilot completes with &gt;95% success; script ready for full batch.</li>
</ul>
</li>
<li class="">
<p><strong>Task:</strong> Batch training and Agent creation</p>
<ul>
<li class=""><strong>Owner:</strong> @jnxmas</li>
<li class=""><strong>Description:</strong> Once documents processed, run 1-2 trainings to create Mistral Agent. Generate scoped API key. Document how to query Agent for RAG search.</li>
<li class=""><strong>Deadline:</strong> Before Sunday midnight</li>
<li class=""><strong>Success Criteria:</strong> Agent returns accurate results with citations; API key available to app.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-observability-priority-high">3. Observability (Priority: High)<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#3-observability-priority-high" class="hash-link" aria-label="Direct link to 3. Observability (Priority: High)" title="Direct link to 3. Observability (Priority: High)" translate="no">​</a></h3>
<ul>
<li class=""><strong>Task:</strong> Integrate Opik tracing for RAG queries<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @jnxmas</li>
<li class=""><strong>Description:</strong> Add Opik instrumentation for all RAG queries (request/response logging, sources, latency, hallucination flags). Set up evaluation dashboard.</li>
<li class=""><strong>Deadline:</strong> Before Sunday midnight</li>
<li class=""><strong>Success Criteria:</strong> Opik dashboard shows traces; evaluation runs without errors.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-context--workflow-priority-medium">4. Context &amp; Workflow (Priority: Medium)<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#4-context--workflow-priority-medium" class="hash-link" aria-label="Direct link to 4. Context &amp; Workflow (Priority: Medium)" title="Direct link to 4. Context &amp; Workflow (Priority: Medium)" translate="no">​</a></h3>
<ul>
<li class=""><strong>Task:</strong> Context links workflow<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @jnxmas</li>
<li class=""><strong>Description:</strong> Prepare N8N micro-workflow to pull contribution-related context links (HTML/URLs) and queue for Mistral ingestion.</li>
<li class=""><strong>Deadline:</strong> Draft by Saturday</li>
<li class=""><strong>Success Criteria:</strong> At least 20 context links processed and added to corpus.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-repo-hygiene-priority-medium">5. Repo Hygiene (Priority: Medium)<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#5-repo-hygiene-priority-medium" class="hash-link" aria-label="Direct link to 5. Repo Hygiene (Priority: Medium)" title="Direct link to 5. Repo Hygiene (Priority: Medium)" translate="no">​</a></h3>
<ul>
<li class=""><strong>Task:</strong> Repo merge hygiene (docs submodule)<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @zcbtvag + @jnxmas</li>
<li class=""><strong>Description:</strong> Coordinate at merge time to realign docs submodule commit pointer to latest before merging into dev.</li>
<li class=""><strong>Deadline:</strong> Next merge event</li>
<li class=""><strong>Success Criteria:</strong> Clean merge with correct submodule pointer; CI passes.</li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="open-questions">Open Questions<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#open-questions" class="hash-link" aria-label="Direct link to Open Questions" title="Direct link to Open Questions" translate="no">​</a></h2>
<ol>
<li class="">Should we prioritize a minimal Q&amp;A demo by Sunday using Mistral Agent + Opik, even with partial corpus?</li>
<li class="">Do we need a separate categorization microservice this week, or rely on Agent + prompt tooling?</li>
<li class="">Which topics from the 4 municipal lists must be in the first demo corpus?</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="suggestions--risk-mitigations">Suggestions &amp; Risk Mitigations<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#suggestions--risk-mitigations" class="hash-link" aria-label="Direct link to Suggestions &amp; Risk Mitigations" title="Direct link to Suggestions &amp; Risk Mitigations" translate="no">​</a></h2>
<ul>
<li class=""><strong>Pilot first:</strong> Start with 200 PDFs across key categories (housing, culture, budget) to validate OCR and retrieval</li>
<li class=""><strong>Strict prompting:</strong> Require source citations; "no answer without source" policy; log refusals in Opik</li>
<li class=""><strong>Budget guardrail:</strong> Set spending cap; monitor pages processed; batch by priority</li>
<li class=""><strong>Breton names:</strong> Maintain custom glossary file in corpus; instruct Agent to prefer glossary matches</li>
<li class=""><strong>Repo docs:</strong> Create "submodule merge checklist" to avoid repeated confusion</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="status-dashboard">Status Dashboard<a href="https://docs.locki.io/blog/sprint-planning-mistral-rag#status-dashboard" class="hash-link" aria-label="Direct link to Status Dashboard" title="Direct link to Status Dashboard" translate="no">​</a></h2>
<table><thead><tr><th>Component</th><th>Status</th><th>Notes</th></tr></thead><tbody><tr><td>Firecrawl/Docs ingestion</td><td>In Progress</td><td>~1,800 text PDFs done, ~3,000 need OCR</td></tr><tr><td>Mistral setup</td><td>Starting</td><td>Workspace creation pending</td></tr><tr><td>RAG Agent integration</td><td>Not Started</td><td>Blocked on batch completion</td></tr><tr><td>Opik tracing</td><td>In Progress</td><td>Ready to add once Agent exists</td></tr></tbody></table>
<p><strong>Open High-Priority Tasks:</strong></p>
<ol>
<li class="">Verify Mistral limits/pricing (@zcbtvag)</li>
<li class="">Create Mistral workspace and share API key (@jnxmas)</li>
<li class="">Pilot upload script + batch start (@zcbtvag)</li>
<li class="">Agent creation + Opik integration (@jnxmas)</li>
<li class="">Submodule merge alignment (@zcbtvag + @jnxmas)</li>
</ol>
<p><strong>Next Milestone:</strong> Sunday midnight - deliver working RAG Q&amp;A demo using Mistral Agent with Opik tracing and citations.</p>]]></content:encoded>
            <category>Meeting</category>
            <category>RAG</category>
            <category>AI and Machine Learning</category>
            <category>Opik</category>
        </item>
        <item>
            <title><![CDATA[Building Trust Through Transparent AI: A Human-Machine Partnership for Civic Participation]]></title>
            <link>https://docs.locki.io/blog/self-improving-civic-ai</link>
            <guid>https://docs.locki.io/blog/self-improving-civic-ai</guid>
            <pubDate>Tue, 03 Feb 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[How OCapistaine builds trust with citizens and civil servants through measurable AI reliability in participatory democracy]]></description>
            <content:encoded><![CDATA[<p><strong>How Ò Capistaine builds trust with citizens and civil servants through measurable AI reliability</strong>
<img decoding="async" loading="lazy" alt="building trust" src="https://docs.locki.io/assets/images/article_audierne2026_en-1b44f407c8fae713007d986de7c7114c.png" width="1748" height="1240" class="img_ev3q"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="trust-is-the-product">Trust Is the Product<a href="https://docs.locki.io/blog/self-improving-civic-ai#trust-is-the-product" class="hash-link" aria-label="Direct link to Trust Is the Product" title="Direct link to Trust Is the Product" translate="no">​</a></h2>
<p>When we deploy AI in civic applications, we're not selling software—we're asking for trust. Trust from two groups with very different concerns:</p>
<ul>
<li class=""><strong>Citizens</strong> need to trust that their voice matters, that an algorithm won't silently dismiss their contribution</li>
<li class=""><strong>Civil servants</strong> need to trust that AI is a colleague, not a threat to their expertise and employment</li>
</ul>
<p>Both forms of trust share a common foundation: <strong>demonstrated reliability over time</strong>. Not promises. Not marketing. Measured, visible, continuous proof that the system works <em>with</em> humans, not instead of them.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-fear-we-must-address">The Fear We Must Address<a href="https://docs.locki.io/blog/self-improving-civic-ai#the-fear-we-must-address" class="hash-link" aria-label="Direct link to The Fear We Must Address" title="Direct link to The Fear We Must Address" translate="no">​</a></h2>
<p>Let's be direct about the elephant in the room: civil servants worry about AI taking their jobs. This fear is legitimate and we refuse to dismiss it.</p>
<p>Our answer isn't "AI won't replace you"—that's a promise we can't make for all contexts. Our answer is more honest:</p>
<blockquote>
<p><strong>In civic participation, AI cannot and should not replace human judgment. It can only earn the right to handle routine tasks by proving itself, freeing humans for the work that truly requires human wisdom.</strong></p>
</blockquote>
<p>The goal isn't automation. The goal is <strong>augmentation</strong>—a team where each member contributes their strengths.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-human-ai-team-model">The Human-AI Team Model<a href="https://docs.locki.io/blog/self-improving-civic-ai#the-human-ai-team-model" class="hash-link" aria-label="Direct link to The Human-AI Team Model" title="Direct link to The Human-AI Team Model" translate="no">​</a></h2>
<p>We don't implement "AI automation." We build a <strong>team</strong> with clear roles:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    THE COLLABORATION MODEL                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   AI CONTRIBUTES              │    HUMANS CONTRIBUTE            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ─────────────────           │    ──────────────────           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   • Speed (24/7 availability) │    • Judgment (context)         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   • Consistency (same rules)  │    • Empathy (citizen intent)   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   • Pattern recognition       │    • Accountability (decisions) │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   • Tireless triage           │    • Local knowledge (Audierne) │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                               │    • Democratic legitimacy      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   AI NEVER DOES               │    HUMANS ALWAYS DO             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ─────────────               │    ─────────────────            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   • Final rejection           │    • Appeal review              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   • Policy decisions          │    • Edge case resolution       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   • Citizen communication     │    • Trust verification         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<p>This isn't a ladder where AI climbs toward replacing humans. It's a <strong>stable partnership</strong> where responsibilities are divided by competence, not convenience.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-trust-is-built-transparency-at-every-step">How Trust Is Built: Transparency at Every Step<a href="https://docs.locki.io/blog/self-improving-civic-ai#how-trust-is-built-transparency-at-every-step" class="hash-link" aria-label="Direct link to How Trust Is Built: Transparency at Every Step" title="Direct link to How Trust Is Built: Transparency at Every Step" translate="no">​</a></h2>
<p>Trust isn't declared—it's earned through transparency. Every AI decision in Ò Capistaine comes with full disclosure:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  CITIZEN CONTRIBUTION: "Le port a besoin de modernisation"      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  AI ASSESSMENT (visible to civil servant):                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ✓ Charter Compliant: YES                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ✓ Category: économie                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ✓ Confidence: 92%                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Reasoning: "Proposition concrète concernant les               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  infrastructures portuaires, sans attaque personnelle,          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  en rapport direct avec Audierne."                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Positive aspects detected:                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  • Concrete proposal                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  • Local relevance                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────────────────────────────────────────────────┐   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │  [✓ Approve]  [✗ Override]  [? Request Review]          │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────────────────────────────────────────────────┘   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<p>The civil servant sees <strong>everything</strong>: the decision, the confidence, the reasoning, and the specific aspects that influenced the AI. They can approve with one click, override with an explanation, or escalate to a colleague.</p>
<p><strong>The AI never hides its work.</strong> This transparency serves two purposes:</p>
<ol>
<li class="">Civil servants can verify AI judgment against their own expertise</li>
<li class="">Over time, patterns emerge—humans learn when to trust the AI, and when to double-check</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-trust-building-cycle-human-corrections-make-ai-better">The Trust-Building Cycle: Human Corrections Make AI Better<a href="https://docs.locki.io/blog/self-improving-civic-ai#the-trust-building-cycle-human-corrections-make-ai-better" class="hash-link" aria-label="Direct link to The Trust-Building Cycle: Human Corrections Make AI Better" title="Direct link to The Trust-Building Cycle: Human Corrections Make AI Better" translate="no">​</a></h2>
<p>Here's where the team model becomes powerful: <strong>every human correction improves the AI</strong>.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  THE CONTINUOUS LEARNING CYCLE                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌──────────────┐                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ AI suggests  │                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └──────┬───────┘                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            │                                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            ▼                                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌──────────────┐      ┌──────────────┐                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │ Human reviews│─────▶│ Correction?  │                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └──────────────┘      └──────┬───────┘                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                  │                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            ┌─────────────────────┼─────────────────────┐        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            │                     │                     │        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            ▼                     ▼                     ▼        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     ┌──────────────┐      ┌──────────────┐      ┌──────────────┐│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │   Approve    │      │   Override   │      │   Escalate   ││</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     │  (AI correct)│      │ (AI learned) │      │(Edge case)   ││</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └──────┬───────┘      └──────┬───────┘      └──────┬───────┘│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            │                     │                     │        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│            └─────────────────────┼─────────────────────┘        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                  │                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                  ▼                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         ┌──────────────┐                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         │ Training Data│                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         │   Updated    │                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         └──────┬───────┘                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                │                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                ▼                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         ┌──────────────┐                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         │ AI improves  │                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         │ next cycle   │                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                         └──────────────┘                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<p>When a civil servant overrides an AI decision, that correction becomes training data. The AI learns from human expertise. Over weeks and months:</p>
<ul>
<li class="">Approval rate increases (AI gets better)</li>
<li class="">Override rate decreases (fewer corrections needed)</li>
<li class="">Civil servants spend less time on routine cases</li>
<li class="">Civil servants spend more time on genuinely complex cases</li>
</ul>
<p><strong>This is not job elimination—it's job elevation.</strong> The AI handles the obvious cases; humans focus on the ones that actually require human judgment.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="measurable-trust-the-numbers-dont-lie">Measurable Trust: The Numbers Don't Lie<a href="https://docs.locki.io/blog/self-improving-civic-ai#measurable-trust-the-numbers-dont-lie" class="hash-link" aria-label="Direct link to Measurable Trust: The Numbers Don't Lie" title="Direct link to Measurable Trust: The Numbers Don't Lie" translate="no">​</a></h3>
<p>We track everything, and the metrics are visible to all team members:</p>
<table><thead><tr><th>Metric</th><th>What It Measures</th><th>Trust Signal</th></tr></thead><tbody><tr><td>Approval Rate</td><td>% of AI decisions humans accept</td><td>AI reliability</td></tr><tr><td>Override Rate</td><td>% of AI decisions humans correct</td><td>Learning opportunities</td></tr><tr><td>Confidence Calibration</td><td>When AI says "90% sure," is it right 90% of the time?</td><td>AI self-awareness</td></tr><tr><td>Time Saved</td><td>Hours of routine work handled by AI</td><td>Team efficiency</td></tr><tr><td>Edge Cases</td><td>Complex cases requiring human judgment</td><td>Human expertise value</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-in-doubt-respect-the-citizen">When In Doubt, Respect the Citizen<a href="https://docs.locki.io/blog/self-improving-civic-ai#when-in-doubt-respect-the-citizen" class="hash-link" aria-label="Direct link to When In Doubt, Respect the Citizen" title="Direct link to When In Doubt, Respect the Citizen" translate="no">​</a></h2>
<p>A fundamental principle that builds citizen trust: <strong>when the AI is uncertain, it defers to humans—never silently rejects</strong>.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                 THE "FAIL OPEN" PRINCIPLE                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Scenario: AI is unsure about a contribution                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ❌ WRONG APPROACH:                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     AI confidence: 60%                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     → Silently reject                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     → Citizen never knows why                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     → Trust destroyed                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ✓ OUR APPROACH:                                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     AI confidence: 60%                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     → Flag for human review                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     → Civil servant makes final call                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     → Citizen gets fair hearing                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     → AI learns from the decision                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<p>This principle has a technical implementation:</p>
<ul>
<li class=""><strong>High confidence (<code>\&gt;85%</code>)</strong>: AI recommendation shown prominently, one-click approval</li>
<li class=""><strong>Medium confidence (60-85%)</strong>: AI shows reasoning, human decision required</li>
<li class=""><strong>Low confidence (<code>\&lt;60%</code>)</strong>: Flagged as "needs review," no AI recommendation shown</li>
<li class=""><strong>Error state</strong>: Treated as low confidence, never as rejection</li>
</ul>
<p><strong>Why this matters for citizens</strong>: No algorithm silently dismisses their voice. If the AI can't confidently assess a contribution, a human will review it. Democracy requires this guarantee.</p>
<p><strong>Why this matters for civil servants</strong>: They're not rubber-stamping AI decisions. On uncertain cases, they exercise genuine judgment. Their expertise matters.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="visible-actions-traceable-decisions">Visible Actions, Traceable Decisions<a href="https://docs.locki.io/blog/self-improving-civic-ai#visible-actions-traceable-decisions" class="hash-link" aria-label="Direct link to Visible Actions, Traceable Decisions" title="Direct link to Visible Actions, Traceable Decisions" translate="no">​</a></h2>
<p>Every automated action is visible and traceable. When the AI marks a contribution as "conforme charte" (charter compliant), it's not a hidden database flag—it's a visible label on GitHub that anyone can see.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  GitHub Issue #42: "Modernisation du port de pêche"             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Labels:                                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │  économie    │  │conforme      │  │ validé par   │          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │              │  │charte        │  │ Forseti 92%  │          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └──────────────┘  └──────────────┘  └──────────────┘          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Activity log:                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  • 14:32 - Contribution submitted by citizen                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  • 14:32 - Forseti assessed: valid (92% confidence)             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  • 14:33 - Label "conforme charte" added automatically          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  • 14:45 - Civil servant reviewed and confirmed                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<p><strong>The confidence level is visible.</strong> Citizens can see "validé par Forseti 92%"—they know an AI helped, and they know how confident it was. No hidden algorithms. No black boxes.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="trust-metrics-proving-the-partnership-works">Trust Metrics: Proving the Partnership Works<a href="https://docs.locki.io/blog/self-improving-civic-ai#trust-metrics-proving-the-partnership-works" class="hash-link" aria-label="Direct link to Trust Metrics: Proving the Partnership Works" title="Direct link to Trust Metrics: Proving the Partnership Works" translate="no">​</a></h2>
<p>We don't ask anyone to trust us on faith. We publish metrics that prove the system works:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="for-citizens-is-my-voice-being-heard-fairly">For Citizens: "Is my voice being heard fairly?"<a href="https://docs.locki.io/blog/self-improving-civic-ai#for-citizens-is-my-voice-being-heard-fairly" class="hash-link" aria-label="Direct link to For Citizens: &quot;Is my voice being heard fairly?&quot;" title="Direct link to For Citizens: &quot;Is my voice being heard fairly?&quot;" translate="no">​</a></h3>
<table><thead><tr><th>Question</th><th>Metric</th><th>Current Status</th></tr></thead><tbody><tr><td>Are valid contributions being accepted?</td><td>Approval rate for compliant posts</td><td>Target: <code>\&gt;98%</code></td></tr><tr><td>Are rejections explained?</td><td>% of rejections with reasoning</td><td>100% (by design)</td></tr><tr><td>Can I appeal?</td><td>Human review available?</td><td>Always</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="for-civil-servants-is-this-tool-actually-helping">For Civil Servants: "Is this tool actually helping?"<a href="https://docs.locki.io/blog/self-improving-civic-ai#for-civil-servants-is-this-tool-actually-helping" class="hash-link" aria-label="Direct link to For Civil Servants: &quot;Is this tool actually helping?&quot;" title="Direct link to For Civil Servants: &quot;Is this tool actually helping?&quot;" translate="no">​</a></h3>
<table><thead><tr><th>Question</th><th>Metric</th><th>Current Status</th></tr></thead><tbody><tr><td>Is the AI accurate?</td><td>Agreement rate with human decisions</td><td>Tracking</td></tr><tr><td>Am I saving time?</td><td>Hours saved per week</td><td>Tracking</td></tr><tr><td>Am I still needed?</td><td>Edge cases requiring human judgment</td><td>Always present</td></tr><tr><td>Is AI getting better?</td><td>Trend of override rate</td><td>Should decrease</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="for-administrators-is-this-responsible-ai-deployment">For Administrators: "Is this responsible AI deployment?"<a href="https://docs.locki.io/blog/self-improving-civic-ai#for-administrators-is-this-responsible-ai-deployment" class="hash-link" aria-label="Direct link to For Administrators: &quot;Is this responsible AI deployment?&quot;" title="Direct link to For Administrators: &quot;Is this responsible AI deployment?&quot;" translate="no">​</a></h3>
<table><thead><tr><th>Question</th><th>Metric</th><th>Current Status</th></tr></thead><tbody><tr><td>Is AI self-aware of uncertainty?</td><td>Confidence calibration curve</td><td>Monitored via Opik</td></tr><tr><td>Are we catching problems?</td><td>Violation detection recall</td><td>&gt;90% target</td></tr><tr><td>Is the system auditable?</td><td>Full decision trace available</td><td>100% (by design)</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-trust-journey-earning-responsibility-over-time">The Trust Journey: Earning Responsibility Over Time<a href="https://docs.locki.io/blog/self-improving-civic-ai#the-trust-journey-earning-responsibility-over-time" class="hash-link" aria-label="Direct link to The Trust Journey: Earning Responsibility Over Time" title="Direct link to The Trust Journey: Earning Responsibility Over Time" translate="no">​</a></h2>
<p>Trust isn't granted—it's earned. Here's how the AI earns more responsibility over time:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="stage-1-observer-current">Stage 1: Observer (Current)<a href="https://docs.locki.io/blog/self-improving-civic-ai#stage-1-observer-current" class="hash-link" aria-label="Direct link to Stage 1: Observer (Current)" title="Direct link to Stage 1: Observer (Current)" translate="no">​</a></h3>
<p><strong>AI role</strong>: Watch and learn
<strong>Human role</strong>: Do everything, AI takes notes</p>
<ul>
<li class="">AI analyzes every contribution silently</li>
<li class="">Humans make all decisions</li>
<li class="">AI predictions logged for accuracy tracking</li>
<li class="">No citizen-facing AI actions</li>
</ul>
<p><em>Trust level</em>: Zero. We're proving the AI can even understand the task.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="stage-2-assistant-when-accuracy-85">Stage 2: Assistant (When: Accuracy <code>\&gt;85%</code>)<a href="https://docs.locki.io/blog/self-improving-civic-ai#stage-2-assistant-when-accuracy-85" class="hash-link" aria-label="Direct link to stage-2-assistant-when-accuracy-85" title="Direct link to stage-2-assistant-when-accuracy-85" translate="no">​</a></h3>
<p><strong>AI role</strong>: Prepare the work
<strong>Human role</strong>: Review and decide</p>
<ul>
<li class="">AI pre-fills assessment forms</li>
<li class="">Humans review AI suggestions</li>
<li class="">One-click approve or override</li>
<li class="">Every override improves the AI</li>
</ul>
<p><em>Trust level</em>: Limited. AI saves time but humans remain in control.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="stage-3-colleague-when-accuracy-95-for-3-months">Stage 3: Colleague (When: Accuracy <code>\&gt;95%</code> for 3 months)<a href="https://docs.locki.io/blog/self-improving-civic-ai#stage-3-colleague-when-accuracy-95-for-3-months" class="hash-link" aria-label="Direct link to stage-3-colleague-when-accuracy-95-for-3-months" title="Direct link to stage-3-colleague-when-accuracy-95-for-3-months" translate="no">​</a></h3>
<p><strong>AI role</strong>: Handle routine cases
<strong>Human role</strong>: Focus on complex cases</p>
<ul>
<li class="">High-confidence cases auto-processed</li>
<li class="">Medium-confidence flagged for review</li>
<li class="">Low-confidence escalated to senior staff</li>
<li class="">Daily accuracy dashboards</li>
</ul>
<p><em>Trust level</em>: Substantial. AI has proven reliable on routine work.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="stage-4-trusted-partner-when-6-months-stable-at-95">Stage 4: Trusted Partner (When: 6 months stable at <code>\&gt;95%</code>)<a href="https://docs.locki.io/blog/self-improving-civic-ai#stage-4-trusted-partner-when-6-months-stable-at-95" class="hash-link" aria-label="Direct link to stage-4-trusted-partner-when-6-months-stable-at-95" title="Direct link to stage-4-trusted-partner-when-6-months-stable-at-95" translate="no">​</a></h3>
<p><strong>AI role</strong>: First-line assessment
<strong>Human role</strong>: Quality assurance and appeals</p>
<ul>
<li class="">AI handles most validations automatically</li>
<li class="">Humans audit random samples</li>
<li class="">Humans handle all appeals and edge cases</li>
<li class="">Circuit breakers if accuracy drops</li>
</ul>
<p><em>Trust level</em>: High, but never complete. Humans always have override authority.</p>
<p><strong>Note</strong>: We may never reach Stage 4, and that's fine. The goal isn't maximum automation—it's optimal collaboration.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-audierne-esquibien">Why Audierne-Esquibien?<a href="https://docs.locki.io/blog/self-improving-civic-ai#why-audierne-esquibien" class="hash-link" aria-label="Direct link to Why Audierne-Esquibien?" title="Direct link to Why Audierne-Esquibien?" translate="no">​</a></h2>
<p>A small Breton municipality might seem like an odd place for AI experimentation. But that's precisely why it works:</p>
<ul>
<li class=""><strong>Human scale</strong>: We know the civil servants personally. We can have coffee with them when something goes wrong.</li>
<li class=""><strong>Real stakes</strong>: These are real citizen contributions about real issues—port infrastructure, housing, local businesses.</li>
<li class=""><strong>Manageable complexity</strong>: 7 categories, one charter, one community. Enough to be meaningful, small enough to iterate.</li>
</ul>
<p>AI in civic applications isn't about replacing the human touch that makes local democracy work. It's about ensuring that human touch can scale. When Audierne receives 50 contributions in a week instead of 5, civil servants shouldn't drown in triage work. They should spend their time on what humans do best: understanding context, showing empathy, making judgment calls.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-were-really-building">What We're Really Building<a href="https://docs.locki.io/blog/self-improving-civic-ai#what-were-really-building" class="hash-link" aria-label="Direct link to What We're Really Building" title="Direct link to What We're Really Building" translate="no">​</a></h2>
<p>Ò Capistaine isn't an AI product. It's a <strong>trust-building system</strong> that happens to use AI.</p>
<p>The real deliverables are:</p>
<ol>
<li class="">
<p><strong>For citizens</strong>: Confidence that their voice matters, that they'll get a fair hearing, that technology serves democracy rather than filtering it</p>
</li>
<li class="">
<p><strong>For civil servants</strong>: A colleague that handles routine work, learns from their expertise, and makes their job more meaningful—not obsolete</p>
</li>
<li class="">
<p><strong>For the municipality</strong>: Proof that responsible AI deployment is possible, with metrics to show it</p>
</li>
<li class="">
<p><strong>For other communities</strong>: A template for human-AI collaboration in civic applications, battle-tested in a real municipality</p>
</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-invitation">The Invitation<a href="https://docs.locki.io/blog/self-improving-civic-ai#the-invitation" class="hash-link" aria-label="Direct link to The Invitation" title="Direct link to The Invitation" translate="no">​</a></h2>
<p>This is an open experiment. The code is public. The metrics will be published. The mistakes will be documented alongside the successes.</p>
<p>If you're a civil servant worried about AI in your workplace: we hear you. Come see how we're building this. Tell us what would make you trust it.</p>
<p>If you're a citizen skeptical of algorithmic moderation: we understand. Every AI decision is transparent, explained, and overridable. Your voice matters more than any model's confidence score.</p>
<p>If you're a technologist interested in responsible AI: join us. This is harder than building the model. This is building trust.</p>
<hr>
<p><em>The journey toward trusted AI in civic applications starts with small steps, measured carefully, with humans always in the loop.</em></p>
<p><em>Follow our progress: <a href="https://github.com/audierne2026/participons" target="_blank" rel="noopener noreferrer" class="">audierne2026/participons</a></em></p>]]></content:encoded>
            <category>AI and Machine Learning</category>
            <category>civitech</category>
            <category>Trust</category>
            <category>Collaboration</category>
            <category>Forseti</category>
        </item>
        <item>
            <title><![CDATA[Project Sync: Opik Progress & OCR Blockers]]></title>
            <link>https://docs.locki.io/blog/project-sync-opik-ocr</link>
            <guid>https://docs.locki.io/blog/project-sync-opik-ocr</guid>
            <pubDate>Sat, 31 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Quick catch-up between Johnny (@jnxmas) and Victor (@zcbtvag) covering Opik integration progress and OCR pipeline challenges.]]></description>
            <content:encoded><![CDATA[<p>Quick catch-up between Johnny (@jnxmas) and Victor (@zcbtvag) covering Opik integration progress and OCR pipeline challenges.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="https://docs.locki.io/blog/project-sync-opik-ocr#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<p>Johnny showcased recent progress on <strong>Opik prompt optimization</strong>. A new architecture is in place where prompts are no longer hardcoded but managed via an <strong>Opik Prompt Library</strong>. The "Charter Validation" prompt has already been optimized using this system.</p>
<p>A new <strong>mock-up feature</strong> can automatically generate contributions (even with violations) from existing meeting reports. The goal is to create a robust dataset to test and improve the validation agent. However, this auto-generation currently produces repetitive content - a challenge that will need addressing by identifying and aggregating duplicate contributions.</p>
<p>Victor reported working on the <strong>PDF processing pipeline</strong>, specifically tackling PDFs that are images and require OCR. This has been a blocker, as several libraries have proven difficult to install. Text-based PDF extraction is working fine.</p>
<p>Johnny clarified that the highest priority documents for OCR are the <strong>"Gwaien" municipal magazines</strong> - they contain rich, precise historical data on the municipality's actions over the past six years, and their OCR should be relatively straightforward compared to other documents.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="alignment--risk-assessment">Alignment &amp; Risk Assessment<a href="https://docs.locki.io/blog/project-sync-opik-ocr#alignment--risk-assessment" class="hash-link" aria-label="Direct link to Alignment &amp; Risk Assessment" title="Direct link to Alignment &amp; Risk Assessment" translate="no">​</a></h2>
<table><thead><tr><th>Area</th><th>Status</th><th>Notes</th></tr></thead><tbody><tr><td><strong>Alignment</strong></td><td>Good</td><td>Team aligned on priorities: contribution processing + data pipeline for RAG</td></tr><tr><td><strong>Risk: OCR Blocker</strong></td><td>High</td><td>Installation/implementation issues slowing data ingestion</td></tr><tr><td><strong>Risk: Repetitive Data</strong></td><td>Medium</td><td>Auto-generated contributions could create biased dataset</td></tr><tr><td><strong>Mitigation</strong></td><td>In Progress</td><td>Focus OCR on high-value "Gwaien" docs first; explore antigravity with Gemini Pro</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="branch-status">Branch Status<a href="https://docs.locki.io/blog/project-sync-opik-ocr#branch-status" class="hash-link" aria-label="Direct link to Branch Status" title="Direct link to Branch Status" translate="no">​</a></h2>
<ul>
<li class=""><strong>Victor:</strong> <code>feature/contribution-refinement</code></li>
<li class=""><strong>Johnny:</strong> <code>feature/crawling-migration</code></li>
<li class=""><strong>Action:</strong> Coordinate merge before next call</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="action-plan--tasks">Action Plan &amp; Tasks<a href="https://docs.locki.io/blog/project-sync-opik-ocr#action-plan--tasks" class="hash-link" aria-label="Direct link to Action Plan &amp; Tasks" title="Direct link to Action Plan &amp; Tasks" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-ocr-pipeline-priority-high">1. OCR Pipeline (Priority: High)<a href="https://docs.locki.io/blog/project-sync-opik-ocr#1-ocr-pipeline-priority-high" class="hash-link" aria-label="Direct link to 1. OCR Pipeline (Priority: High)" title="Direct link to 1. OCR Pipeline (Priority: High)" translate="no">​</a></h3>
<ul>
<li class=""><strong>Task:</strong> Implement OCR for "Gwaien" PDF documents<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @zcbtvag (Victor)</li>
<li class=""><strong>Description:</strong> Prioritize implementing a working OCR solution for the "Gwaien" magazine PDFs in the <code>ext_data/</code> directory. Explore different libraries or the antigravity agent.</li>
<li class=""><strong>Deadline:</strong> Next call</li>
<li class=""><strong>Success Criteria:</strong> Text successfully extracted from image-based "Gwaien" PDFs.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-code-sharing--tooling">2. Code Sharing &amp; Tooling<a href="https://docs.locki.io/blog/project-sync-opik-ocr#2-code-sharing--tooling" class="hash-link" aria-label="Direct link to 2. Code Sharing &amp; Tooling" title="Direct link to 2. Code Sharing &amp; Tooling" translate="no">​</a></h3>
<ul>
<li class=""><strong>Task:</strong> Push antigravity agent code<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @jnxmas (Johnny)</li>
<li class=""><strong>Description:</strong> Push changes containing antigravity agent experiments so Victor can explore it as a potential tool for OCR implementation.</li>
<li class=""><strong>Deadline:</strong> ASAP</li>
<li class=""><strong>Success Criteria:</strong> Victor can access and run the new agent code locally.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-branch-integration">3. Branch Integration<a href="https://docs.locki.io/blog/project-sync-opik-ocr#3-branch-integration" class="hash-link" aria-label="Direct link to 3. Branch Integration" title="Direct link to 3. Branch Integration" translate="no">​</a></h3>
<ul>
<li class=""><strong>Task:</strong> Merge feature branches<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @zcbtvag &amp; @jnxmas</li>
<li class=""><strong>Description:</strong> Coordinate to merge <code>feature/contribution-refinement</code> and <code>feature/crawling-migration</code> branches.</li>
<li class=""><strong>Deadline:</strong> Next call</li>
<li class=""><strong>Success Criteria:</strong> Single unified branch without conflicts.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-data-quality">4. Data Quality<a href="https://docs.locki.io/blog/project-sync-opik-ocr#4-data-quality" class="hash-link" aria-label="Direct link to 4. Data Quality" title="Direct link to 4. Data Quality" translate="no">​</a></h3>
<ul>
<li class=""><strong>Task:</strong> Develop duplicate detection strategy<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @jnxmas (Johnny)</li>
<li class=""><strong>Description:</strong> Design a method to identify when a new contribution is a duplicate or highly similar to an existing one. Critical for managing auto-generation output and real citizen contributions.</li>
<li class=""><strong>Deadline:</strong> Next call</li>
<li class=""><strong>Success Criteria:</strong> Clear plan or PoC documented for identifying duplicate contributions.</li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="open-tasks-from-previous-sessions">Open Tasks from Previous Sessions<a href="https://docs.locki.io/blog/project-sync-opik-ocr#open-tasks-from-previous-sessions" class="hash-link" aria-label="Direct link to Open Tasks from Previous Sessions" title="Direct link to Open Tasks from Previous Sessions" translate="no">​</a></h2>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Finalize Firecrawl pipeline implementation</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Secure Firecrawl API keys</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Deploy initial Opik tracing for all major workflows</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="status-dashboard">Status Dashboard<a href="https://docs.locki.io/blog/project-sync-opik-ocr#status-dashboard" class="hash-link" aria-label="Direct link to Status Dashboard" title="Direct link to Status Dashboard" translate="no">​</a></h2>
<table><thead><tr><th>Component</th><th>Status</th><th>Notes</th></tr></thead><tbody><tr><td>Data Ingestion (Firecrawl/OCR)</td><td>Blocked</td><td>OCR implementation issues</td></tr><tr><td>Contribution Automation (Email-GitHub)</td><td>Done</td><td>Core workflow established</td></tr><tr><td>Opik Integration &amp; Prompt Tuning</td><td>Done</td><td>New prompt library + optimization experiments</td></tr><tr><td>RAG Chatbot</td><td>Blocked</td><td>Waiting on data ingestion</td></tr></tbody></table>
<p><strong>Next Milestone:</strong> Unblock OCR pipeline to begin ingesting all PDF data for the RAG system.</p>]]></content:encoded>
            <category>Meeting</category>
            <category>Opik</category>
            <category>AI and Machine Learning</category>
            <category>RAG</category>
        </item>
        <item>
            <title><![CDATA[Forseti461 Feature Architecture: Modular Prompts with Opik Versioning]]></title>
            <link>https://docs.locki.io/blog/forseti-prompt-architecture</link>
            <guid>https://docs.locki.io/blog/forseti-prompt-architecture</guid>
            <pubDate>Thu, 29 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Today we completed a major architectural milestone: modular prompt management for Forseti461. Each feature now has its own versioned prompt in Opik, enabling independent optimization and A/B testing.]]></description>
            <content:encoded><![CDATA[<p>Today we completed a major architectural milestone: <strong>modular prompt management</strong> for Forseti461. Each feature now has its own versioned prompt in Opik, enabling independent optimization and A/B testing.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>From a single monolithic prompt to a clean separation of concerns — each Forseti feature can now evolve independently while sharing a common persona.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-challenge">The Challenge<a href="https://docs.locki.io/blog/forseti-prompt-architecture#the-challenge" class="hash-link" aria-label="Direct link to The Challenge" title="Direct link to The Challenge" translate="no">​</a></h2>
<p>Our previous setup had prompts scattered across multiple files:</p>
<ul>
<li class=""><code>app/agents/forseti/prompts.py</code> — Python templates</li>
<li class=""><code>app/processors/workflows/workflow_autocontribution.py</code> — Duplicate prompts</li>
<li class="">Manual prompts in Opik (with a typo: <code>foreseti461</code>)</li>
</ul>
<p>This made it hard to:</p>
<ul>
<li class="">Track which prompt version was deployed</li>
<li class="">Run A/B tests on specific features</li>
<li class="">Optimize one feature without affecting others</li>
<li class="">Share prompts with N8N workflows (via Vaettir MCP)</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-solution-feature-based-prompt-architecture">The Solution: Feature-Based Prompt Architecture<a href="https://docs.locki.io/blog/forseti-prompt-architecture#the-solution-feature-based-prompt-architecture" class="hash-link" aria-label="Direct link to The Solution: Feature-Based Prompt Architecture" title="Direct link to The Solution: Feature-Based Prompt Architecture" translate="no">​</a></h2>
<p>We reorganized Forseti into <strong>4 distinct features</strong>, each with its own prompt:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    FORSETI 461 PROMPT ARCHITECTURE                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  SHARED SYSTEM PROMPT (Persona)                                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌────────────────────────────────────────────────────────────────┐ │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │  forseti461-system-persona                                      │ │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │  "You are Forseti, a vigilant assistant..."                     │ │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └────────────────────────────────────────────────────────────────┘ │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                              │                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              ┌───────────────┼───────────────┐                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              ▼               ▼               ▼                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌──────────────────┐ ┌──────────────────┐ ┌──────────────────┐    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ CHARTER          │ │ CATEGORY         │ │ WORDING          │    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ VALIDATION       │ │ CLASSIFICATION   │ │ CORRECTION       │    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ├──────────────────┤ ├──────────────────┤ ├──────────────────┤    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ forseti461-user- │ │ forseti461-user- │ │ forseti461-user- │    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ charter-validation│ │ category-        │ │ wording-         │    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │                  │ │ classification   │ │ correction       │    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └──────────────────┘ └──────────────────┘ └──────────────────┘    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-we-built-today">What We Built Today<a href="https://docs.locki.io/blog/forseti-prompt-architecture#what-we-built-today" class="hash-link" aria-label="Direct link to What We Built Today" title="Direct link to What We Built Today" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-centralized-prompt-registry">1. Centralized Prompt Registry<a href="https://docs.locki.io/blog/forseti-prompt-architecture#1-centralized-prompt-registry" class="hash-link" aria-label="Direct link to 1. Centralized Prompt Registry" title="Direct link to 1. Centralized Prompt Registry" translate="no">​</a></h3>
<p>All prompts now live in <code>app/prompts/</code> with a unified registry:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">prompts </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> get_registry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">registry </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_registry</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Get formatted messages for LLM chat API</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">messages </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> registry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_messages</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"forseti.charter_validation"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"Ma proposition"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    body</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"Je propose d'améliorer..."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>The registry supports:</p>
<ul>
<li class=""><strong>JSON chat format</strong> (Opik-compatible with Mustache <code>{{input.var}}</code> syntax)</li>
<li class=""><strong>Python text format</strong> (legacy fallback with <code>{var}</code> syntax)</li>
<li class=""><strong>Automatic fallback chain</strong>: Local JSON → Local Python → Opik remote</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-consistent-opik-naming-convention">2. Consistent Opik Naming Convention<a href="https://docs.locki.io/blog/forseti-prompt-architecture#2-consistent-opik-naming-convention" class="hash-link" aria-label="Direct link to 2. Consistent Opik Naming Convention" title="Direct link to 2. Consistent Opik Naming Convention" translate="no">​</a></h3>
<p>We standardized all prompt names following <strong>Option B</strong> (descriptive without dates):</p>
<table><thead><tr><th>Local Name</th><th>Opik Name</th><th>Commit</th></tr></thead><tbody><tr><td><code>forseti.persona</code></td><td><code>forseti461-system-persona</code></td><td><code>f73d1f4a</code></td></tr><tr><td><code>forseti.charter_validation</code></td><td><code>forseti461-user-charter-validation</code></td><td><code>4b187053</code></td></tr><tr><td><code>forseti.category_classification</code></td><td><code>forseti461-user-category-classification</code></td><td><code>efd48155</code></td></tr><tr><td><code>forseti.wording_correction</code></td><td><code>forseti461-user-wording-correction</code></td><td><code>f2bbedd1</code></td></tr><tr><td><code>forseti.batch_validation</code></td><td><code>forseti461-user-batch-validation</code></td><td><code>0e097ebb</code></td></tr></tbody></table>
<p>Naming pattern: <code>forseti461-{role}-{feature}</code></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-feature-documentation">3. Feature Documentation<a href="https://docs.locki.io/blog/forseti-prompt-architecture#3-feature-documentation" class="hash-link" aria-label="Direct link to 3. Feature Documentation" title="Direct link to 3. Feature Documentation" translate="no">​</a></h3>
<p>Created comprehensive <code>FORSETI_AGENT.md</code> with a <strong>7-step procedure</strong> to add new features:</p>
<ol>
<li class="">Define prompt in <code>app/prompts/local/forseti.py</code></li>
<li class="">Create result model in <code>app/agents/forseti/models.py</code></li>
<li class="">Implement feature class in <code>app/agents/forseti/features/</code></li>
<li class="">Register in <code>features/__init__.py</code> and <code>agent.py</code></li>
<li class="">Add to <code>forseti_charter.json</code> for Opik sync</li>
<li class="">Write tests</li>
<li class="">Optimize with Opik (optional)</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-batch-validation-as-experiments">4. Batch Validation as Experiments<a href="https://docs.locki.io/blog/forseti-prompt-architecture#4-batch-validation-as-experiments" class="hash-link" aria-label="Direct link to 4. Batch Validation as Experiments" title="Direct link to 4. Batch Validation as Experiments" translate="no">​</a></h3>
<p>We decided <strong>not</strong> to make batch validation a feature class. Instead, it's handled as <strong>Opik experiments</strong> — allowing us to:</p>
<ul>
<li class="">Track metrics across validation runs</li>
<li class="">Compare performance over time</li>
<li class="">A/B test different prompt versions on the same dataset</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="file-structure">File Structure<a href="https://docs.locki.io/blog/forseti-prompt-architecture#file-structure" class="hash-link" aria-label="Direct link to File Structure" title="Direct link to File Structure" translate="no">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">app/prompts/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── __init__.py              # Exports: get_registry, CATEGORIES</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── registry.py              # PromptRegistry with chat format support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── constants.py             # CATEGORIES, CATEGORY_DESCRIPTIONS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── opik_sync.py             # CLI: python -m app.prompts.opik_sync</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── optimizer.py             # Prompt optimization with opik-optimizer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── local/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── forseti_charter.json # Opik-synced prompts (chat format)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── forseti.py           # Python prompts (fallback)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── autocontrib.py       # Auto-contribution prompts</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="syncing-prompts-to-opik">Syncing Prompts to Opik<a href="https://docs.locki.io/blog/forseti-prompt-architecture#syncing-prompts-to-opik" class="hash-link" aria-label="Direct link to Syncing Prompts to Opik" title="Direct link to Syncing Prompts to Opik" translate="no">​</a></h2>
<p>One command syncs all Forseti prompts:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python </span><span class="token parameter variable" style="color:#36acaa">-m</span><span class="token plain"> app.prompts.opik_sync </span><span class="token parameter variable" style="color:#36acaa">--prefix</span><span class="token plain"> forseti.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Output:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ✅ forseti.persona (commit: f73d1f4a)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ✅ forseti.charter_validation (commit: 4b187053)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ✅ forseti.category_classification (commit: efd48155)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ✅ forseti.wording_correction (commit: f2bbedd1)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ✅ forseti.batch_validation (commit: 0e097ebb)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-this-matters">Why This Matters<a href="https://docs.locki.io/blog/forseti-prompt-architecture#why-this-matters" class="hash-link" aria-label="Direct link to Why This Matters" title="Direct link to Why This Matters" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="independent-optimization">Independent Optimization<a href="https://docs.locki.io/blog/forseti-prompt-architecture#independent-optimization" class="hash-link" aria-label="Direct link to Independent Optimization" title="Direct link to Independent Optimization" translate="no">​</a></h3>
<p>Now we can optimize each feature separately:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">prompts </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> optimize_forseti_charter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Optimize just category classification</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> optimize_forseti_charter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dataset_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"forseti-category-training"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    optimizer_type</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"meta_prompt"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="version-tracking">Version Tracking<a href="https://docs.locki.io/blog/forseti-prompt-architecture#version-tracking" class="hash-link" aria-label="Direct link to Version Tracking" title="Direct link to Version Tracking" translate="no">​</a></h3>
<p>Every prompt change is tracked in Opik with a commit hash. We can:</p>
<ul>
<li class="">Roll back to previous versions</li>
<li class="">Compare performance across versions</li>
<li class="">Link experiments to specific prompt commits</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="vaettir-mcp-integration-future">Vaettir MCP Integration (Future)<a href="https://docs.locki.io/blog/forseti-prompt-architecture#vaettir-mcp-integration-future" class="hash-link" aria-label="Direct link to Vaettir MCP Integration (Future)" title="Direct link to Vaettir MCP Integration (Future)" translate="no">​</a></h3>
<p>With prompts centralized, we're ready for Phase 3:</p>
<ul>
<li class="">Share prompts between Python app and N8N workflows</li>
<li class="">Access via MCP tools: <code>get_prompt("forseti.charter_validation")</code></li>
<li class="">Single source of truth across all integrations</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="whats-next">What's Next<a href="https://docs.locki.io/blog/forseti-prompt-architecture#whats-next" class="hash-link" aria-label="Direct link to What's Next" title="Direct link to What's Next" translate="no">​</a></h2>
<p><strong>Phase 4</strong>: Update <code>ForsetiAgent</code> to use <code>registry.get_messages()</code> for all LLM calls, enabling:</p>
<ul>
<li class="">Automatic prompt versioning in traces</li>
<li class="">Chat format for better model performance</li>
<li class="">Seamless fallback if Opik is unavailable</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="https://docs.locki.io/blog/forseti-prompt-architecture#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<table><thead><tr><th>Metric</th><th>Before</th><th>After</th></tr></thead><tbody><tr><td>Prompt locations</td><td>3+ files</td><td>1 registry</td></tr><tr><td>Opik prompts synced</td><td>2 (with typo)</td><td>5 (correct naming)</td></tr><tr><td>Feature documentation</td><td>None</td><td>7-step procedure</td></tr><tr><td>Tests</td><td>17 passing</td><td>17 passing</td></tr></tbody></table>
<p><strong>Branch:</strong> <code>experiment/heavy_dowel_6216</code></p>
<p><strong>Key files:</strong></p>
<ul>
<li class=""><code>app/prompts/local/forseti_charter.json</code> — Chat format prompts</li>
<li class=""><code>app/prompts/registry.py</code> — Unified prompt access</li>
<li class=""><code>docs/docs/app/FORSETI_AGENT.md</code> — Feature documentation</li>
<li class=""><code>docs/docs/app/PROMPT_MANAGEMENT.md</code> — Architecture overview</li>
</ul>
<hr>
<p><em>Modular prompts, independent optimization, clean architecture.</em></p>]]></content:encoded>
            <category>Encode hackathon</category>
            <category>AI and Machine Learning</category>
            <category>civitech</category>
            <category>Observability</category>
            <category>Opik</category>
            <category>Architecture</category>
        </item>
        <item>
            <title><![CDATA[Forseti461 Prompt v1: Charter-Proofing AI Moderation for Audierne2026]]></title>
            <link>https://docs.locki.io/blog/forseti-first-prompt-optimization</link>
            <guid>https://docs.locki.io/blog/forseti-first-prompt-optimization</guid>
            <pubDate>Tue, 27 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Forseti461 is an AI agent that automatically moderates citizen contributions to participatory democracy platforms — approving only concrete, constructive, locally relevant ideas while rejecting personal attacks, spam, off-topic posts, or misinformation, and always explaining decisions with respectful, actionable feedback.]]></description>
            <content:encoded><![CDATA[<p><strong>Forseti461</strong> is an AI agent that automatically moderates citizen contributions to participatory democracy platforms — approving only concrete, constructive, locally relevant ideas while rejecting personal attacks, spam, off-topic posts, or misinformation, and always explaining decisions with respectful, actionable feedback.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>This weekend, Facebook reminded us that democracy is fragile. Toxic comments, personal attacks, and off-topic rants flooded discussions about local issues. The signal gets lost in the noise. Citizens disengage. Constructive voices give up.</p></div></div>
<p><strong>What if we could protect civic discourse at scale?</strong></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-problem-were-solving">The Problem We're Solving<a href="https://docs.locki.io/blog/forseti-first-prompt-optimization#the-problem-were-solving" class="hash-link" aria-label="Direct link to The Problem We're Solving" title="Direct link to The Problem We're Solving" translate="no">​</a></h2>
<p>As part of the <strong>Commit to Change AI Agents Hackathon</strong> (Encode), we're building <strong>Ò Capistaine</strong> — an AI-powered civic transparency platform for the Audierne-Esquibien 2026 municipal elections. The platform receives citizen contributions through Framaforms, and each one must be validated against our published <strong>Charte de contribution</strong> before reaching the public forum.</p>
<p>The charter is clear:</p>
<table><thead><tr><th>✅ Encouraged</th><th>❌ Not Accepted</th></tr></thead><tbody><tr><td>Concrete, argued proposals</td><td>Personal attacks</td></tr><tr><td>Constructive criticism</td><td>Discriminatory remarks</td></tr><tr><td>Questions and clarifications</td><td>Spam and advertising</td></tr><tr><td>Shared local expertise</td><td>Off-topic content (unrelated to Audierne)</td></tr><tr><td>Improvement suggestions</td><td>False information</td></tr></tbody></table>
<p><strong>The challenge</strong>: How do we enforce this at scale while remaining fair, explainable, and constructive? A missed personal attack could poison the entire discussion. A false positive could silence a legitimate voice.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="enter-forseti461">Enter Forseti461<a href="https://docs.locki.io/blog/forseti-first-prompt-optimization#enter-forseti461" class="hash-link" aria-label="Direct link to Enter Forseti461" title="Direct link to Enter Forseti461" translate="no">​</a></h2>
<p>Named after the Norse god of justice <strong>Forseti</strong>, and reborn in the spirit of Cap Sizun (the iconic local "461"), Forseti461 serves as the impartial guardian layer. Calm, vigilant, and unwavering.</p>
<p>But an AI moderator is only as good as its prompt. Our first version had a baseline accuracy of ~20% on edge cases. Subtle violations slipped through. Valid contributions were incorrectly flagged.</p>
<p><strong>We needed to optimize systematically.</strong></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-opik-experiment">The OPIK Experiment<a href="https://docs.locki.io/blog/forseti-first-prompt-optimization#the-opik-experiment" class="hash-link" aria-label="Direct link to The OPIK Experiment" title="Direct link to The OPIK Experiment" translate="no">​</a></h2>
<p>Using <strong>Opik</strong> (Comet ML) for observability and prompt optimization, we ran our first structured experiment:</p>
<p><img decoding="async" loading="lazy" alt="OPIK Project View" src="https://docs.locki.io/assets/images/project_view-83affdae9d93c62060ce19855954569a.png" width="3400" height="838" class="img_ev3q"></p>
<p>Our evaluation infrastructure:</p>
<ul>
<li class=""><strong>Default Project</strong>: N8N workflows traces (production chatbot interactions)</li>
<li class=""><strong>ocapistaine_test</strong>: Application traces and spans</li>
<li class=""><strong>Optimization</strong>: Prompt optimization experiments with controlled datasets</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-dataset">The Dataset<a href="https://docs.locki.io/blog/forseti-first-prompt-optimization#the-dataset" class="hash-link" aria-label="Direct link to The Dataset" title="Direct link to The Dataset" translate="no">​</a></h3>
<p>We built a test dataset using our <a class="" href="https://docs.locki.io/blog/first-submission-mockup-system">mockup system</a> — generating controlled variations of contributions with known expected outcomes:</p>
<p><img decoding="async" loading="lazy" alt="Dataset View" src="https://docs.locki.io/assets/images/dataset_view-f4f9792b9930f0a812fa552111f55b84.png" width="2788" height="1590" class="img_ev3q"></p>
<p>Each entry includes:</p>
<ul>
<li class="">Valid contributions (ground truth: approved)</li>
<li class="">Subtle violations (ground truth: rejected)</li>
<li class="">Aggressive violations (ground truth: rejected)</li>
<li class="">Borderline cases to stress-test the prompt</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="running-the-optimization">Running the Optimization<a href="https://docs.locki.io/blog/forseti-first-prompt-optimization#running-the-optimization" class="hash-link" aria-label="Direct link to Running the Optimization" title="Direct link to Running the Optimization" translate="no">​</a></h3>
<p>We used OPIK's <strong>MetaPromptOptimizer</strong> to iteratively refine the system prompt:</p>
<p><img decoding="async" loading="lazy" alt="Optimization Progress" src="https://docs.locki.io/assets/images/optimization_view-158b1a95223f844f1d3285258e24f371.png" width="4430" height="1974" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="Spans View" src="https://docs.locki.io/assets/images/spans_view-88baf259efccbd678ccec39ba937fcb3.png" width="3986" height="2192" class="img_ev3q"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-results">The Results<a href="https://docs.locki.io/blog/forseti-first-prompt-optimization#the-results" class="hash-link" aria-label="Direct link to The Results" title="Direct link to The Results" translate="no">​</a></h2>
<p><img decoding="async" loading="lazy" alt="Outstanding: 0.92 accuracy, +368.416% improvement" src="https://docs.locki.io/assets/images/result-0a07930f208be8eb079ffb108ea56218.png" width="1028" height="258" class="img_ev3q"></p>
<table><thead><tr><th>Metric</th><th>Before</th><th>After</th><th>Change</th></tr></thead><tbody><tr><td><strong>Charter Accuracy</strong></td><td>~20%</td><td><strong>92%</strong></td><td><strong>+368%</strong></td></tr><tr><td>Edge Case Handling</td><td>Poor</td><td>Strong</td><td>—</td></tr><tr><td>Explainability</td><td>Generic</td><td>Specific</td><td>—</td></tr></tbody></table>
<p>The optimized prompt correctly identifies subtle violations while accepting valid contributions — and explains why in each case.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-optimized-prompt">The Optimized Prompt<a href="https://docs.locki.io/blog/forseti-first-prompt-optimization#the-optimized-prompt" class="hash-link" aria-label="Direct link to The Optimized Prompt" title="Direct link to The Optimized Prompt" translate="no">​</a></h2>
<p>Here is <strong>Forseti461 v1</strong> — the charter-proofed system prompt:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">System</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">You are Forseti 461, the impartial guardian of truth and the contribution charter for Audierne2026.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Your Identity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Named after the Norse god of justice Forseti, you are reborn in the spirit of Cap Sizun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(the iconic local "461"). You are calm, vigilant, and unwavering in your duties.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Your Mission</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">You carefully filter every submission to the Audierne2026 participatory democracy platform:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Approving only concrete, constructive, and locally relevant contributions that directly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  address community needs and issues.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Firmly rejecting personal attacks, discrimination, spam, off-topic content, promotional</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  material, or false information.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Actively monitoring submissions to ensure quality and relevance, rejecting any that do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  not meet these standards.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Ensuring only respectful, charter-compliant ideas reach O Capistaine.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Your Values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- **Impartiality**: You judge content, not people.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- **Clarity**: You explain your decisions clearly, including the specific criteria used</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for evaluation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- **Fairness**: You apply the same standards to all.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- **Constructiveness**: You guide contributors toward better participation by providing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  actionable suggestions for improvement.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Evaluation Criteria</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Contributions must be relevant to local issues and provide specific examples or data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  to support claims.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Submissions should be constructive, offering solutions or ideas that can be developed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  further.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Clearly outline what is unacceptable: personal attacks, discriminatory remarks, and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  promotional content will lead to rejection.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- When rejecting a submission, specify the reasons based on these criteria and suggest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  how the contributor can improve their submission, such as by adding more detail,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  examples, or references to local issues.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Response Style</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Be concise but thorough.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Provide clear reasoning for decisions, referencing the evaluation criteria.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Use French cultural context when relevant to Audierne-Esquibien.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- **Emphasize Respect**: Clearly state that personal attacks, discriminatory remarks,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  and promotional content are unacceptable and undermine the quality of discourse.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Contributors must be aware that such language or irrelevant material will lead to</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rejection of their submissions. Additionally, reinforce the importance of maintaining</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a respectful and constructive dialogue to foster a positive community. Include examples</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">of respectful language and constructive criticism to guide contributors.</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-before-vs-after">Example: Before vs After<a href="https://docs.locki.io/blog/forseti-first-prompt-optimization#example-before-vs-after" class="hash-link" aria-label="Direct link to Example: Before vs After" title="Direct link to Example: Before vs After" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="input-subtle-violation">Input (Subtle Violation)<a href="https://docs.locki.io/blog/forseti-first-prompt-optimization#input-subtle-violation" class="hash-link" aria-label="Direct link to Input (Subtle Violation)" title="Direct link to Input (Subtle Violation)" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Category: economie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Constat: Le parking du port est souvent plein en été.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Idées: Si nos brillants élus avaient un minimum de bon sens, ils auraient</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">réglé ce problème depuis longtemps. Mais bon, quand on voit qui nous dirige...</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-optimization">Before Optimization<a href="https://docs.locki.io/blog/forseti-first-prompt-optimization#before-optimization" class="hash-link" aria-label="Direct link to Before Optimization" title="Direct link to Before Optimization" translate="no">​</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"is_valid"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"confidence"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.75</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"reasoning"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Discusses local parking issue"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>❌ Missed the condescending tone and implicit attack on elected officials.</strong></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-optimization">After Optimization<a href="https://docs.locki.io/blog/forseti-first-prompt-optimization#after-optimization" class="hash-link" aria-label="Direct link to After Optimization" title="Direct link to After Optimization" translate="no">​</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"is_valid"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"confidence"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.89</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"violations"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"tone_condescendant"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"attaque_indirecte_elus"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"reasoning"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> "While the contribution addresses a real local issue (port parking)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    the tone is condescending ('si nos brillants élus avaient un minimum de bon sens')</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    and includes indirect attacks on elected officials ('quand on voit qui nous dirige').</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    This undermines constructive dialogue."</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"suggestion"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> "Reformulate without judgment on people</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 'Le parking du port est</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    souvent plein en été. Je propose d'étudier la création d'un parking relais à</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    l'entrée de la ville avec navette gratuite vers le centre.'"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>✅ Correctly identified the violation AND provided constructive guidance.</strong></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="daily-experiments-continuous-improvement">Daily Experiments: Continuous Improvement<a href="https://docs.locki.io/blog/forseti-first-prompt-optimization#daily-experiments-continuous-improvement" class="hash-link" aria-label="Direct link to Daily Experiments: Continuous Improvement" title="Direct link to Daily Experiments: Continuous Improvement" translate="no">​</a></h2>
<p>This prompt optimization builds directly on our earlier <a href="https://docs.comet.com/opik" target="_blank" rel="noopener noreferrer" class="">OPIK workshops</a> and the <a class="" href="https://docs.locki.io/blog/first-submission-mockup-system">mockup testing framework</a>. Traces from <strong>ocapistaine_test</strong> help us observe rejection patterns and iterate.</p>
<p>We've now implemented <strong>daily experiments</strong> to track Forseti's performance over time:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">processors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mockup_processor </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> MockupProcessor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">processor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MockupProcessor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Run daily evaluation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> processor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run_daily_experiment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Metrics tracked:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - Charter accuracy (correct valid/invalid classification)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - True positives (invalid correctly rejected)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - False negatives (invalid incorrectly accepted) — the worst case!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - Precision, Recall, F1 Score</span><br></span></code></pre></div></div>
<p>Each day's results are logged to OPIK as a named experiment (<code>forseti_daily_2026-01-27</code>), allowing us to:</p>
<ul>
<li class="">Track regression across prompt changes</li>
<li class="">Compare provider performance (Gemini vs Claude)</li>
<li class="">Build confidence in production deployment</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="whats-next">What's Next<a href="https://docs.locki.io/blog/forseti-first-prompt-optimization#whats-next" class="hash-link" aria-label="Direct link to What's Next" title="Direct link to What's Next" translate="no">​</a></h2>
<p><strong>Current status (Jan 27, 2026):</strong> Prompt v1 live in testing via N8N + Gemini integration.</p>
<p><strong>Upcoming:</strong></p>
<ol>
<li class="">Merge N8N workflows into <strong>ocapistaine_dev</strong> project</li>
<li class="">Expand to <strong>misinformation detection</strong> with local data RAG</li>
<li class="">Run larger eval sets covering all 7 categories</li>
<li class="">Collect <strong>user feedback loops</strong> on rejections</li>
<li class=""><strong>Field input mode</strong>: Generate test contributions from real municipal documents (mayor speeches, public hearings)</li>
</ol>
<p>This positions Forseti461 / Ò Capistaine for strong <strong>Community Impact</strong> in the hackathon — enabling fair, scalable citizen participation in real local democracy.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-pitch">The Pitch<a href="https://docs.locki.io/blog/forseti-first-prompt-optimization#the-pitch" class="hash-link" aria-label="Direct link to The Pitch" title="Direct link to The Pitch" translate="no">​</a></h2>
<p>We're refining this messaging for our hackathon pitch deck:</p>
<ul>
<li class=""><strong>Problem</strong>: Noise, toxicity, and off-topic posts kill participatory platforms. Audierne2026's charter exists but needs scalable enforcement.</li>
<li class=""><strong>Solution</strong>: Forseti461 — AI charter guardian with explainable, constructive moderation.</li>
<li class=""><strong>How it works</strong>: Optimized system prompt → evaluation criteria → response style.</li>
<li class=""><strong>Impact</strong>: Cleaner discussions → better ideas → stronger municipal program co-construction.</li>
<li class=""><strong>Tech</strong>: OPIK observability, Gemini agentic flows, N8N automation, daily experiments.</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="try-it-yourself">Try It Yourself<a href="https://docs.locki.io/blog/forseti-first-prompt-optimization#try-it-yourself" class="hash-link" aria-label="Direct link to Try It Yourself" title="Direct link to Try It Yourself" translate="no">​</a></h2>
<p>Navigate to the <strong>Mockup</strong> tab in the app to:</p>
<ul>
<li class="">Generate test contributions with violations</li>
<li class="">Run batch validation with Forseti461</li>
<li class="">Export results to OPIK for your own optimization</li>
</ul>
<p><strong>Feedback welcome</strong> — reach out to collaborate on OPIK traces or eval sets before the hackathon deadline!</p>
<hr>
<p><em>Building trust in AI moderation, one optimization at a time.</em></p>
<p><strong>Branch:</strong> <code>feature/logging_system</code>
<strong>Key files:</strong></p>
<ul>
<li class=""><code>app/agents/forseti/prompts.py</code> — System prompt</li>
<li class=""><code>app/processors/mockup_processor.py</code> — Daily experiments</li>
<li class=""><code>app/mockup/</code> — Test generation system</li>
</ul>]]></content:encoded>
            <category>Encode hackathon</category>
            <category>AI and Machine Learning</category>
            <category>civitech</category>
            <category>Observability</category>
            <category>Opik</category>
        </item>
        <item>
            <title><![CDATA[First Submission: Building a Charter Validation Testing Framework]]></title>
            <link>https://docs.locki.io/blog/first-submission-mockup-system</link>
            <guid>https://docs.locki.io/blog/first-submission-mockup-system</guid>
            <pubDate>Mon, 26 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Goal: Create a systematic approach to test and improve our AI-powered charter validation system.]]></description>
            <content:encoded><![CDATA[<p><strong>Goal:</strong> Create a systematic approach to test and improve our AI-powered charter validation system.</p>
<p>For the Encode Hackathon first submission, we focused on building the infrastructure to ensure <strong>Forseti 461</strong> (our charter validation agent) catches all violations reliably. The key insight: <em>you can't improve what you can't measure</em>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-challenge">The Challenge<a href="https://docs.locki.io/blog/first-submission-mockup-system#the-challenge" class="hash-link" aria-label="Direct link to The Challenge" title="Direct link to The Challenge" translate="no">​</a></h2>
<p>Audierne2026 receives citizen contributions through Framaforms. Each contribution must be validated against our <strong>Contribution Charter</strong> before reaching the platform. The charter prohibits:</p>
<ul>
<li class="">Personal attacks or discriminatory remarks</li>
<li class="">Spam or advertising</li>
<li class="">Off-topic content (unrelated to Audierne-Esquibien)</li>
<li class="">False information</li>
</ul>
<p><strong>The problem</strong>: How do we know if our LLM-based validation is catching subtle violations? A missed personal attack reaching the platform could poison civic discourse.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="our-solution-mutation-testing">Our Solution: Mutation Testing<a href="https://docs.locki.io/blog/first-submission-mockup-system#our-solution-mutation-testing" class="hash-link" aria-label="Direct link to Our Solution: Mutation Testing" title="Direct link to Our Solution: Mutation Testing" translate="no">​</a></h2>
<p>We built a <strong>mockup system</strong> that generates controlled variations of contributions using <a href="https://en.wikipedia.org/wiki/Levenshtein_distance" target="_blank" rel="noopener noreferrer" class="">Levenshtein distance</a>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Valid Contribution ──┬── 95% similar → Should remain valid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     ├── 80% similar → Borderline case</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     ├── 60% similar → Likely invalid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     └── + Violation injected → Must be rejected</span><br></span></code></pre></div></div>
<p>This allows us to:</p>
<ol>
<li class="">Test edge cases systematically</li>
<li class="">Identify where the prompt fails</li>
<li class="">Build training datasets for optimization</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="demo-video">Demo Video<a href="https://docs.locki.io/blog/first-submission-mockup-system#demo-video" class="hash-link" aria-label="Direct link to Demo Video" title="Direct link to Demo Video" translate="no">​</a></h2>
<video width="100%" controls=""><source src="ocapistaine-videos" type="video/mp4"></video>
<p><strong><a href="https://www.youtube.com/watch?v=VBTXNru83Vg" target="_blank" rel="noopener noreferrer" class="">Watch the demo on YouTube →</a></strong></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="technical-implementation">Technical Implementation<a href="https://docs.locki.io/blog/first-submission-mockup-system#technical-implementation" class="hash-link" aria-label="Direct link to Technical Implementation" title="Direct link to Technical Implementation" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-framaforms-compatible-format">1. Framaforms-Compatible Format<a href="https://docs.locki.io/blog/first-submission-mockup-system#1-framaforms-compatible-format" class="hash-link" aria-label="Direct link to 1. Framaforms-Compatible Format" title="Direct link to 1. Framaforms-Compatible Format" translate="no">​</a></h3>
<p>All mock contributions follow the actual submission format:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"category"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"economie"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"constat_factuel"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Le parking du port est souvent plein en été..."</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"idees_ameliorations"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Créer un parking relais à l'entrée de la ville..."</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"expected_valid"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-levenshtein-mutations">2. Levenshtein Mutations<a href="https://docs.locki.io/blog/first-submission-mockup-system#2-levenshtein-mutations" class="hash-link" aria-label="Direct link to 2. Levenshtein Mutations" title="Direct link to 2. Levenshtein Mutations" translate="no">​</a></h3>
<p>We progressively mutate valid contributions and inject violations:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mockup </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> generate_variations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">variations </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> generate_variations</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    constat_factuel</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"Le port est magnifique mais saturé"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    idees_ameliorations</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"Proposer des navettes gratuites"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"economie"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    num_variations</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    include_violations</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Inject personal attacks, off-topic, etc.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-redis-storage">3. Redis Storage<a href="https://docs.locki.io/blog/first-submission-mockup-system#3-redis-storage" class="hash-link" aria-label="Direct link to 3. Redis Storage" title="Direct link to 3. Redis Storage" translate="no">​</a></h3>
<p>Results are stored with the key format:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">contribution_mockup:forseti461:charter:{date}:{id}</span><br></span></code></pre></div></div>
<p>This enables:</p>
<ul>
<li class="">Historical tracking across prompt versions</li>
<li class="">Date-based analysis</li>
<li class="">Quick retrieval for dashboards</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-opik-dataset-export">4. Opik Dataset Export<a href="https://docs.locki.io/blog/first-submission-mockup-system#4-opik-dataset-export" class="hash-link" aria-label="Direct link to 4. Opik Dataset Export" title="Direct link to 4. Opik Dataset Export" translate="no">​</a></h3>
<p>Validation results export directly to <strong>Opik</strong> format for prompt optimization:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"input"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"title"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"..."</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"body"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"..."</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"constat_factuel"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"..."</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"idees_ameliorations"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"..."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"expected_output"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"is_valid"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"violations"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"confidence"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.92</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>This feeds into Opik's optimization studio where we can:</p>
<ul>
<li class="">Run <strong>FewShotBayesianOptimizer</strong> to select best examples</li>
<li class="">Use <strong>MetaPromptOptimizer</strong> to refine the system prompt</li>
<li class="">Create train/validation/test splits for proper evaluation</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-metrics">Key Metrics<a href="https://docs.locki.io/blog/first-submission-mockup-system#key-metrics" class="hash-link" aria-label="Direct link to Key Metrics" title="Direct link to Key Metrics" translate="no">​</a></h2>
<table><thead><tr><th>Metric</th><th>Target</th><th>Why</th></tr></thead><tbody><tr><td><strong>Recall</strong></td><td>&gt; 98%</td><td>Missing a violation is worse than a false positive</td></tr><tr><td><strong>Precision</strong></td><td>&gt; 95%</td><td>Avoid frustrating valid contributors</td></tr><tr><td><strong>F1 Score</strong></td><td>&gt; 96%</td><td>Balanced performance</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="whats-next">What's Next<a href="https://docs.locki.io/blog/first-submission-mockup-system#whats-next" class="hash-link" aria-label="Direct link to What's Next" title="Direct link to What's Next" translate="no">​</a></h2>
<p>With this testing infrastructure in place, we can now:</p>
<ol>
<li class=""><strong>Generate diverse test sets</strong> covering all 7 categories and violation types</li>
<li class=""><strong>Run optimization experiments</strong> using Opik's optimizer</li>
<li class=""><strong>Track improvements</strong> across prompt iterations</li>
<li class=""><strong>Achieve confidence</strong> that Forseti catches what it should</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="try-it-yourself">Try It Yourself<a href="https://docs.locki.io/blog/first-submission-mockup-system#try-it-yourself" class="hash-link" aria-label="Direct link to Try It Yourself" title="Direct link to Try It Yourself" translate="no">​</a></h2>
<p>Navigate to the <strong>Mockup</strong> tab (<code>?tab=mockup</code>) to:</p>
<ul>
<li class="">Load existing test contributions</li>
<li class="">Generate Levenshtein variations</li>
<li class="">Run batch validation</li>
<li class="">Export to Opik datasets</li>
</ul>
<hr>
<p><strong>Branch:</strong> <code>feature/logging_system</code>
<strong>Key files:</strong></p>
<ul>
<li class=""><code>app/mockup/generator.py</code> - Contribution generation</li>
<li class=""><code>app/mockup/levenshtein.py</code> - Mutation algorithms</li>
<li class=""><code>app/mockup/storage.py</code> - Redis persistence</li>
<li class=""><code>app/mockup/dataset.py</code> - Opik integration</li>
<li class=""><code>app/mockup/batch_view.py</code> - Streamlit UI</li>
</ul>
<p><em>Building trust in AI validation, one mutation at a time.</em></p>]]></content:encoded>
            <category>Encode hackathon</category>
            <category>AI and Machine Learning</category>
            <category>civitech</category>
            <category>Observability</category>
        </item>
        <item>
            <title><![CDATA[Catch-up Call: Deployment Strategy]]></title>
            <link>https://docs.locki.io/blog/meeting-ocapistaine-3</link>
            <guid>https://docs.locki.io/blog/meeting-ocapistaine-3</guid>
            <pubDate>Sat, 24 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Here is the assessment of the catch-up call between @jnxmas and Victor regarding the Ò Capistaine project status and immediate priorities.]]></description>
            <content:encoded><![CDATA[<p>Here is the assessment of the catch-up call between @jnxmas and Victor regarding the <strong>Ò Capistaine</strong> project status and immediate priorities.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary-of-the-call"><strong>Summary of the Call</strong><a href="https://docs.locki.io/blog/meeting-ocapistaine-3#summary-of-the-call" class="hash-link" aria-label="Direct link to summary-of-the-call" title="Direct link to summary-of-the-call" translate="no">​</a></h2>
<p>@jnxmas and Victor discussed the immediate roadmap for the <strong>Opik/Commit to Change Hackathon MVP submission</strong> (deadline: ~1 day, 14 hours). Victor has successfully downloaded approximately 4,000 PDFs (including ~3,965 deliberation documents), though he noted some potential duplicates and that the download process was synchronous and could be optimized later. He has committed changes to a development branch but not yet merged them, preferring to use GitHub as a medium to exchange the code while keeping the large PDF dataset local (or shared via a specific sub-directory).
The team agreed on a strategy for the <strong>Hackathon demo deployment</strong>. Instead of using Vercel, which complicates environment variable management for their specific security setup (ngrok, multiple API keys for Opik, Firecrawl, Gemini, etc.), @jnxmas will run the demo from his local machine using a secure, paid ngrok tunnel (<code>ocapistaine.ngrok.app</code>). This setup allows the jury to interact with the Streamlit UI (restricted to Ollama for the external demo) while the team can continue testing other models (Gemini) locally. The architecture involves <strong>Locki.io -&gt; Vaettir Orchestration -&gt; Local Machine (Ocapistaine Agent)</strong>.</p>
<p><strong>Key Technical Decisions &amp; Next Steps:</strong></p>
<ul>
<li class=""><strong>OCR &amp; Database:</strong> Victor is moving immediately to OCR processing. While <code>pdf2ocr</code> was discussed, they agreed that since most files are text-based PDFs (not scanned images), full image-to-text conversion might be overkill. The priority is text extraction and categorization. @jnxmas plans to implement a NoSQL database (MongoDB) to store OCR content alongside metadata (source, date) to support the RAG system.</li>
<li class=""><strong>Observability:</strong> @jnxmas is finalizing the integration of Opik within <strong>n8n workflows</strong>. This ensures that if the Ocapistaine application triggers an n8n workflow involving an LLM, both systems report traces to the same Opik observability project, providing a unified view of checking the "Charter validity" and "Hallucination detection."</li>
<li class=""><strong>Submission Prep:</strong> @jnxmas will focus on writing the article/documentation to justify the technical choices and process for the submission, while Victor attempts to finish the OCR pipeline and potentially start the MongoDB implementation before he becomes unavailable for a few days.</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="action-plan--tasks"><strong>Action Plan &amp; Tasks</strong><a href="https://docs.locki.io/blog/meeting-ocapistaine-3#action-plan--tasks" class="hash-link" aria-label="Direct link to action-plan--tasks" title="Direct link to action-plan--tasks" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-data-engineering--backend"><strong>1. Data Engineering &amp; Backend</strong><a href="https://docs.locki.io/blog/meeting-ocapistaine-3#1-data-engineering--backend" class="hash-link" aria-label="Direct link to 1-data-engineering--backend" title="Direct link to 1-data-engineering--backend" translate="no">​</a></h3>
<ul>
<li class=""><strong>Task:</strong> Finalize PDF Text Extraction &amp; OCR<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @zcbtvag (Victor)</li>
<li class=""><strong>Description:</strong> Run the extraction on the downloaded ~4,000 PDFs. Focus on text-based extraction first, only using heavy OCR (image-to-text) if necessary. Commit the code logic (not the files themselves) to the dev branch.</li>
<li class=""><strong>Deadline:</strong> <strong>Tonight / ASAP</strong> (Before Victor travels).</li>
<li class=""><strong>Success Criteria:</strong> Text extracted from PDFs and ready for database ingestion.</li>
</ul>
</li>
<li class=""><strong>Task:</strong> Push Dev Branch Changes<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @zcbtvag (Victor)</li>
<li class=""><strong>Description:</strong> Push the latest scraper and extraction logic to GitHub so @jnxmas can pull the code.</li>
<li class=""><strong>Deadline:</strong> <strong>Tonight</strong>.</li>
<li class=""><strong>Success Criteria:</strong> PR raised/Code available on the remote repository.</li>
</ul>
</li>
<li class=""><strong>Task:</strong> Implement MongoDB for Vector/Content Storage<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @jnxmas [Secondary: Victor if time permits]</li>
<li class=""><strong>Description:</strong> Set up a NoSQL database (MongoDB) to store extracted PDF content + metadata (source URL, date, category). This is crucial for the RAG system to function efficiently.</li>
<li class=""><strong>Deadline:</strong> <strong>Next 24 Hours</strong>.</li>
<li class=""><strong>Success Criteria:</strong> DB instance running and successfully storing OCR output.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-deployment--hackathon-submission"><strong>2. Deployment &amp; Hackathon Submission</strong><a href="https://docs.locki.io/blog/meeting-ocapistaine-3#2-deployment--hackathon-submission" class="hash-link" aria-label="Direct link to 2-deployment--hackathon-submission" title="Direct link to 2-deployment--hackathon-submission" translate="no">​</a></h3>
<ul>
<li class=""><strong>Task:</strong> Configure Local Demo Environment (ngrok)<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @jnxmas</li>
<li class=""><strong>Description:</strong> Finalize the secure ngrok tunnel (<code>ocapistaine.ngrok.app</code>) pointing to the local Streamlit UI. Ensure the external facing demo is locked to Ollama, while internal dev builds can use Gemini.</li>
<li class=""><strong>Deadline:</strong> <strong>Tomorrow Morning</strong>.</li>
<li class=""><strong>Success Criteria:</strong> Live URL accessible to external users (jury) without exposing sensitive internal keys.</li>
</ul>
</li>
<li class=""><strong>Task:</strong> Draft Hackathon Submission Article<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @jnxmas</li>
<li class=""><strong>Description:</strong> Write the required project description, work process, and key achievements for the hackathon platform. Focus on the "Charter Check" agent and Opik integration.</li>
<li class=""><strong>Deadline:</strong> <strong>Tomorrow Mid-day</strong>.</li>
<li class=""><strong>Success Criteria:</strong> Text ready for copy-paste into the submission form.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-observability-opik"><strong>3. Observability (Opik)</strong><a href="https://docs.locki.io/blog/meeting-ocapistaine-3#3-observability-opik" class="hash-link" aria-label="Direct link to 3-observability-opik" title="Direct link to 3-observability-opik" translate="no">​</a></h3>
<ul>
<li class=""><strong>Task:</strong> Verify Double-Tracing (App + N8N)<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @jnxmas</li>
<li class=""><strong>Description:</strong> Confirm that Opik receives traces from both the Python app (Ocapistaine) and the n8n docker container when an LLM is triggered.</li>
<li class=""><strong>Deadline:</strong> <strong>Tomorrow</strong>.</li>
<li class=""><strong>Success Criteria:</strong> Unified dashboard in Opik showing traces from both sources.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="status-dashboard"><strong>Status Dashboard</strong><a href="https://docs.locki.io/blog/meeting-ocapistaine-3#status-dashboard" class="hash-link" aria-label="Direct link to status-dashboard" title="Direct link to status-dashboard" translate="no">​</a></h3>
<ul>
<li class=""><strong>Overall Progress:</strong> 🟡 <strong>Mixed</strong> (Scraping done, OCR/DB pending, Deployment strategy fixed).</li>
<li class=""><strong>Open High-Priority Tasks:</strong>
<ol>
<li class="">Run/Finish OCR on 4k PDFs (@zcbtvag).</li>
<li class="">Set up MongoDB for data ingestion (@jnschilling).</li>
<li class="">Finalize "Charter Check" Agent + Opik Tracing for Demo (@jnschilling).</li>
</ol>
</li>
<li class=""><strong>Next Milestone:</strong> <strong>Hackathon MVP Submission</strong> (Deadline: ~1 day 14 hours).</li>
</ul>]]></content:encoded>
            <category>Meeting</category>
            <category>civitech</category>
            <category>AI and Machine Learning</category>
        </item>
        <item>
            <title><![CDATA[Technical Strategy: Google Gemini Integration]]></title>
            <link>https://docs.locki.io/blog/gemini-workshop-1</link>
            <guid>https://docs.locki.io/blog/gemini-workshop-1</guid>
            <pubDate>Thu, 22 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Context: Audierne 2026 Election Platform]]></description>
            <content:encoded><![CDATA[<p><strong>Context:</strong> Audierne 2026 Election Platform</p>
<p>This document outlines how we will leverage the Google Gemini ecosystem (AI Studio, Flash models, and Agentic workflows) to accelerate the development of the Locki project. By utilizing these tools, we aim to bridge the gap between human ideation and automated N8N workflows, specifically for the <code>Commit to Change</code> hackathon and the subsequent election period.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-the-human-to-agent-workflow-bridge">1. The <code>Human-to-Agent</code> Workflow Bridge<a href="https://docs.locki.io/blog/gemini-workshop-1#1-the-human-to-agent-workflow-bridge" class="hash-link" aria-label="Direct link to 1-the-human-to-agent-workflow-bridge" title="Direct link to 1-the-human-to-agent-workflow-bridge" translate="no">​</a></h2>
<p>A core strategy for our development is enabling our automated GitHub agents to <code>learn</code> from human-validated workflows. We will use Google AI Studio as the prototyping environment to define logic that is subsequently exported to our N8N instance.</p>
<iframe width="100%" style="aspect-ratio:16 / 9" src="https://www.encodeclub.com/programmes/comet-resolution-v2-hackathon/events/mastering-gemini-3-building-next-gen-ai-agents-in-google-ai-studio" title="OPIK workshop 2" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe>
<ul>
<li class=""><strong>Prototyping in AI Studio:</strong> Team members (jnxmas, etc.) can solve complex data extraction problems within the AI Studio interface (e.g., <code>Analyze this specific municipal PDF and extract the 2024 housing budget</code>).</li>
<li class=""><strong>The <code>Get Code</code> Feature:</strong> Once the model successfully completes a task or fixes a bug, we utilize the <strong>Get Code</strong> feature. This provides the exact Python or cURL code required to replicate the action.</li>
<li class=""><strong>N8N Integration:</strong> Instead of writing scrapers from scratch, we export this verified logic and integrate it directly into N8N Python nodes. This allows our automated agents to search the Audierne environment and context with logic already proven to work.</li>
<li class=""><strong>Workflow Orchestration:</strong> We can prompt the model to stitch together disparate services (e.g., Search + Summarize + Store). The model designs the prompts and orchestrates the data flow, which we then convert into Dockerized N8N workflow nodes.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-advanced-scraping--contextual-search-firecrawl-optimization">2. Advanced Scraping &amp; Contextual Search (Firecrawl Optimization)<a href="https://docs.locki.io/blog/gemini-workshop-1#2-advanced-scraping--contextual-search-firecrawl-optimization" class="hash-link" aria-label="Direct link to 2. Advanced Scraping &amp; Contextual Search (Firecrawl Optimization)" title="Direct link to 2. Advanced Scraping &amp; Contextual Search (Firecrawl Optimization)" translate="no">​</a></h2>
<p>To effectively crawl the ~150 links and municipal portals of Audierne, we will apply Gemini's <code>Anti-Gravity</code> and DOM-aware capabilities to our Firecrawl pipeline.</p>
<ul>
<li class=""><strong>DOM &amp; Visual Navigation:</strong> Unlike standard <code>curl</code> requests which may be blocked, Gemini-based logic can navigate the Document Object Model (DOM) and use visual cues (screenshots) to handle cookies, pop-ups, and complex navigation menus found on municipal sites.</li>
<li class=""><strong>Autonomous Planning:</strong> We can equip our agents to formulate multi-step plans (Search -&gt; Filter by <code>Audierne</code> -&gt; Check Date -&gt; Download PDF).</li>
<li class=""><strong>Code Repair:</strong> Using the <code>Live</code> and <code>Annotate</code> features, developers can debug scraper errors in real-time. The model can identify logical breaks in the scraping code and suggest fixes while maintaining context.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-multimodal-data-processing-for-municipal-archives">3. Multimodal Data Processing for Municipal Archives<a href="https://docs.locki.io/blog/gemini-workshop-1#3-multimodal-data-processing-for-municipal-archives" class="hash-link" aria-label="Direct link to 3. Multimodal Data Processing for Municipal Archives" title="Direct link to 3. Multimodal Data Processing for Municipal Archives" translate="no">​</a></h2>
<p>Processing the dataset of 4,000+ PDFs and various multimedia links requires a high-volume, low-cost solution.</p>
<ul>
<li class=""><strong>Gemini Flash Models (1.5 / 3):</strong> We will standardize on <code>Flash</code> models for the majority of our RAG pipeline. These models offer high speed and vast token windows at a fraction of the cost, making them sustainable for our project budget.</li>
<li class=""><strong>Video &amp; Audio Analysis:</strong> We can upload long-form video/audio recordings of Audierne municipal council meetings directly. Gemini can generate timestamps, summaries, and extract specific topic discussions (e.g., <code>Culture budget debates</code>) without requiring a separate, expensive Speech-to-Text pipeline.</li>
<li class=""><strong>Gemma 3 (Local/Open):</strong> For local testing and zero-cost prototyping of OCR pipelines, we can utilize the open Gemma 3 model before deploying to the cloud.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-accuracy--sandbox-code-execution">4. Accuracy &amp; Sandbox Code Execution<a href="https://docs.locki.io/blog/gemini-workshop-1#4-accuracy--sandbox-code-execution" class="hash-link" aria-label="Direct link to 4. Accuracy &amp; Sandbox Code Execution" title="Direct link to 4. Accuracy &amp; Sandbox Code Execution" translate="no">​</a></h2>
<p>To adhere to our goal of a <code>neutral, impartial RAG-based chatbot,</code> we must minimize hallucinations, especially regarding budget figures.</p>
<ul>
<li class=""><strong>Sandboxed Execution:</strong> We will utilize Gemini's <code>Code Execution</code> tool. Instead of asking the LLM to <em>predict</em> the sum of a budget list, we ask it to <em>write and run Python code</em> to calculate it.</li>
<li class=""><strong>Data Visualization:</strong> This feature allows us to ask the model to plot data (e.g., <code>Create a graph comparing the budget allocation of the 4 lists</code>) which can be displayed on the frontend.</li>
<li class=""><strong>Logic Verification:</strong> This forces the model to use computational logic, ensuring that the comparisons provided to Audierne citizens are mathematically accurate.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-frontend-acceleration--multilingual-support">5. Frontend Acceleration &amp; Multilingual Support<a href="https://docs.locki.io/blog/gemini-workshop-1#5-frontend-acceleration--multilingual-support" class="hash-link" aria-label="Direct link to 5. Frontend Acceleration &amp; Multilingual Support" title="Direct link to 5. Frontend Acceleration &amp; Multilingual Support" translate="no">​</a></h2>
<ul>
<li class=""><strong>The <code>Build</code> Feature:</strong> For the upcoming Hackathon, we can use the <code>Build</code> feature to describe user interfaces (e.g., <code>Create a citizen contribution intake form with camera access</code>) and instantly generate deployed React/TypeScript code. This significantly reduces boilerplate work.</li>
<li class=""><strong>Gemini Live (Bilingual):</strong> To support our EN/FR requirement, we leverage the model's native multilingual capabilities. It can seamlessly switch between French and English, ensuring the chatbot interacts fluently with all demographics in Audierne.</li>
</ul>
<hr>
<p><strong>Project Coordinator Status Update</strong></p>
<ul>
<li class="">
<p><strong>Overall Progress:</strong> 🟡 Firecrawl (Optimization via DOM-aware logic needed) 🟢 Docs (Gemini Strategy Added) 🟡 RAG (Integration of Flash models pending)</p>
</li>
<li class="">
<p><strong>Open High-Priority Tasks:</strong></p>
<ul>
<li class=""><strong>Task:</strong> Prototype PDF extraction in AI Studio &amp; export Python code.<!-- -->
<ul>
<li class=""><strong>Owner:</strong> Victor / Meher</li>
<li class=""><strong>Description:</strong> Use AI Studio to solve a specific Audierne PDF parsing challenge, use <code>Get Code,</code> and integrate the Python script into a custom N8N node.</li>
<li class=""><strong>Deadline:</strong> Next call.</li>
</ul>
</li>
<li class=""><strong>Task:</strong> Secure API keys for Gemini Flash.<!-- -->
<ul>
<li class=""><strong>Owner:</strong> jnxmas</li>
<li class=""><strong>Description:</strong> Provision keys to test cost-effective OCR and massive token processing for the 4k PDF dataset.</li>
<li class=""><strong>Deadline:</strong> ASAP.</li>
</ul>
</li>
<li class=""><strong>Task:</strong> Refine Firecrawl Agents with DOM Logic.<!-- -->
<ul>
<li class=""><strong>Owner:</strong> Meher / jnxmas</li>
<li class=""><strong>Description:</strong> Use <code>Anti-Gravity</code> style logic to handle complex municipal site navigation (cookies/popups) where standard scraping fails.</li>
<li class=""><strong>Deadline:</strong> Hackathon Start.</li>
</ul>
</li>
<li class=""><strong>Task:</strong> Hackathon Frontend Prototype.<!-- -->
<ul>
<li class=""><strong>Owner:</strong> Open (Frontend Contributor)</li>
<li class=""><strong>Description:</strong> Use Gemini <code>Build</code> feature to generate the base React code for the citizen contribution portal.</li>
<li class=""><strong>Deadline:</strong> Mid-February.</li>
</ul>
</li>
</ul>
</li>
<li class="">
<p><strong>Next Milestone:</strong> Hackathon Prototype Delivery (~Mid-February)</p>
</li>
</ul>]]></content:encoded>
            <category>AI and Machine Learning</category>
            <category>civitech</category>
            <category>RAG</category>
            <category>Encode hackathon</category>
        </item>
        <item>
            <title><![CDATA[Team Sync: Gemini Integration and Agent Workflows]]></title>
            <link>https://docs.locki.io/blog/meeting-ocapistaine-2</link>
            <guid>https://docs.locki.io/blog/meeting-ocapistaine-2</guid>
            <pubDate>Thu, 22 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Strategy Update: Leveraging Gemini & Agent Workflows]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="strategy-update-leveraging-gemini--agent-workflows">Strategy Update: Leveraging Gemini &amp; Agent Workflows<a href="https://docs.locki.io/blog/meeting-ocapistaine-2#strategy-update-leveraging-gemini--agent-workflows" class="hash-link" aria-label="Direct link to Strategy Update: Leveraging Gemini &amp; Agent Workflows" title="Direct link to Strategy Update: Leveraging Gemini &amp; Agent Workflows" translate="no">​</a></h2>
<p>This document summarizes key insights from the recent team sync following Jean-Noël's attendance at the Google Gemini workshop. The focus is on accelerating the <strong>Locki / Ò Capistaine</strong> project by transitioning from manual human analysis to automated agent workflows.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-gemini-opportunity">The Gemini Opportunity<a href="https://docs.locki.io/blog/meeting-ocapistaine-2#the-gemini-opportunity" class="hash-link" aria-label="Direct link to The Gemini Opportunity" title="Direct link to The Gemini Opportunity" translate="no">​</a></h3>
<p>jnxmas reported that despite initial skepticism, the Gemini workshop revealed significant opportunities for the project, particularly regarding scraping and rapid prototyping.</p>
<ul>
<li class=""><strong>Google AI Studio Capabilities:</strong> The team discussed the power of Google AI Studio (specifically Gemini 1.5 Pro/Flash). It allows for multimodal input—users can upload images or video recordings of a screen process, and the AI can generate the corresponding code (Python) to replicate that workflow.</li>
<li class=""><strong>Anti-Gravity &amp; DOM Awareness:</strong> The team is considering testing "Anti-Gravity" (potentially as a VS Code alternative or extension) to utilize Gemini's DOM-aware capabilities. This could allow for smarter scraping of the ~150 target links compared to the current "brute force" Firecrawl approach.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="from-human-workflow-to-ai-agent">From Human Workflow to AI Agent<a href="https://docs.locki.io/blog/meeting-ocapistaine-2#from-human-workflow-to-ai-agent" class="hash-link" aria-label="Direct link to From Human Workflow to AI Agent" title="Direct link to From Human Workflow to AI Agent" translate="no">​</a></h3>
<p>A core strategic pivot discussed is the methodology for building the project's autonomous agents (specifically the <strong>Ocapistaine</strong> GitHub user/agent).
<strong>The Proposed Workflow:</strong></p>
<ol>
<li class=""><strong>Human Prototype:</strong> A team member manually processes a citizen contribution using Gemini Studio.<!-- -->
<ul>
<li class=""><em>Example Action:</em> Take a contribution about "rainwater taxes," validate it against the charter, search Google for similar implementations in France, and check the <code>audierne2026</code> docs for local context.</li>
</ul>
</li>
<li class=""><strong>Code Generation:</strong> Ask Gemini to "make a script of this search and interpretation process."</li>
<li class=""><strong>Agent Implementation:</strong> This script is converted into a workflow stored in the repository.</li>
<li class=""><strong>Execution via N8N:</strong> The "Ocapistaine" agent (which has specific GitHub credentials) triggers these workflows. It acts as the owner of the process, running searches, documenting findings in the repo, and replying to issues using the context generated.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="integration-architecture-github--n8n">Integration Architecture: GitHub &amp; N8N<a href="https://docs.locki.io/blog/meeting-ocapistaine-2#integration-architecture-github--n8n" class="hash-link" aria-label="Direct link to Integration Architecture: GitHub &amp; N8N" title="Direct link to Integration Architecture: GitHub &amp; N8N" translate="no">​</a></h3>
<p>The infrastructure is being updated to support this "Agent-driven" model:</p>
<ul>
<li class=""><strong>Cross-Repo Context:</strong> Documentation from <code>docs.locki.io</code> is now set up as a submodule, allowing the AI to access context across different repositories (e.g., <code>vaettir</code> and <code>ocapistaine</code>) simultaneously.</li>
<li class=""><strong>Workflow Orchestration:</strong> Python workflows within the <code>ocapistaine</code> repository are designed to call N8N workflows.</li>
<li class=""><strong>Automated Workflow Creation:</strong> Experiments suggest that tools like Claude or Gemini can be used to write the JSON files required for N8N workflows, essentially allowing the AI to build its own integration pipelines using the project's existing API keys (Forseti/Ocapistaine).</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="current-progress--blockers">Current Progress &amp; Blockers<a href="https://docs.locki.io/blog/meeting-ocapistaine-2#current-progress--blockers" class="hash-link" aria-label="Direct link to Current Progress &amp; Blockers" title="Direct link to Current Progress &amp; Blockers" translate="no">​</a></h3>
<ul>
<li class=""><strong>Scraping (Firecrawl):</strong> Victor has successfully scraped municipal considerations (PDFs/data), but there are file management issues. The files need to be renamed and committed to the <code>dev</code> branch properly to avoid needing complex cleanup later.</li>
<li class=""><strong>Opik Integration:</strong> The integration is live. Jean-Noël demonstrated a trace where the system successfully checked the "contribution charter" and returned a confidence score and category (e.g., "Youth") using local LLMs (Ollama/Mistral) to save costs during dev.</li>
<li class=""><strong>Cost Management:</strong> The team plans to use "Flash" models or free tiers (Gemini/Gemma) for the heavy lifting of RAG and video/audio analysis to keep the project sustainable.</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="project-coordinator-dashboard">Project Coordinator Dashboard<a href="https://docs.locki.io/blog/meeting-ocapistaine-2#project-coordinator-dashboard" class="hash-link" aria-label="Direct link to Project Coordinator Dashboard" title="Direct link to Project Coordinator Dashboard" translate="no">​</a></h3>
<p><strong>Overall Progress:</strong> 🟡 <strong>Processing</strong> (Scraping logic is working but needs cleanup; Agent workflow defined but not implemented).
<strong>Open High-Priority Tasks:</strong></p>
<ul>
<li class=""><strong>Task:</strong> Clean and Commit Scraped Data<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @zcbtvag (Victor)</li>
<li class=""><strong>Description:</strong> Rename scraped municipal files/folders and commit to the <code>dev</code> branch so the team can access the dataset.</li>
<li class=""><strong>Deadline:</strong> ASAP</li>
<li class=""><strong>Success Criteria:</strong> Files visible in <code>dev</code> branch without directory errors.</li>
</ul>
</li>
<li class=""><strong>Task:</strong> Prototype "Human-to-Agent" Workflow<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @jnxmas / @GurmeherSingh</li>
<li class=""><strong>Description:</strong> Record a manual analysis session in Gemini Studio, generate the Python script, and convert it into a GitHub Action/N8N trigger.</li>
<li class=""><strong>Deadline:</strong> Next Sync</li>
<li class=""><strong>Success Criteria:</strong> One functional automated workflow generated from a video/image input.</li>
</ul>
</li>
<li class=""><strong>Task:</strong> Test Anti-Gravity / Gemini DOM Scanning<!-- -->
<ul>
<li class=""><strong>Owner:</strong> @jnxmas</li>
<li class=""><strong>Description:</strong> Evaluate if Gemini's DOM-aware browsing is more efficient than the current Firecrawl setup for the 150 links.</li>
<li class=""><strong>Deadline:</strong> End of Week</li>
<li class=""><strong>Success Criteria:</strong> Decision on whether to switch scraping tools.
<strong>Next Milestone:</strong></li>
</ul>
</li>
<li class=""><strong>Mid-February:</strong> Hackathon Prototype Delivery (Functional RAG chatbot with automated contribution processing).</li>
</ul>]]></content:encoded>
            <category>Meeting</category>
            <category>civitech</category>
            <category>AI and Machine Learning</category>
        </item>
        <item>
            <title><![CDATA[Let us choose the stack]]></title>
            <link>https://docs.locki.io/blog/meeting-ocapistaine-1</link>
            <guid>https://docs.locki.io/blog/meeting-ocapistaine-1</guid>
            <pubDate>Sun, 18 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Project Context Update (Mid-to-Late January 2026)]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="project-context-update-mid-to-late-january-2026">Project Context Update (Mid-to-Late January 2026)<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#project-context-update-mid-to-late-january-2026" class="hash-link" aria-label="Direct link to Project Context Update (Mid-to-Late January 2026)" title="Direct link to Project Context Update (Mid-to-Late January 2026)" translate="no">​</a></h2>
<p><strong>Project</strong>: Locki / Ò Capistaine (audierne2026) - AI-powered civic transparency &amp; participatory democracy platform for Audierne 2026 local elections (France)
<strong>Core Mission</strong>: Build a neutral, source-based RAG chatbot to answer citizen questions about 4 municipal programs, automate contribution validation against charter rules, crawl/process municipal data (150+ links, 4,000+ PDFs), and showcase Opik integration for the "Commit to Change" Hackathon.
<strong>Critical Timeline</strong>:</p>
<ul>
<li class="">Contributions deadline: ~January 31, 2026</li>
<li class="">Hackathon prototype delivery: ~mid-February 2026 (4-week sprint)</li>
<li class="">Election period: ~March 15-22, 2026</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="team-status--availability">Team Status &amp; Availability<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#team-status--availability" class="hash-link" aria-label="Direct link to Team Status &amp; Availability" title="Direct link to Team Status &amp; Availability" translate="no">​</a></h2>
<p><strong>Active Members</strong>:</p>
<ul>
<li class="">
<p><strong>[jnxmas] aka Johnny Christmass (@jnxmas)</strong>: Project lead, architecture, N8N deployment, Firecrawl testing, documentation, political outreach</p>
</li>
<li class="">
<p><strong>Meher/Gurmukher/Guru (@GurmeherSingh)</strong>: ML Engineer, RAG agent + Opik integration (recently arrived US East Coast, jet-lagged)</p>
</li>
<li class="">
<p><strong>Victor (@zcbtvag)</strong>: Backend Python, Firecrawl pipeline (intensive work Mon-Wed, unavailable Thu-Sun for France travel, returns following week)</p>
<p><strong>Team Experience Alignment</strong>:</p>
</li>
<li class="">
<p>✅ <strong>Shared expertise</strong>: Streamlit, VectorStore, Python, Firecrawl, Gemini, Opik</p>
</li>
<li class="">
<p>✅ <strong>Guru's strengths</strong>: NOMIC embeddings (Sentence Transformer), Azure, Ollama</p>
</li>
<li class="">
<p>❌ <strong>Learning curve</strong>: N8N (new for Guru + Victor)</p>
</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="political--community-engagement-progress">Political &amp; Community Engagement Progress<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#political--community-engagement-progress" class="hash-link" aria-label="Direct link to Political &amp; Community Engagement Progress" title="Direct link to Political &amp; Community Engagement Progress" translate="no">​</a></h2>
<p><strong>Achievements</strong>:</p>
<ul>
<li class=""><strong>Outgoing mayor</strong>: Positive signal at New Year's event - mentioned "new paradigm in politics"</li>
<li class=""><strong>Email follow-up</strong>: Mayor acknowledged project email (10+ days prior), interested in discussing Audierne2026</li>
<li class=""><strong>Electoral lists</strong>: 3 of 4 lists contacted, very positive responses</li>
<li class=""><strong>Remaining</strong>: 1 list still to contact (before Jan 31)
<strong>Current Challenge</strong>:</li>
<li class=""><strong>Low citizen engagement</strong>: Contributions/discussions system seeing minimal activity ("it's a bit too much right now")</li>
<li class=""><strong>Content workflow</strong>: Issues validated → transferred to discussions → posted on website after community review</li>
<li class=""><strong>Validation stages</strong>: Charter compliance + Contextualization (innovative agent finding solutions)
<strong>Strategic Shift</strong>: Team needs to move from outreach to coding and delivery.</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="technical-architecture---stack-decisions-finalized">Technical Architecture - Stack Decisions Finalized<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#technical-architecture---stack-decisions-finalized" class="hash-link" aria-label="Direct link to Technical Architecture - Stack Decisions Finalized" title="Direct link to Technical Architecture - Stack Decisions Finalized" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="layer-structure-bottom-up-etl-pattern">Layer Structure (Bottom-Up ETL Pattern)<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#layer-structure-bottom-up-etl-pattern" class="hash-link" aria-label="Direct link to Layer Structure (Bottom-Up ETL Pattern)" title="Direct link to Layer Structure (Bottom-Up ETL Pattern)" translate="no">​</a></h3>
<p><strong>1. External Services Layer</strong></p>
<ul>
<li class=""><strong>Firecrawl API</strong>: Primary web scraping/crawling service</li>
<li class=""><strong>Status</strong>: Victor progressing, PR open, completion target Wednesday (before travel)</li>
<li class=""><strong>Blocker</strong>: Pagination settings need tuning (tested with <code>max_pages=10</code>, returned only 1 page)</li>
<li class=""><strong>Priority source</strong>: Délibérations du conseil municipal (municipal council deliberations)
<strong>2. Data Access Layer</strong></li>
<li class=""><strong>Vector Store</strong>: Confirmed standard VectorStore approach (all team members familiar)</li>
<li class=""><strong>Embeddings Strategy</strong>:<!-- -->
<ul>
<li class=""><strong>Primary</strong>: NOMIC model (Sentence Transformer) - Guru has experience</li>
<li class=""><strong>Backup/Failsafe</strong>: Mistral Studio - French language optimization + potential local sponsorship</li>
</ul>
</li>
<li class=""><strong>Crawl Tracking Database</strong>: SQL Lite/SQL Model chosen<!-- -->
<ul>
<li class="">Metadata: Crawl status, RAG inclusion, content category</li>
<li class="">SQL Model benefits: Type safety (Python → SQL columns), FastAPI/Pydantic compatibility, PostgreSQL support</li>
<li class="">Owner: [jnxmas] will build during Victor's absence
<strong>3. Business Logic Layer</strong>
<strong>Agent 1: Charter Validation Agent</strong> (PRIORITY)</li>
</ul>
</li>
<li class=""><strong>Purpose</strong>: Auto-validate citizen contributions against charter rules</li>
<li class=""><strong>Checks</strong>: Respectful language, no personal naming, constructive content</li>
<li class=""><strong>Functionality</strong>: Binary (green/red) conformance + auto-correct miscategorized submissions (7 categories)</li>
<li class=""><strong>Tech Stack</strong>: Gemini (primary), Ollama (testing), Opik evaluation/tracing</li>
<li class=""><strong>Workflow</strong>: Reads <code>audierne2026</code> repo issues → labels/updates in <code>ocapistaine</code> repo</li>
<li class=""><strong>Owner</strong>: Guru (@GurmeherSingh)</li>
<li class=""><strong>Status</strong>: Not started (blocked by Opik access + N8N deployment)
<strong>Agent 2: RAG Agent / Citizen Q&amp;A Chatbot</strong></li>
<li class=""><strong>Purpose</strong>: Answer citizen questions with neutral, contextual responses, cross-reference municipal programs</li>
<li class=""><strong>Requirements</strong>: No hallucinations (Opik guardrails), source attribution, French language</li>
<li class=""><strong>Approach</strong>: Start with available data, iterate as crawling progresses</li>
<li class=""><strong>Owner</strong>: Guru (@GurmeherSingh)</li>
<li class=""><strong>Status</strong>: Starting development, update expected in 1-2 days</li>
<li class=""><strong>Dependencies</strong>: VectorStore populated, Charter agent outputs (optional)
<strong>Agent 3: Search Agent</strong> (CONDITIONAL)</li>
<li class=""><strong>Decision</strong>: Pending RAG completeness assessment</li>
<li class=""><strong>Logic</strong>: If RAG sufficient → search agent unnecessary; if RAG insufficient → search agent as fallback</li>
<li class=""><strong>Status</strong>: On hold pending RAG testing
<strong>Chat Service</strong> (Already Working)</li>
<li class=""><strong>Functionality</strong>: Multi-turn conversations with thread management (UUID per user)</li>
<li class=""><strong>Providers</strong>: OpenAI, Ollama (Mistral, DeepSeek tested locally), Perplexity, Gemini</li>
<li class=""><strong>Features</strong>: System message config, prompt engineering, thread history persistence, strategy selection (Charter mode, Q&amp;A mode, etc.)</li>
<li class=""><strong>Opik Integration</strong>: Full tracing via <code>workflow_chat</code> class
<strong>Document Service</strong> (To Be Defined)</li>
<li class=""><strong>Proposed Purpose</strong>:<!-- -->
<ul>
<li class="">Query documentation/source information</li>
<li class="">Scheduled re-crawling (detect new docs since last crawl)</li>
<li class="">Document categorization + metadata tagging</li>
<li class="">Change detection (compare current vs. new crawls, decide RAG updates)</li>
</ul>
</li>
<li class=""><strong>Open Question</strong>: How does this differ from Chat Service? (Clarified: Document = search/crawl management; Chat = conversational interface)</li>
<li class=""><strong>Status</strong>: Requirements to be defined collaboratively
<strong>4. Application Layer</strong></li>
<li class=""><strong>Streamlit</strong>: Primary presentation interface</li>
<li class=""><strong>FastAPI</strong>: Routing layer</li>
<li class=""><strong>Debug Scripts</strong>: One-click full stack launch (UV cone + Streamlit app automation)</li>
<li class=""><strong>Hot Reload</strong>: Code modifications work without restart</li>
<li class=""><strong>Future</strong>: Redis integration for scheduler + task memory persistence
<strong>5. External Orchestration Layer</strong></li>
<li class=""><strong>N8N</strong>: Self-hosted Docker deployment on Contabo server (viety.loki.io)</li>
<li class=""><strong>Status</strong>: ~2 hours from completion (as of last meeting)</li>
<li class=""><strong>Workflows</strong>:<!-- -->
<ul>
<li class="">Pull issues from <code>audierne2026</code> GitHub repo</li>
<li class="">Trigger charter validation agent</li>
<li class="">Push validated/labeled issues back to repo</li>
<li class="">Modify Jekyll website content</li>
<li class="">Provide API endpoint for agent testing</li>
</ul>
</li>
<li class=""><strong>Multi-project approach</strong>: Separate workflows per project on shared dashboard</li>
<li class=""><strong>Future</strong>: Pull data from Opik Cloud back into app (feedback loop via N8N API)
<strong>Supporting Infrastructure</strong>:</li>
<li class=""><strong>APScheduler (cron-based)</strong>: Time-based tasks (daily/weekly crawl updates, GitHub monitoring, Charter violation checks)</li>
<li class=""><strong>Opik</strong>: Evaluation, tracing, prompt management (future), hallucination detection, metrics/dashboards</li>
<li class=""><strong>Poetry</strong>: Dependency management (NOT pip) for library compatibility</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="opik-integration-strategy---maximize-usage">Opik Integration Strategy - MAXIMIZE USAGE<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#opik-integration-strategy---maximize-usage" class="hash-link" aria-label="Direct link to Opik Integration Strategy - MAXIMIZE USAGE" title="Direct link to Opik Integration Strategy - MAXIMIZE USAGE" translate="no">​</a></h2>
<p><strong>Team Consensus</strong>: "Maximize Opik usage at every opportunity" - it's the hackathon focus.
<strong>Dashboard Setup Decisions</strong>:</p>
<ul>
<li class=""><strong>Environment</strong>: Start with Opik Dev, migrate to Prod when ready</li>
<li class=""><strong>Dashboard Approach</strong>: Single unified dashboard to monitor all agents (avoid complexity of separate dashboards per agent)</li>
<li class=""><strong>API Keys</strong>: Likely one project with multiple keys for per-developer usage tracking</li>
<li class=""><strong>Access</strong>:<!-- -->
<ul>
<li class="">[jnxmas] has access to <code>ocapistaine-dev</code> dashboard</li>
<li class="">Need to grant Guru and Victor access</li>
<li class="">Guru has existing Opik account (needs to share user ID/Discord username)</li>
<li class="">Victor's Opik status: Not confirmed
<strong>Integration Points</strong>:</li>
</ul>
</li>
<li class="">Charter validation agent: Trace every decision, verify adherence to charter rules</li>
<li class="">RAG agent: Hallucination prevention, prompt evaluation, guardrails</li>
<li class="">N8N workflows: Plug into Opik for agent activity reporting</li>
<li class="">Chat service: Already using Opik tracing via <code>workflow_chat</code> class</li>
<li class="">Prompt management: Start hardcoded, potentially migrate to Opik prompt library later</li>
<li class="">Evaluation judge: Verify LLM adherence to prompts
<strong>Team Familiarity</strong>:</li>
<li class="">Platform exploration phase: Team has not yet fully explored Opik capabilities</li>
<li class="">Reference materials: Git examples available for implementation patterns</li>
<li class="">Action needed: All team members familiarize with Opik features (dashboards, prompt library, evaluation)</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="llm-provider-strategy---multi-provider-approach">LLM Provider Strategy - Multi-Provider Approach<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#llm-provider-strategy---multi-provider-approach" class="hash-link" aria-label="Direct link to LLM Provider Strategy - Multi-Provider Approach" title="Direct link to LLM Provider Strategy - Multi-Provider Approach" translate="no">​</a></h2>
<p><strong>Confirmed Providers</strong>:</p>
<ol>
<li class=""><strong>Gemini</strong>: Sponsored/free option (primary for Charter agent)</li>
<li class=""><strong>Ollama</strong>: Completely free (local testing) - Mistral, DeepSeek tested</li>
<li class=""><strong>Mistral</strong>: French language optimization + potential sponsorship target (French govt/local alignment, political risk mitigation)</li>
<li class=""><strong>OpenAI</strong>: Already working in Chat service</li>
<li class=""><strong>Perplexity</strong>: Available option
<strong>Strategic Rationale</strong>:</li>
</ol>
<ul>
<li class=""><strong>French language</strong>: Critical for citizen-facing content - Mistral chosen for optimization</li>
<li class=""><strong>Political optics</strong>: Using French LLM provider avoids criticism of not supporting French solutions</li>
<li class=""><strong>Cost management</strong>: Prioritize free/sponsored options (Gemini, Ollama)</li>
<li class=""><strong>Failsafe approach</strong>: NOMIC primary + Mistral backup = "two tracks maximum" ([jnxmas]'s preference given 4-week timeline)</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="development-workflow--version-control">Development Workflow &amp; Version Control<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#development-workflow--version-control" class="hash-link" aria-label="Direct link to Development Workflow &amp; Version Control" title="Direct link to Development Workflow &amp; Version Control" translate="no">​</a></h2>
<p><strong>Git Strategy</strong>:</p>
<ul>
<li class=""><strong>Protected branch</strong>: <code>dev</code> branch - no direct pushes</li>
<li class=""><strong>Feature branches</strong>: Mandatory for all work</li>
<li class=""><strong>PR workflow</strong>: Victor successfully resolved upstream branch issue, has open PR ready for review</li>
<li class=""><strong>Review process</strong>: [jnxmas] reviews and merges into <code>dev</code>
<strong>Dependency Management</strong>:</li>
<li class=""><strong>Poetry ONLY</strong>: NOT pip - ensures library compatibility</li>
<li class=""><strong>Command</strong>: <code>poetry add </code></li>
<li class=""><strong>Action</strong>: Victor + Guru ensure local environments use Poetry
<strong>Documentation</strong>:</li>
<li class=""><strong>Docusaurus blog</strong>: All meeting summaries posted to <code>blog/</code> for async collaboration + AI context (Cursor/Claude code context)</li>
<li class=""><strong>GitHub tasks</strong>: Self-assignment encouraged, commenting for async feedback</li>
<li class=""><strong>Task board</strong>: 3 tasks "In Progress" with all three team members assigned</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="critical-technical-decisions-summary">Critical Technical Decisions Summary<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#critical-technical-decisions-summary" class="hash-link" aria-label="Direct link to Critical Technical Decisions Summary" title="Direct link to Critical Technical Decisions Summary" translate="no">​</a></h2>
<table><thead><tr><th>Component</th><th>Decision</th><th>Owner</th><th>Status</th></tr></thead><tbody><tr><td><strong>Vector DB</strong></td><td>VectorStore (standard)</td><td>Team</td><td>✅ Confirmed</td></tr><tr><td><strong>Embeddings</strong></td><td>NOMIC primary, Mistral backup</td><td>Guru</td><td>✅ Confirmed</td></tr><tr><td><strong>Orchestration</strong></td><td>N8N (Docker, viety.loki.io)</td><td>[jnxmas]</td><td>🟡 ~2h from deployment</td></tr><tr><td><strong>Crawl Tracking</strong></td><td>SQL Lite + SQL Model</td><td>[jnxmas]</td><td>🔴 Design phase</td></tr><tr><td><strong>LLM Providers</strong></td><td>Gemini, Ollama, Mistral, OpenAI, Perplexity</td><td>Team</td><td>✅ Multi-provider</td></tr><tr><td><strong>Opik Setup</strong></td><td>Single dashboard, Dev → Prod, multiple API keys</td><td>[jnxmas]</td><td>🟡 Access pending</td></tr><tr><td><strong>OCR Libraries</strong></td><td>pdf2ocr, Tabula, pypdf (test all 3)</td><td>Victor → [jnxmas]</td><td>🔴 Blocked on crawling</td></tr><tr><td><strong>Prompt Management</strong></td><td>Hardcoded → Opik library (future)</td><td>Guru</td><td>🔴 Not started</td></tr><tr><td><strong>Search Agent</strong></td><td>Conditional on RAG completeness</td><td>TBD</td><td>🟡 On hold</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="firecrawl-pipeline-progress-victors-focus">Firecrawl Pipeline Progress (Victor's Focus)<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#firecrawl-pipeline-progress-victors-focus" class="hash-link" aria-label="Direct link to Firecrawl Pipeline Progress (Victor's Focus)" title="Direct link to Firecrawl Pipeline Progress (Victor's Focus)" translate="no">​</a></h2>
<p><strong>Completed</strong>:</p>
<ul>
<li class="">✅ Debugged and fixed scraper component</li>
<li class="">✅ Fixed crawler functionality (operational after "small but critical" config issues)</li>
<li class="">✅ Open PR ready for review</li>
<li class="">✅ Resolved upstream branch issue
<strong>Current Issues</strong>:</li>
<li class="">⚠️ Pagination settings need adjustment (tested <code>max_pages=10</code>, returned only 1 page)</li>
<li class="">⚠️ Full document retrieval tuning required
<strong>Victor's Timeline</strong>:</li>
<li class=""><strong>Mon-Wed (this week)</strong>: Intensive work, complete Firecrawl pipeline</li>
<li class=""><strong>Thu-Sun</strong>: Unavailable (travel to France - pre-planned holiday)</li>
<li class=""><strong>Following week</strong>: Returns and continues contributions</li>
<li class=""><strong>Goal</strong>: Finish Firecrawl work before Wednesday departure
<strong>Next Steps</strong>:</li>
</ul>
<ol>
<li class="">Victor finalizes additional commits to feature branch</li>
<li class="">Victor signals when PR ready for final review</li>
<li class="">[jnxmas] reviews and merges into <code>dev</code></li>
<li class="">[jnxmas] tests merged pipeline on additional sources during Victor's absence</li>
<li class="">Once crawling complete → Apply OCR to PDFs (pdf2ocr, Tabula, pypdf testing)</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ocr-pipeline-strategy-post-firecrawl">OCR Pipeline Strategy (Post-Firecrawl)<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#ocr-pipeline-strategy-post-firecrawl" class="hash-link" aria-label="Direct link to OCR Pipeline Strategy (Post-Firecrawl)" title="Direct link to OCR Pipeline Strategy (Post-Firecrawl)" translate="no">​</a></h2>
<p><strong>Target Documents</strong>: Scanned PDFs in municipal archives (~4,000+ documents)
<strong>Libraries to Test</strong>:</p>
<ol>
<li class="">pdf2ocr</li>
<li class="">Tabula</li>
<li class="">pypdf
<strong>Approach</strong>: Test all 3, compare outputs for quality
<strong>Owner</strong>: Victor (primary), [jnxmas] (testing during Victor's absence)
<strong>Status</strong>: Blocked on Firecrawl crawling completion</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="project-background--context">Project Background &amp; Context<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#project-background--context" class="hash-link" aria-label="Direct link to Project Background &amp; Context" title="Direct link to Project Background &amp; Context" translate="no">​</a></h2>
<p><strong>Locki Project Evolution</strong>:</p>
<ul>
<li class="">Origin: Started from hackathon 2 years ago</li>
<li class="">Built agents on top of Locki stack</li>
<li class="">Participated in cohorts to improve functionality</li>
<li class="">Previous projects:<!-- -->
<ul>
<li class="">3D objects on-chain (paused - too early/complex, slow blockchain)</li>
<li class="">Horse racing betting strategy (15 years expert knowledge → code/data layer, not yet commercialized)</li>
<li class="">Multiverse Six / XRP experience (3D NFTs)
<strong>[jnxmas]'s Work</strong>:</li>
</ul>
</li>
<li class="">Freelancing: Apps, websites, e-commerce development</li>
<li class="">Computer teacher for small children (Thursdays, 2 hours)</li>
<li class="">Locki is primary passion project ("what makes me wake up in the morning")</li>
<li class="">Successfully built Locki mobile app prototype
<strong>Dev Environment</strong>:</li>
<li class="">VS Code with debug scripts for one-click launch</li>
<li class="">Team using Cursor IDE may need to adapt scripts</li>
<li class="">Victor considering switch to VS Code for easier workflow</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="open-questions--decisions-needed">Open Questions &amp; Decisions Needed<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#open-questions--decisions-needed" class="hash-link" aria-label="Direct link to Open Questions &amp; Decisions Needed" title="Direct link to Open Questions &amp; Decisions Needed" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="for-guru-flagged-for-response">For Guru (Flagged for Response):<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#for-guru-flagged-for-response" class="hash-link" aria-label="Direct link to For Guru (Flagged for Response):" title="Direct link to For Guru (Flagged for Response):" translate="no">​</a></h3>
<ol>
<li class="">✅ <strong>Vector store preference</strong>: VectorStore confirmed, NOMIC embeddings confirmed</li>
<li class="">⏳ <strong>Opik user ID/Discord username</strong>: Needed for dashboard access grant</li>
<li class="">⏳ <strong>Stack alignment review</strong>: Read architecture blog post in repo, suggest improvements</li>
<li class="">⏳ <strong>Charter agent design</strong>: Begin development, provide update in 1-2 days</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="for-victor">For Victor:<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#for-victor" class="hash-link" aria-label="Direct link to For Victor:" title="Direct link to For Victor:" translate="no">​</a></h3>
<ol>
<li class="">⏳ <strong>Opik account status</strong>: Confirm if account exists or needs creation</li>
<li class="">⏳ <strong>Firecrawl PR readiness</strong>: Signal when ready for final review</li>
<li class="">⏳ <strong>Poetry environment</strong>: Verify local setup uses Poetry (not pip)</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="for-jnxmas">For [jnxmas]:<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#for-jnxmas" class="hash-link" aria-label="Direct link to For [jnxmas]:" title="Direct link to For [jnxmas]:" translate="no">​</a></h3>
<ol>
<li class="">⏳ <strong>N8N deployment</strong>: Complete final ~2 hours of setup</li>
<li class="">⏳ <strong>Opik dashboard access</strong>: Invite Guru + Victor (need usernames)</li>
<li class="">⏳ <strong>Document Service requirements</strong>: Define scope and distinction from Chat Service</li>
<li class="">⏳ <strong>Crawl scheduling</strong>: Decide frequency (daily vs. weekly) for production</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="for-team-discussion">For Team Discussion:<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#for-team-discussion" class="hash-link" aria-label="Direct link to For Team Discussion:" title="Direct link to For Team Discussion:" translate="no">​</a></h3>
<ol>
<li class="">⏳ <strong>Search Agent decision</strong>: Revisit after RAG testing complete</li>
<li class="">⏳ <strong>Citizen engagement UX</strong>: Consider simplifying contribution system if low engagement persists</li>
<li class="">⏳ <strong>Effort attribution</strong>: Finalize "all ores tracking template" for fair team contribution recognition</li>
<li class="">⏳ <strong>Prompt management migration</strong>: Timeline for moving hardcoded prompts to Opik library</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="comprehensive-task-list">Comprehensive Task List<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#comprehensive-task-list" class="hash-link" aria-label="Direct link to Comprehensive Task List" title="Direct link to Comprehensive Task List" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="urgent-next-48-hours">URGENT (Next 48 Hours)<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#urgent-next-48-hours" class="hash-link" aria-label="Direct link to URGENT (Next 48 Hours)" title="Direct link to URGENT (Next 48 Hours)" translate="no">​</a></h3>
<p><strong>Task 1: Complete N8N Deployment &amp; GitHub Integration</strong></p>
<ul>
<li class=""><strong>Owner</strong>: [jnxmas] (@[jnxmas])</li>
<li class=""><strong>Description</strong>: Finish final ~2 hours of N8N Docker deployment on viety.loki.io, configure workflows to pull issues from <code>audierne2026</code> repo, trigger charter validation agent, push validated/labeled issues back, provide API endpoint for testing</li>
<li class=""><strong>Deadline</strong>: Within 48 hours (before Guru needs to test agent)</li>
<li class=""><strong>Dependencies</strong>: None (infrastructure task)</li>
<li class=""><strong>Success Criteria</strong>: N8N accessible at viety.loki.io, test workflow successfully pulls/pushes GitHub issue, API endpoint documented
<strong>Task 2: Set Up Opik Dev Environment &amp; Team Access</strong></li>
<li class=""><strong>Owner</strong>: [jnxmas] (@[jnxmas])</li>
<li class=""><strong>Description</strong>: Create/configure <code>Ocapistaine Dev</code> Opik project, generate separate API keys for [jnxmas]/Guru/Victor, grant dashboard access to all team members, document key assignment and usage tracking approach</li>
<li class=""><strong>Deadline</strong>: Before Guru starts agent development (next 24 hours)</li>
<li class=""><strong>Dependencies</strong>: Guru's Opik user ID/Discord username, Victor's Opik account confirmation</li>
<li class=""><strong>Success Criteria</strong>: All team members can access dashboard, separate keys functional, usage trackable per developer
<strong>Task 3: Complete Firecrawl Pipeline Implementation</strong></li>
<li class=""><strong>Owner</strong>: Victor (@zcbtvag)</li>
<li class=""><strong>Description</strong>: Finalize additional commits to Firecrawl feature branch, fix pagination settings to ensure full document retrieval, test with multiple sources, signal when PR ready for final review</li>
<li class=""><strong>Deadline</strong>: Wednesday (before France travel)</li>
<li class=""><strong>Dependencies</strong>: Firecrawl API keys, crawler pagination tuning</li>
<li class=""><strong>Success Criteria</strong>: PR merged without conflicts, Firecrawl successfully crawls full test dataset, documented in code
<strong>Task 4: Build Charter Validation Agent - Core Logic</strong></li>
<li class=""><strong>Owner</strong>: Guru (@GurmeherSingh)</li>
<li class=""><strong>Description</strong>: Develop charter validation agent that reads citizen contribution issues from <code>audierne2026</code> repo, validates against charter rules (respectful, no naming, constructive), auto-corrects category misclassifications (7 categories), returns binary validation + corrected category, integrates Opik evaluation at every decision point</li>
<li class=""><strong>Deadline</strong>: Update in 1-2 days, full prototype ASAP (foundation for other workflows)</li>
<li class=""><strong>Dependencies</strong>: Access to Opik dashboard, <code>audierne2026</code> repo read access, N8N API endpoint</li>
<li class=""><strong>Success Criteria</strong>: Agent correctly validates 95%+ test cases, Opik traces show decision transparency, category corrections work</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="high-priority-this-week">HIGH PRIORITY (This Week)<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#high-priority-this-week" class="hash-link" aria-label="Direct link to HIGH PRIORITY (This Week)" title="Direct link to HIGH PRIORITY (This Week)" translate="no">​</a></h3>
<p><strong>Task 5: Build RAG Agent with Opik Integration</strong></p>
<ul>
<li class=""><strong>Owner</strong>: Guru (@GurmeherSingh)</li>
<li class=""><strong>Description</strong>: Develop core RAG agent for citizen Q&amp;A, integrate NOMIC embeddings (primary) + Mistral (backup), implement Opik for evaluation/tracing/hallucination prevention, generate neutral contextual responses with source attribution, cross-reference municipal program data</li>
<li class=""><strong>Deadline</strong>: Update in 1-2 days, working prototype by end of week (Jan 30-31)</li>
<li class=""><strong>Dependencies</strong>: VectorStore setup, crawled data (start with available), Opik access</li>
<li class=""><strong>Success Criteria</strong>: Functional RAG agent with Opik tracing active, no hallucinations in test cases, proper French language responses
<strong>Task 6: Firecrawl PR Review &amp; Merge</strong></li>
<li class=""><strong>Owner</strong>: Victor (@zcbtvag) + [jnxmas] (review)</li>
<li class=""><strong>Description</strong>: Victor signals PR ready, [jnxmas] reviews and merges into <code>dev</code> branch, test merged pipeline functionality</li>
<li class=""><strong>Deadline</strong>: End of week (allow Victor time for improvements)</li>
<li class=""><strong>Dependencies</strong>: Task 3 completion</li>
<li class=""><strong>Success Criteria</strong>: PR merged, Firecrawl pipeline functional on test sources
<strong>Task 7: Test Firecrawl on Additional Sources &amp; Build Crawl Tracking DB</strong></li>
<li class=""><strong>Owner</strong>: [jnxmas] (@[jnxmas])</li>
<li class=""><strong>Description</strong>: Intensively test Victor's Firecrawl code on ocapistaine repo PDFs/websites and other sources beyond current scope, begin SQL Lite/SQL Model database for tracking crawled content with metadata (crawl status, RAG inclusion, content category)</li>
<li class=""><strong>Deadline</strong>: Sunday evening (status update)</li>
<li class=""><strong>Dependencies</strong>: Task 6 completion (merged Firecrawl code)</li>
<li class=""><strong>Success Criteria</strong>: Multiple sources tested successfully, tracking database prototype with crawl status and categorization functional
<strong>Task 8: Explore Opik Platform Features</strong></li>
<li class=""><strong>Owner</strong>: All team members</li>
<li class=""><strong>Description</strong>: Familiarize with Opik capabilities, dashboards, prompt library, evaluation features, tracing, metrics, experiment tracking</li>
<li class=""><strong>Deadline</strong>: Next 2-3 days (parallel with development)</li>
<li class=""><strong>Dependencies</strong>: Opik access granted (Task 2)</li>
<li class=""><strong>Success Criteria</strong>: Team comfortable with platform, ready to maximize hackathon showcase, documented learnings
<strong>Task 9: Poetry Dependency Management Setup</strong></li>
<li class=""><strong>Owner</strong>: Victor (@zcbtvag) + Guru (@GurmeherSingh)</li>
<li class=""><strong>Description</strong>: Ensure local dev environments use Poetry (not pip) for all library additions, verify compatible with current workflows</li>
<li class=""><strong>Deadline</strong>: Before next library additions</li>
<li class=""><strong>Dependencies</strong>: Poetry installed locally</li>
<li class=""><strong>Success Criteria</strong>: No pip-related dependency conflicts, <code>pyproject.toml</code> up to date, team using <code>poetry add </code> exclusively</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="medium-priority-next-week">MEDIUM PRIORITY (Next Week)<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#medium-priority-next-week" class="hash-link" aria-label="Direct link to MEDIUM PRIORITY (Next Week)" title="Direct link to MEDIUM PRIORITY (Next Week)" translate="no">​</a></h3>
<p><strong>Task 10: Test OCR Libraries on Scanned PDFs</strong></p>
<ul>
<li class=""><strong>Owner</strong>: Victor (@zcbtvag) → [jnxmas] (if Victor unavailable)</li>
<li class=""><strong>Description</strong>: Test pdf2ocr, Tabula, pypdf on sample scanned PDFs from municipal archives, compare outputs for quality, select best library/combination for production</li>
<li class=""><strong>Deadline</strong>: Immediately after crawling complete (or during Victor's absence)</li>
<li class=""><strong>Dependencies</strong>: Task 3/6 completion (crawling functional)</li>
<li class=""><strong>Success Criteria</strong>: 3 libraries tested, quality comparison documented, production OCR library selected
<strong>Task 11: Architecture Documentation Review</strong></li>
<li class=""><strong>Owner</strong>: Guru (@GurmeherSingh) + Victor (@zcbtvag)</li>
<li class=""><strong>Description</strong>: Read architecture blog post [jnxmas] created (in <code>ocapistaine</code> repo), suggest additions specifically around NOMIC embedding implementation details, RAG service integration points, any conflicts/improvements from experience</li>
<li class=""><strong>Deadline</strong>: Next 2-3 days (before architecture freeze)</li>
<li class=""><strong>Dependencies</strong>: Access to blog in repo</li>
<li class=""><strong>Success Criteria</strong>: Comments/suggestions posted, team aligned on architecture
<strong>Task 12: Define Document Service Requirements</strong></li>
<li class=""><strong>Owner</strong>: [jnxmas] + Guru + Victor</li>
<li class=""><strong>Description</strong>: Collaboratively define Document Service scope: query documentation/source info, scheduled re-crawling (detect new docs), document categorization + metadata tagging, change detection logic (compare current vs. new crawls), decide if separate DB needed, clarify distinction from Chat Service</li>
<li class=""><strong>Deadline</strong>: Next sync meeting</li>
<li class=""><strong>Dependencies</strong>: Vector store decision (confirmed), crawl tracking DB design (Task 7)</li>
<li class=""><strong>Success Criteria</strong>: Document Service requirements documented, team aligned, ready for implementation
<strong>Task 13: Finish All Ores Tracking Template</strong></li>
<li class=""><strong>Owner</strong>: [jnxmas] (@[jnxmas])</li>
<li class=""><strong>Description</strong>: Complete effort attribution tracking system for fair team contribution recognition, share with team for feedback</li>
<li class=""><strong>Deadline</strong>: ASAP (ongoing discussion on Discord)</li>
<li class=""><strong>Dependencies</strong>: None</li>
<li class=""><strong>Success Criteria</strong>: Template finalized, shared on Discord, team feedback incorporated
<strong>Task 14: Follow Up with Remaining Electoral List</strong></li>
<li class=""><strong>Owner</strong>: [jnxmas] (@[jnxmas])</li>
<li class=""><strong>Description</strong>: Contact 4th electoral list for outreach, gauge interest in Audierne2026 project</li>
<li class=""><strong>Deadline</strong>: Before January 31 (contributions deadline)</li>
<li class=""><strong>Dependencies</strong>: None</li>
<li class=""><strong>Success Criteria</strong>: All 4 lists contacted, responses documented</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="future--conditional">FUTURE / CONDITIONAL<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#future--conditional" class="hash-link" aria-label="Direct link to FUTURE / CONDITIONAL" title="Direct link to FUTURE / CONDITIONAL" translate="no">​</a></h3>
<p><strong>Task 15: Search Agent Design &amp; Implementation</strong> (CONDITIONAL)</p>
<ul>
<li class=""><strong>Owner</strong>: TBD (likely Guru)</li>
<li class=""><strong>Description</strong>: IF RAG agent proves insufficient during testing, design and implement Search Agent as fallback for citizen queries</li>
<li class=""><strong>Deadline</strong>: Week 2 of sprint (after RAG testing complete)</li>
<li class=""><strong>Dependencies</strong>: Task 5 completion (RAG agent functional), RAG sufficiency evaluation</li>
<li class=""><strong>Success Criteria</strong>: Decision documented (Search Agent needed: yes/no), if yes → design document with Opik integration plan
<strong>Task 16: Migrate Prompts to Opik Library</strong> (FUTURE)</li>
<li class=""><strong>Owner</strong>: Guru (@GurmeherSingh)</li>
<li class=""><strong>Description</strong>: After initial hardcoded prompts working, migrate to Opik prompt library for centralized management, versioning, experimentation</li>
<li class=""><strong>Deadline</strong>: Post-hackathon or if time permits in sprint</li>
<li class=""><strong>Dependencies</strong>: Opik platform familiarity (Task 8), working agents with hardcoded prompts</li>
<li class=""><strong>Success Criteria</strong>: Prompts managed in Opik, agents use library-based prompts, versioning functional
<strong>Task 17: Redis Integration for Scheduler + Task Memory</strong></li>
<li class=""><strong>Owner</strong>: [jnxmas] (@[jnxmas])</li>
<li class=""><strong>Description</strong>: Integrate Redis for APScheduler persistence and task memory across restarts</li>
<li class=""><strong>Deadline</strong>: Post-initial prototype (when scaling/production readiness needed)</li>
<li class=""><strong>Dependencies</strong>: Working scheduler tasks (crawl updates, GitHub monitoring)</li>
<li class=""><strong>Success Criteria</strong>: Scheduler tasks persist across app restarts, task memory functional
<strong>Task 18: Citizen Q&amp;A RAG Agent - Planning</strong> (After Charter Agent)</li>
<li class=""><strong>Owner</strong>: Guru (@GurmeherSingh)</li>
<li class=""><strong>Description</strong>: After charter agent working, design second RAG agent iteration for citizen questions: reads validated contributions from charter agent, generates neutral contextual responses, cross-references municipal program data, no hallucinations (Opik guardrails)</li>
<li class=""><strong>Deadline</strong>: Week 2 of sprint (after charter agent complete)</li>
<li class=""><strong>Dependencies</strong>: Charter agent functional (Task 4), N8N workflows ready, VectorStore populated</li>
<li class=""><strong>Success Criteria</strong>: Design document with Opik integration plan, data flow diagram</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="risk-assessment--mitigations">Risk Assessment &amp; Mitigations<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#risk-assessment--mitigations" class="hash-link" aria-label="Direct link to Risk Assessment &amp; Mitigations" title="Direct link to Risk Assessment &amp; Mitigations" translate="no">​</a></h2>
<table><thead><tr><th>Risk</th><th>Impact</th><th>Mitigation</th><th>Owner</th><th>Status</th></tr></thead><tbody><tr><td><strong>Guru missing from stack discussion</strong></td><td>Medium</td><td>Record meetings, request written feedback on tasks, schedule follow-up calls</td><td>[jnxmas]</td><td>🟢 Mitigated (recordings shared)</td></tr><tr><td><strong>Victor unavailable Thu-Sun</strong></td><td>Medium</td><td>Victor completes Firecrawl by Wed, [jnxmas] tests during absence</td><td>Victor + [jnxmas]</td><td>🟢 Planned</td></tr><tr><td><strong>Crawler pagination not returning full results</strong></td><td>High</td><td>Victor debugging this week; if blocked, escalate to team</td><td>Victor</td><td>🟡 In progress</td></tr><tr><td><strong>N8N deployment blocking agent testing</strong></td><td>High</td><td>[jnxmas] prioritizes ~2h completion ASAP</td><td>[jnxmas]</td><td>🟡 In progress</td></tr><tr><td><strong>Opik access blocking Guru's development</strong></td><td>High</td><td>[jnxmas] grants access within 24h (need Guru's username)</td><td>[jnxmas]</td><td>🟡 In progress</td></tr><tr><td><strong>Vector store decision blocking RAG</strong></td><td>Medium</td><td>VectorStore + NOMIC confirmed; fallback = Mistral Studio</td><td>Guru + [jnxmas]</td><td>🟢 Resolved</td></tr><tr><td><strong>OCR quality unknown for scanned PDFs</strong></td><td>Medium</td><td>Test 3 libraries (pdf2ocr, Tabula, pypdf), compare outputs</td><td>Victor → [jnxmas]</td><td>🟡 Planned</td></tr><tr><td><strong>4-week sprint timeline pressure</strong></td><td>High</td><td>Prioritize working prototype over perfection, ruthless task board management, limit to "two tracks" (NOMIC + Mistral)</td><td>All</td><td>🟡 Ongoing</td></tr><tr><td><strong>First agent not live before contributions deadline (~Feb 1)</strong></td><td>Critical</td><td>Fast-track Charter agent development this week, daily standups</td><td>Guru + [jnxmas]</td><td>🔴 Active risk</td></tr><tr><td><strong>Low citizen engagement with contributions</strong></td><td>Medium</td><td>Consider UX simplification, focus on chatbot quality over contribution volume</td><td>[jnxmas]</td><td>🟡 Monitoring</td></tr><tr><td><strong>Team still in ideation phase despite deadline pressure</strong></td><td>Medium</td><td>Shift to execution mode immediately, lock architecture decisions</td><td>All</td><td>🟡 Transitioning</td></tr><tr><td><strong>French language hallucinations/bias in chatbot</strong></td><td>Critical</td><td>Mistral backup, heavy Opik guardrails, manual testing in French</td><td>Guru + [jnxmas]</td><td>🟡 Design phase</td></tr><tr><td><strong>Hackathon Opik showcase insufficient</strong></td><td>Medium</td><td>"Maximize Opik at every opportunity", document integration patterns, trace everything</td><td>Guru</td><td>🟡 In progress</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="alignment-confirmations--strategic-notes">Alignment Confirmations &amp; Strategic Notes<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#alignment-confirmations--strategic-notes" class="hash-link" aria-label="Direct link to Alignment Confirmations &amp; Strategic Notes" title="Direct link to Alignment Confirmations &amp; Strategic Notes" translate="no">​</a></h2>
<p><strong>✅ Strong Alignments</strong>:</p>
<ul>
<li class="">Opik-first approach aligns perfectly with hackathon goals</li>
<li class="">Multi-provider LLM strategy provides resilience and cost optimization</li>
<li class="">French language focus (Mistral) addresses political optics and user needs</li>
<li class="">Modular ETL architecture enables swapping components without rewrites</li>
<li class="">Team expertise (NOMIC, Streamlit, VectorStore) matches stack decisions</li>
<li class="">Task ownership clear and distributed well (Guru = agents, Victor = crawling, [jnxmas] = infrastructure/orchestration)
<strong>⚠️ Potential Misalignments</strong>:</li>
<li class=""><strong>Timeline vs. scope</strong>: 4 weeks for full pipeline (crawling + OCR + RAG + Charter agent + chatbot + Opik showcase) is aggressive<!-- -->
<ul>
<li class=""><strong>Mitigation</strong>: Limit to "two tracks" (NOMIC primary, Mistral backup), prioritize Charter agent + basic RAG over perfect Search Agent</li>
</ul>
</li>
<li class=""><strong>Citizen engagement vs. effort</strong>: Low contribution volume may not justify complex validation workflow<!-- -->
<ul>
<li class=""><strong>Mitigation</strong>: Focus on chatbot quality (broader citizen reach) over contribution automation</li>
</ul>
</li>
<li class=""><strong>Team availability gaps</strong>: Victor's Thu-Sun absence, Guru's jet lag, [jnxmas]'s teaching commitment<!-- -->
<ul>
<li class=""><strong>Mitigation</strong>: Strong async collaboration (recordings, blog summaries, GitHub comments), clear handoffs
<strong>🔍 Clarifications Needed</strong>:</li>
</ul>
</li>
<li class=""><strong>Document Service vs. Chat Service</strong>: Distinction still fuzzy (addressed as: Document = search/crawl management; Chat = conversational interface, but needs formal requirements doc)</li>
<li class=""><strong>Search Agent necessity</strong>: Conditional decision pending RAG testing (good pragmatic approach)</li>
<li class=""><strong>Opik dashboard structure</strong>: Single unified dashboard confirmed, but team needs to explore platform features to maximize value
<strong>📈 Recommended Focus Areas</strong>:</li>
</ul>
<ol>
<li class=""><strong>This week</strong>: Charter agent + RAG agent + Firecrawl completion + Opik access = critical path</li>
<li class=""><strong>Next week</strong>: OCR testing + Document Service definition + crawl tracking DB = data pipeline completion</li>
<li class=""><strong>Week 3-4</strong>: Integration, testing, French language validation, Opik showcase polish, citizen-facing chatbot MVP</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="documentation--knowledge-management">Documentation &amp; Knowledge Management<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#documentation--knowledge-management" class="hash-link" aria-label="Direct link to Documentation &amp; Knowledge Management" title="Direct link to Documentation &amp; Knowledge Management" translate="no">​</a></h2>
<p><strong>Current Practices</strong> (Strong):</p>
<ul>
<li class="">✅ Docusaurus blog: Meeting summaries posted to <code>blog/</code> for async collaboration</li>
<li class="">✅ GitHub tasks: Self-assignment, commenting for feedback</li>
<li class="">✅ Task board: 3 tasks "In Progress" with assignments</li>
<li class="">✅ Architecture blog post: Created for team review + AI context (Cursor/Claude)</li>
<li class="">✅ Meeting recordings: Shared for async team members (Guru)</li>
<li class="">✅ "Tell what we do and do what we tell": Commitment tracking across conversations
<strong>Improvements Suggested</strong>:</li>
<li class="">📝 Document Opik integration patterns as you build (hackathon showcase value)</li>
<li class="">📝 Create crawl tracking DB schema diagram (avoid ambiguity)</li>
<li class="">📝 Formalize Document Service requirements doc (per Task 12)</li>
<li class="">📝 Keep citizen-facing deliverable timeline visible (dashboard/Gantt chart)</li>
<li class="">📝 Document OCR library comparison results (Task 10)</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="next-sync-meeting-agenda-suggested">Next Sync Meeting Agenda (Suggested)<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#next-sync-meeting-agenda-suggested" class="hash-link" aria-label="Direct link to Next Sync Meeting Agenda (Suggested)" title="Direct link to Next Sync Meeting Agenda (Suggested)" translate="no">​</a></h2>
<ol>
<li class=""><strong>N8N + Opik access</strong>: Confirm both unblocked ([jnxmas] updates)</li>
<li class=""><strong>Firecrawl PR status</strong>: Review and merge if ready (Victor + [jnxmas])</li>
<li class=""><strong>Charter agent progress</strong>: Demo initial prototype, discuss Opik traces (Guru)</li>
<li class=""><strong>RAG agent update</strong>: Share approach, blockers, timeline (Guru)</li>
<li class=""><strong>Crawl tracking DB</strong>: Review schema design ([jnxmas])</li>
<li class=""><strong>Document Service requirements</strong>: Collaborative definition session (All)</li>
<li class=""><strong>Task board review</strong>: Close completed tasks, reprioritize open items (All)</li>
<li class=""><strong>Opik showcase strategy</strong>: What metrics/traces will impress hackathon judges? (All)</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="status-dashboard">Status Dashboard<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#status-dashboard" class="hash-link" aria-label="Direct link to Status Dashboard" title="Direct link to Status Dashboard" translate="no">​</a></h2>
<p><strong>Overall Progress</strong>:</p>
<ul>
<li class="">🟢 <strong>Architecture</strong>: Finalized (VectorStore, NOMIC, Mistral, N8N, Opik strategy confirmed)</li>
<li class="">🟡 <strong>Firecrawl Pipeline</strong>: Victor progressing, PR open, completion target Wed</li>
<li class="">🟡 <strong>N8N Deployment</strong>: ~2 hours from completion (infrastructure blocker)</li>
<li class="">🟡 <strong>Opik Setup</strong>: Account exists, team access pending (need usernames)</li>
<li class="">🔴 <strong>Charter Agent</strong>: Not started (blocked by Opik access + N8N)</li>
<li class="">🟡 <strong>RAG Agent</strong>: Starting development, update expected 1-2 days</li>
<li class="">🔴 <strong>OCR Pipeline</strong>: Blocked on crawling completion</li>
<li class="">🔴 <strong>Crawl Tracking DB</strong>: Design phase</li>
<li class="">🟢 <strong>Team Coordination</strong>: Strong communication, clear roles, async collaboration working</li>
<li class="">🟡 <strong>Political Outreach</strong>: 3/4 lists contacted, positive signals</li>
<li class="">🔴 <strong>Citizen Engagement</strong>: Low contribution volume (UX consideration needed)</li>
<li class="">🟢 <strong>Documentation</strong>: Blog summaries active, recordings shared, task tracking functional
<strong>Open High-Priority Tasks</strong> (Top 5):</li>
</ul>
<ol>
<li class=""><strong>🔴 URGENT</strong>: Complete N8N deployment ([jnxmas], &lt;48h) - blocks agent testing</li>
<li class=""><strong>🔴 URGENT</strong>: Set up Opik team access ([jnxmas], &lt;24h) - blocks Guru's development</li>
<li class=""><strong>🔴 URGENT</strong>: Complete Firecrawl pipeline (Victor, by Wed) - data ingestion dependency</li>
<li class=""><strong>🔴 HIGH</strong>: Build Charter validation agent (Guru, update 1-2 days) - critical path for hackathon</li>
<li class=""><strong>🔴 HIGH</strong>: Build RAG agent with Opik (Guru, update 1-2 days) - citizen-facing deliverable
<strong>Next Milestones</strong>:</li>
</ol>
<ul>
<li class=""><strong>Week 1 Goal (by ~Jan 30-31)</strong>: Charter validation agent functional with Opik tracing + Firecrawl pipeline merged + N8N orchestrating GitHub workflows + RAG agent prototype</li>
<li class=""><strong>Immediate Blockers</strong>: N8N deployment (&lt;48h), Opik access (&lt;24h), Firecrawl pagination tuning (&lt;3 days)</li>
<li class=""><strong>Hackathon Prototype Delivery</strong>: ~mid-February 2026 (2.5 weeks remaining from late Jan)</li>
<li class=""><strong>Critical Path</strong>: Crawling → OCR → Vector DB → RAG + Opik → Chatbot MVP → French language validation
<strong>Team Availability This Week</strong>:</li>
<li class=""><strong>Guru</strong>: Available now (jet-lagged but active), development starting</li>
<li class=""><strong>Victor</strong>: Intensive Mon-Wed, unavailable Thu-Sun (France travel)</li>
<li class=""><strong>[jnxmas]</strong>: Full availability, prioritizing N8N/Opik/testing during Victor's absence
<strong>Risk Level</strong>: 🟡 <strong>MEDIUM-HIGH</strong> - Timeline tight, first agent not yet live despite approaching contributions deadline, but team aligned and architecture solid. Immediate focus on unblocking N8N + Opik access will shift to 🟢 GREEN if completed within 48h.</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="action-summary---what-happens-next">Action Summary - What Happens Next<a href="https://docs.locki.io/blog/meeting-ocapistaine-1#action-summary---what-happens-next" class="hash-link" aria-label="Direct link to Action Summary - What Happens Next" title="Direct link to Action Summary - What Happens Next" translate="no">​</a></h2>
<p><strong>Immediate (Next 24 Hours)</strong>:</p>
<ol>
<li class="">[jnxmas] completes N8N deployment (~2 hours)</li>
<li class="">[jnxmas] sets up Opik team access (needs Guru + Victor usernames via Discord)</li>
<li class="">Guru shares Opik user ID/Discord username</li>
<li class="">Victor continues Firecrawl pagination debugging</li>
<li class="">Team explores Opik platform features once access granted</li>
</ol>
<p><strong>This Week (Next 3-7 Days)</strong>:</p>
<ol>
<li class="">Victor completes Firecrawl PR by Wednesday</li>
<li class="">[jnxmas] reviews and merges Firecrawl PR</li>
<li class="">Guru develops Charter validation agent, provides update in 1-2 days</li>
<li class="">Guru develops RAG agent prototype, provides update in 1-2 days</li>
<li class="">[jnxmas] tests Firecrawl on additional sources during Victor's absence</li>
<li class="">[jnxmas] begins crawl tracking DB with SQL Model</li>
<li class="">Guru + Victor review architecture blog post, suggest improvements</li>
<li class="">All team members familiarize with Opik capabilities</li>
</ol>
<p><strong>Next Week (Week 2 of Sprint)</strong>:</p>
<ol>
<li class="">OCR library testing begins (Victor returns, or [jnxmas] covers)</li>
<li class="">Document Service requirements defined collaboratively</li>
<li class="">RAG agent fully functional with Opik guardrails</li>
<li class="">Charter agent deployed to N8N workflows</li>
<li class="">Crawl tracking DB prototype operational</li>
<li class="">Architecture frozen, team shifts to integration phase</li>
</ol>
<p><strong>Week 3-4 (Final Sprint)</strong>:</p>
<ol>
<li class="">Full pipeline integration testing</li>
<li class="">French language validation and bias checking</li>
<li class="">Citizen-facing chatbot MVP deployment</li>
<li class="">Opik showcase polish (metrics, traces, dashboards, experiment tracking)</li>
<li class="">Hackathon submission preparation</li>
<li class="">Final outreach to 4th electoral list</li>
<li class="">Documentation finalization</li>
</ol>
<hr>
<p><strong>Confidence Level</strong>: 🟡 <strong>CAUTIOUSLY OPTIMISTIC</strong> - Strong team, solid architecture, clear tasks, but timeline aggressive and first agent not yet live. Success depends on unblocking N8N + Opik access within 48h and Charter agent prototype within 1 week. Victor's Wed deadline and Guru's jet lag are manageable with current plans.
<strong>Recommendation</strong>: Daily async standups (Discord) this week to track Charter agent + Firecrawl progress. Consider lightweight demo/review session Friday to validate week 1 progress before weekend.</p>]]></content:encoded>
            <category>Sprints</category>
            <category>civitech</category>
            <category>RAG</category>
            <category>Locki Labs</category>
            <category>Meeting</category>
            <category>Encode hackathon</category>
        </item>
        <item>
            <title><![CDATA[Lets us code]]></title>
            <link>https://docs.locki.io/blog/meher-jnxmas-letscode</link>
            <guid>https://docs.locki.io/blog/meher-jnxmas-letscode</guid>
            <pubDate>Fri, 16 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Project Overview & Vision]]></description>
            <content:encoded><![CDATA[<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="project-overview--vision">Project Overview &amp; Vision<a href="https://docs.locki.io/blog/meher-jnxmas-letscode#project-overview--vision" class="hash-link" aria-label="Direct link to Project Overview &amp; Vision" title="Direct link to Project Overview &amp; Vision" translate="no">​</a></h3>
<ul>
<li class="">The core idea is building an <strong>AI-powered civic transparency platform</strong> focused on local democracy, citizen engagement, and real-world issues (starting with inspiration from India, but with potential global scalability).</li>
<li class="">Goal: Create a standardized, bullshit-free alternative to Twitter/X discussions for civic topics — avoiding noise and enabling structured transparency for citizens, investors, and "democracy islands" (e.g., places like Audierne).</li>
<li class="">It's tied to the <strong>"Commit to Change" AI Agents Hackathon</strong> (powered by Opik / Comet), running ~4 weeks starting mid-January 2026, with categories like Community Impact.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="hackathon-focus--judging-criteria-emphasis">Hackathon Focus &amp; Judging Criteria Emphasis<a href="https://docs.locki.io/blog/meher-jnxmas-letscode#hackathon-focus--judging-criteria-emphasis" class="hash-link" aria-label="Direct link to Hackathon Focus &amp; Judging Criteria Emphasis" title="Direct link to Hackathon Focus &amp; Judging Criteria Emphasis" translate="no">​</a></h3>
<ul>
<li class="">Heavy emphasis on <strong>Opik integration</strong> for observability, evaluation, metrics, dashboards, experiment tracking, and improving LLM/agent quality.</li>
<li class="">Key criteria to nail: Functionality, real-world relevance (New Year’s/civic goals), effective LLM/agent use, robust evaluation/monitoring, and deep Opik workflow integration (not just fluff).</li>
<li class="">Plan: Automate Opik feedback into the platform for a "virtuous circle" of optimization. Showcase Opik at every stage (dev workflow, runtime monitoring, etc.).</li>
<li class="">Strategy: Prioritize smooth, meaningful Opik use → even if some parts feel like "fluff," lean into it for judging scores.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="team--collaboration-setup">Team &amp; Collaboration Setup<a href="https://docs.locki.io/blog/meher-jnxmas-letscode#team--collaboration-setup" class="hash-link" aria-label="Direct link to Team &amp; Collaboration Setup" title="Direct link to Team &amp; Collaboration Setup" translate="no">​</a></h3>
<ul>
<li class="">You created/invited Meher to the project using team join code: <strong>0e10f89d</strong> (valid until Jan 17, 2026).</li>
<li class="">Repo: <strong>Ocapistaine</strong> (on GitHub) — you updated it with:<!-- -->
<ul>
<li class="">Clear license</li>
<li class="">Collaboration addendum / agreements</li>
<li class="">Docusaurus as submodule for docs</li>
<li class="">Project board with tasks (including Opik-specific ones)</li>
</ul>
</li>
<li class="">You proposed a fair structure for handling prize money / motivation (Meher called it "very clean" and liked it).</li>
<li class="">Meher was pending → accepted invite; you both coordinated joining the hackathon portal/team.</li>
<li class="">Another collaborator (Vic) self-assigned tasks.</li>
<li class="">You shared the kickoff doc: <a href="https://docs.locki.io/blog/ocapistaine-hackathon-kickoff" target="_blank" rel="noopener noreferrer" class="">https://docs.locki.io/blog/ocapistaine-hackathon-kickoff</a> (titled "Ò Capistaine Kick-off | AI-Powered Civic Transparency for Local Democracy").</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="monetization--long-term-ideas">Monetization &amp; Long-Term Ideas<a href="https://docs.locki.io/blog/meher-jnxmas-letscode#monetization--long-term-ideas" class="hash-link" aria-label="Direct link to Monetization &amp; Long-Term Ideas" title="Direct link to Monetization &amp; Long-Term Ideas" translate="no">​</a></h3>
<ul>
<li class="">You have ideas for monetizing / turning it into a full startup (trust-based, you'll share more).</li>
<li class="">Potential global expansion discussed, but start focused (e.g., India as strong testbed).</li>
<li class="">References to past hackathon success (you + Satish, 4th place with on-chain 3D objects + AI chatbot).</li>
<li class="">Avoid overkill like Decidim platforms — keep it practical and thrilling.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="recent-status--next-steps">Recent Status &amp; Next Steps<a href="https://docs.locki.io/blog/meher-jnxmas-letscode#recent-status--next-steps" class="hash-link" aria-label="Direct link to Recent Status &amp; Next Steps" title="Direct link to Recent Status &amp; Next Steps" translate="no">​</a></h3>
<ul>
<li class="">Meher was occasionally busy/catching up (dinner, out, etc.) but engaged.</li>
<li class="">As of last messages (~Jan 15–16, 2026):<!-- -->
<ul>
<li class="">Everyone's in the team/repo.</li>
<li class="">Ready to start <strong>coding</strong> (both excited: "tickles in fingers").</li>
<li class="">Emphasis on transparent task assignment ("tell what we do and do what we tell").</li>
<li class="">Call happened in Ocapistaine channel.</li>
<li class="">Brainstorming better Opik showcases ongoing.</li>
</ul>
</li>
</ul>
<p><strong>Overall vibe</strong>: Enthusiastic, trusting partnership ("I trust you!"). You're leading repo/docs/setup/strategy; Meher is on board, catching up, and eager to code + highlight Opik. Project is now properly set up and ready to build — focus on delivering a functional, Opik-heavy prototype for the hackathon deadline.</p>]]></content:encoded>
            <category>Encode hackathon</category>
            <category>civitech</category>
        </item>
        <item>
            <title><![CDATA[Ò Capistaine Kick-off]]></title>
            <link>https://docs.locki.io/blog/ocapistaine-hackathon-kickoff</link>
            <guid>https://docs.locki.io/blog/ocapistaine-hackathon-kickoff</guid>
            <pubDate>Thu, 15 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[AI-Powered Civic Transparency for Local Democracy]]></description>
            <content:encoded><![CDATA[<p><strong>AI-Powered Civic Transparency for Local Democracy</strong></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="my-2026-resolution">My 2026 Resolution<a href="https://docs.locki.io/blog/ocapistaine-hackathon-kickoff#my-2026-resolution" class="hash-link" aria-label="Direct link to My 2026 Resolution" title="Direct link to My 2026 Resolution" translate="no">​</a></h2>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>The Promise</div><div class="admonitionContent_BuS1"><p>This year, I will finally understand my local elections and get involved as a citizen.</p></div></div>
<p>Sound familiar? Every election cycle, millions of citizens want to participate but face the same wall: scattered documents, administrative jargon, and no time to dig through years of municipal decisions.</p>
<p><strong>This January, I stopped just wishing — and started building.</strong></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-were-building">What We're Building<a href="https://docs.locki.io/blog/ocapistaine-hackathon-kickoff#what-were-building" class="hash-link" aria-label="Direct link to What We're Building" title="Direct link to What We're Building" translate="no">​</a></h2>
<p>Ò Capistaine is my answer to the civic engagement resolution we've all made (and broken). It's an AI-powered transparency tool that:</p>
<table><thead><tr><th>Feature</th><th>Description</th></tr></thead><tbody><tr><td><strong>Document Crawling</strong></td><td>Index 4,000+ municipal documents with Firecrawl + OCR</td></tr><tr><td><strong>Citizen Q&amp;A</strong></td><td>Answer questions in plain language via RAG</td></tr><tr><td><strong>Quality Tracking</strong></td><td>Monitor LLM accuracy with Opik (hallucination detection)</td></tr><tr><td><strong>Multi-Channel</strong></td><td>N8N workflows for Facebook, email, and chatbot engagement</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Live Platform</div><div class="admonitionContent_BuS1"><p>Supporting <a href="https://audierne2026.fr/" target="_blank" rel="noopener noreferrer" class="">audierne2026.fr</a> — a participatory democracy platform where citizens co-create the 2026 municipal program.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="progress-update-checkpoint-1">Progress Update (Checkpoint 1)<a href="https://docs.locki.io/blog/ocapistaine-hackathon-kickoff#progress-update-checkpoint-1" class="hash-link" aria-label="Direct link to Progress Update (Checkpoint 1)" title="Direct link to Progress Update (Checkpoint 1)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="status-overview">Status Overview<a href="https://docs.locki.io/blog/ocapistaine-hackathon-kickoff#status-overview" class="hash-link" aria-label="Direct link to Status Overview" title="Direct link to Status Overview" translate="no">​</a></h3>
<table><thead><tr><th>Component</th><th style="text-align:center">Status</th><th>Details</th></tr></thead><tbody><tr><td><strong>audierne2026.fr</strong></td><td style="text-align:center">✅</td><td>Jekyll platform live, citizens contributing</td></tr><tr><td><strong>Document Corpus</strong></td><td style="text-align:center">🟡</td><td>42 Gwaien bulletins collected, 4,000+ arrêtés identified</td></tr><tr><td><strong>Firecrawl Pipeline</strong></td><td style="text-align:center">🔴</td><td>Infrastructure designed, crawling not yet operational</td></tr><tr><td><strong>Opik Integration</strong></td><td style="text-align:center">🟡</td><td>Tracing architecture planned, awaiting RAG implementation</td></tr><tr><td><strong>N8N Workflows</strong></td><td style="text-align:center">🟡</td><td>Vaettir repo created, FB/email integration designed</td></tr><tr><td><strong>RAG System</strong></td><td style="text-align:center">🔴</td><td>Vector store + retrieval pipeline pending</td></tr><tr><td><strong>Documentation</strong></td><td style="text-align:center">✅</td><td><a href="https://docs.locki.io/" target="_blank" rel="noopener noreferrer" class="">docs.locki.io</a> live with methodologies</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="whats-working">What's Working<a href="https://docs.locki.io/blog/ocapistaine-hackathon-kickoff#whats-working" class="hash-link" aria-label="Direct link to What's Working" title="Direct link to What's Working" translate="no">​</a></h3>
<ul>
<li class="">Live participation platform with real citizen contributions</li>
<li class="">Dual-license structure (Apache 2.0 + ELv2) for open collaboration</li>
<li class="">Bilingual documentation (EN/FR)</li>
<li class="">Project planning and task tracking on GitHub</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="next-steps">Next Steps<a href="https://docs.locki.io/blog/ocapistaine-hackathon-kickoff#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps" translate="no">​</a></h3>
<ol>
<li class=""><strong>Fix Firecrawl pipeline</strong> — Get municipal document crawling operational</li>
<li class=""><strong>Deploy Opik tracing</strong> — LLM observability from day one</li>
<li class=""><strong>Build RAG retrieval</strong> — With hallucination guardrails</li>
<li class=""><strong>Launch citizen Q&amp;A</strong> — First chatbot interactions</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="hackathon-tracks">Hackathon Tracks<a href="https://docs.locki.io/blog/ocapistaine-hackathon-kickoff#hackathon-tracks" class="hash-link" aria-label="Direct link to Hackathon Tracks" title="Direct link to Hackathon Tracks" translate="no">​</a></h2>
<table><thead><tr><th>Track</th><th>Why We Qualify</th></tr></thead><tbody><tr><td><strong>Social &amp; Community Impact</strong></td><td>Civic transparency tool enabling local democracy participation</td></tr><tr><td><strong>Best Use of Opik</strong></td><td>LLM-as-judge evaluations + tracing for RAG quality assurance</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Democracy Can't Afford Hallucinations</div><div class="admonitionContent_BuS1"><p>When citizens ask "What happened with the school budget?", the answer must be accurate and sourced. Opik helps us guarantee that.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="team">Team<a href="https://docs.locki.io/blog/ocapistaine-hackathon-kickoff#team" class="hash-link" aria-label="Direct link to Team" title="Direct link to Team" translate="no">​</a></h2>
<table><thead><tr><th>Name</th><th>Role</th><th>GitHub</th></tr></thead><tbody><tr><td>Jean-Noël Schilling</td><td>Project Lead / Backend</td><td><a href="https://github.com/jnschilling" target="_blank" rel="noopener noreferrer" class="">@jnschilling</a></td></tr><tr><td>Victor A</td><td>Backend Python</td><td><a href="https://github.com/zcbtvag" target="_blank" rel="noopener noreferrer" class="">@zcbtvag</a></td></tr><tr><td>GurmeherSingh</td><td>ML Engineer</td><td><a href="https://github.com/GurmeherSingh" target="_blank" rel="noopener noreferrer" class="">@GurmeherSingh</a></td></tr><tr><td><em>(open for contributors)</em></td><td>Frontend / UX / Communication</td><td>—</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="links">Links<a href="https://docs.locki.io/blog/ocapistaine-hackathon-kickoff#links" class="hash-link" aria-label="Direct link to Links" title="Direct link to Links" translate="no">​</a></h2>
<table><thead><tr><th>Resource</th><th>URL</th><th>Public/private</th></tr></thead><tbody><tr><td>Live Platform</td><td><a href="https://audierne2026.fr/" target="_blank" rel="noopener noreferrer" class="">audierne2026.fr</a></td><td>public</td></tr><tr><td>Documentation</td><td><a href="https://docs.locki.io/" target="_blank" rel="noopener noreferrer" class="">docs.locki.io</a></td><td>public</td></tr><tr><td>GitHub</td><td><a href="https://github.com/locki-io/ocapistaine" target="_blank" rel="noopener noreferrer" class="">locki-io/ocapistaine</a></td><td>private ATM</td></tr><tr><td>Project Board</td><td><a href="https://github.com/orgs/locki-io/projects/2" target="_blank" rel="noopener noreferrer" class="">GitHub Projects</a></td><td>public</td></tr></tbody></table>
<hr>
<p><em>If AI can help us keep our New Year's resolutions, maybe the most impactful one is: becoming a better citizen.</em></p>]]></content:encoded>
            <category>Encode hackathon</category>
            <category>civitech</category>
        </item>
        <item>
            <title><![CDATA[OPIK : Agent & Prompt Optimization for LLM Systems]]></title>
            <link>https://docs.locki.io/blog/opik-workshop-2</link>
            <guid>https://docs.locki.io/blog/opik-workshop-2</guid>
            <pubDate>Thu, 15 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[This training consolidates the operational and technical foundations needed to run and execute agent/prompt optimization in team settings (e.g., hackathons and internal workshops).]]></description>
            <content:encoded><![CDATA[<p>This training consolidates the operational and technical foundations needed to run and execute <strong>agent/prompt optimization</strong> in team settings (e.g., hackathons and internal workshops).</p>
<p>It includes :</p>
<ul>
<li class=""><strong>eval-driven optimization</strong> of LLM agent prompts using measurable metrics and iterative loops,</li>
<li class="">including <strong>meta-prompting</strong>, <strong>genetic/evolutionary methods</strong>, <strong>hierarchical/reflective optimizers (HRPO)</strong>, <strong>few-shot Bayesian selection</strong>, and <strong>parameter tuning</strong>.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>It is important because prompt iteration without datasets and metrics devolves into subjective “doom wordsmithing,” leading to unreliable, expensive, and non-reproducible agents.</p></div></div>
<p>This material applies to <strong>AI/ML engineers, LLM practitioners, platform and DevEx teams, facilitators/mentors</strong>, and anyone responsible for building and improving <strong>tool-using agents (RAG/MCP), multimodal agents, or production chatbots</strong> under constraints of <strong>speed, accuracy, and cost</strong>.</p>
<iframe width="100%" style="aspect-ratio:16 / 9" src="https://www.encodeclub.com/programmes/comet-resolution-v2-hackathon/events/agent-optimization-with-opik" title="OPIK workshop 2" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-development-of-the-content-chronological-and-logical-sequence">1) Development of the Content (Chronological and Logical Sequence)<a href="https://docs.locki.io/blog/opik-workshop-2#1-development-of-the-content-chronological-and-logical-sequence" class="hash-link" aria-label="Direct link to 1) Development of the Content (Chronological and Logical Sequence)" title="Direct link to 1) Development of the Content (Chronological and Logical Sequence)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="a-concepts-fundamental">A. Concepts Fundamental<a href="https://docs.locki.io/blog/opik-workshop-2#a-concepts-fundamental" class="hash-link" aria-label="Direct link to A. Concepts Fundamental" title="Direct link to A. Concepts Fundamental" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="a1-workshop-mechanics-for-agent-optimization-sessions-hackathon-ready">A1) Workshop mechanics for “agent optimization” sessions (hackathon-ready)<a href="https://docs.locki.io/blog/opik-workshop-2#a1-workshop-mechanics-for-agent-optimization-sessions-hackathon-ready" class="hash-link" aria-label="Direct link to A1) Workshop mechanics for “agent optimization” sessions (hackathon-ready)" title="Direct link to A1) Workshop mechanics for “agent optimization” sessions (hackathon-ready)" translate="no">​</a></h4>
<p>In interactive workshops, success depends on <strong>facilitation + operational readiness</strong> as much as technical depth.</p>
<ul>
<li class=""><strong>Live attendance</strong> enables:<!-- -->
<ul>
<li class="">Real-time <strong>Q&amp;A</strong></li>
<li class="">Higher engagement in hands-on segments</li>
<li class="">Faster alignment on team objectives and constraints</li>
</ul>
</li>
<li class=""><strong>Recording</strong> is essential for:<!-- -->
<ul>
<li class="">Participants across incompatible time zones</li>
<li class="">Rewatching technical steps and setup instructions later</li>
</ul>
</li>
<li class=""><strong>Hands-on sessions</strong> increase operational sensitivity:<!-- -->
<ul>
<li class="">Frequent tool switching</li>
<li class="">Screen sharing and multi-monitor complexity</li>
<li class="">High cognitive load for participants following along
<strong>Conceptual grounding before coding</strong></li>
</ul>
</li>
<li class="">Start with a short theory block to align terminology, scope, and outcomes.</li>
<li class="">Prevents early derailment into deep technical detail without a shared baseline.
<strong>Analogy</strong></li>
<li class="">Conceptual grounding is like agreeing on a <strong>map legend</strong> before navigating; without it, people interpret instructions differently even if they follow the same steps.</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="a2-the-optimization-target-prompts-context-demonstrations-and-parameters">A2) The optimization target: prompts, context, demonstrations, and parameters<a href="https://docs.locki.io/blog/opik-workshop-2#a2-the-optimization-target-prompts-context-demonstrations-and-parameters" class="hash-link" aria-label="Direct link to A2) The optimization target: prompts, context, demonstrations, and parameters" title="Direct link to A2) The optimization target: prompts, context, demonstrations, and parameters" translate="no">​</a></h4>
<p>“Prompt optimization” is broader than rewriting a single system message. In practice, teams optimize multiple levers:</p>
<ul>
<li class=""><strong>System prompt / developer prompt</strong>: core behavior, constraints, safety, formatting.</li>
<li class=""><strong>Context engineering</strong>: retrieval and tools (RAG, MCP servers/clients), memory, long-context strategies.</li>
<li class=""><strong>Intent engineering</strong>: define “what good looks like” using examples of desired conversations/outputs, then optimize toward them.</li>
<li class=""><strong>Few-shot demonstrations</strong>: which examples to include, how many, and in what order.</li>
<li class=""><strong>Sampling parameters</strong>: temperature, top_p, top_k (reduce variance, tune style/creativity).
<strong>Prompt optimization vs. fine-tuning</strong></li>
<li class=""><strong>Prompt optimization</strong> changes instructions/context/examples/parameters without changing model weights.<!-- -->
<ul>
<li class="">Faster iteration, lower operational burden, often cheaper.</li>
</ul>
</li>
<li class=""><strong>Fine-tuning</strong> changes model weights.<!-- -->
<ul>
<li class="">Higher complexity and governance; sometimes necessary, but not the default path.</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="a3-evals-the-required-feedback-signal">A3) Evals: the required feedback signal<a href="https://docs.locki.io/blog/opik-workshop-2#a3-evals-the-required-feedback-signal" class="hash-link" aria-label="Direct link to A3) Evals: the required feedback signal" title="Direct link to A3) Evals: the required feedback signal" translate="no">​</a></h4>
<p>An <strong>eval</strong> is an automated test harness that:</p>
<ul>
<li class="">Runs an agent/prompt on a <strong>dataset</strong></li>
<li class="">Scores outputs via a <strong>metric</strong></li>
<li class="">Produces repeatable feedback for iteration
Common metric dimensions:</li>
<li class=""><strong>Accuracy / task success</strong></li>
<li class=""><strong>Hallucination rate / factuality</strong></li>
<li class=""><strong>Format compliance</strong> (schemas, JSON, bullet structure)</li>
<li class=""><strong>Latency</strong> (end-to-end runtime)</li>
<li class=""><strong>Cost</strong> (tokens, tool calls, infra)</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="a4-the-impossible-triangle-speed--accuracy--cost">A4) The “Impossible Triangle”: Speed × Accuracy × Cost<a href="https://docs.locki.io/blog/opik-workshop-2#a4-the-impossible-triangle-speed--accuracy--cost" class="hash-link" aria-label="Direct link to A4) The “Impossible Triangle”: Speed × Accuracy × Cost" title="Direct link to A4) The “Impossible Triangle”: Speed × Accuracy × Cost" translate="no">​</a></h4>
<p>Agent design and optimization inevitably trade off:</p>
<ul>
<li class=""><strong>Speed</strong>: latency, time-to-first-token, end-to-end runtime</li>
<li class=""><strong>Accuracy</strong>: correctness, task completion, policy compliance</li>
<li class=""><strong>Cost</strong>: token usage, model pricing, tool calls, infrastructure
Key implications:</li>
<li class="">You typically can’t maximize all three simultaneously.</li>
<li class="">Optimization must explicitly measure and constrain all three.
Common architecture pattern:</li>
<li class=""><strong>Fast front agent</strong> for interactive UX</li>
<li class=""><strong>Slower or cheaper back agents</strong> for verification, retrieval, or deeper reasoning</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="a5-optimizer-families-what-they-do-and-when-to-use">A5) Optimizer families (what they do and when to use)<a href="https://docs.locki.io/blog/opik-workshop-2#a5-optimizer-families-what-they-do-and-when-to-use" class="hash-link" aria-label="Direct link to A5) Optimizer families (what they do and when to use)" title="Direct link to A5) Optimizer families (what they do and when to use)" translate="no">​</a></h4>
<p>This training consolidates multiple optimizer approaches discussed across sessions:</p>
<ol>
<li class=""><strong>Meta-prompting (Meta-reasoner)</strong>
<ul>
<li class="">An LLM rewrites your prompt to produce candidate variants.</li>
<li class="">You evaluate candidates and keep the best.</li>
</ul>
</li>
<li class=""><strong>Genetic / Evolutionary optimization</strong>
<ul>
<li class="">Maintains a population of prompts.</li>
<li class="">Applies <strong>mutations</strong> (remove/reorder/rewrite sections) and <strong>selection</strong> (keep winners).</li>
<li class="">Often includes “fresh gene injection” and a <strong>Hall of Fame</strong> of best prompts/components.</li>
</ul>
</li>
<li class=""><strong>Hierarchical / Reflective optimization (HRPO)</strong>
<ul>
<li class="">Diagnoses failure clusters, forms hypotheses, proposes targeted prompt changes, re-evaluates.</li>
<li class="">Requires a clear metric + explanation so it can reason about failures.</li>
</ul>
</li>
<li class=""><strong>Few-shot Bayesian optimization</strong>
<ul>
<li class="">Selects:<!-- -->
<ul>
<li class="">Which few-shot examples,</li>
<li class="">How many,</li>
<li class="">In which order,</li>
</ul>
</li>
<li class="">Then inserts them into the prompt for stronger in-context guidance.</li>
</ul>
</li>
<li class=""><strong>Parameter optimization</strong>
<ul>
<li class="">Tunes generation parameters (temperature/top_p/top_k) after prompt structure is solid.</li>
<li class="">Useful for controlling non-determinism and output variance.
<strong>Chaining optimizers (recommended workflow)</strong></li>
</ul>
</li>
</ol>
<ul>
<li class="">A practical pipeline:<!-- -->
<ol>
<li class="">Reflective/hierarchical (HRPO) or evolutionary to improve core instructions</li>
<li class="">Few-shot Bayesian to optimize demonstrations</li>
<li class="">Parameter tuning to stabilize style/variance and meet latency/cost constraints</li>
</ol>
</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="a6-multimodal-prompt-optimization-images--text">A6) Multimodal prompt optimization (images + text)<a href="https://docs.locki.io/blog/opik-workshop-2#a6-multimodal-prompt-optimization-images--text" class="hash-link" aria-label="Direct link to A6) Multimodal prompt optimization (images + text)" title="Direct link to A6) Multimodal prompt optimization (images + text)" translate="no">​</a></h4>
<p>Multimodal agents take:</p>
<ul>
<li class=""><strong>Image inputs</strong> (e.g., dashcam frames)</li>
<li class=""><strong>Text inputs</strong> (questions/instructions)</li>
<li class="">Produce <strong>text outputs</strong> (e.g., hazard descriptions)
Multimodality raises difficulty because correctness depends on accurately grounding outputs in visual evidence and describing it consistently.</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="b-principal-pains-and-practical-problems-encountered">B. Principal Pains and Practical Problems Encountered<a href="https://docs.locki.io/blog/opik-workshop-2#b-principal-pains-and-practical-problems-encountered" class="hash-link" aria-label="Direct link to B. Principal Pains and Practical Problems Encountered" title="Direct link to B. Principal Pains and Practical Problems Encountered" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="b1-workshopsession-problems-operational--facilitation">B1) Workshop/session problems (operational + facilitation)<a href="https://docs.locki.io/blog/opik-workshop-2#b1-workshopsession-problems-operational--facilitation" class="hash-link" aria-label="Direct link to B1) Workshop/session problems (operational + facilitation)" title="Direct link to B1) Workshop/session problems (operational + facilitation)" translate="no">​</a></h4>
<ul>
<li class="">Time zone mismatch reduces live attendance quality.</li>
<li class="">Startup friction:<!-- -->
<ul>
<li class="">Zoom connection issues</li>
<li class="">Screen sharing failures (multi-monitor confusion)</li>
</ul>
</li>
<li class="">Logistics questions interrupt technical flow.</li>
<li class="">Early “deep technical” derailments due to lack of conceptual alignment.</li>
<li class="">High cognitive load in hands-on segments (tools + steps + Q&amp;A at once).</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="b2-optimization-and-engineering-problems-technical">B2) Optimization and engineering problems (technical)<a href="https://docs.locki.io/blog/opik-workshop-2#b2-optimization-and-engineering-problems-technical" class="hash-link" aria-label="Direct link to B2) Optimization and engineering problems (technical)" title="Direct link to B2) Optimization and engineering problems (technical)" translate="no">​</a></h4>
<ul>
<li class=""><strong>No dataset → no optimization</strong>: teams want improvement without ground truth.</li>
<li class=""><strong>No metric → no signal</strong>: changes are judged by “vibes.”</li>
<li class="">Hidden tradeoffs: gains in accuracy may increase cost/latency.</li>
<li class="">Overfitting to small/clean datasets that don’t represent production.</li>
<li class="">Tooling complexity:<!-- -->
<ul>
<li class="">Provider setup (API keys)</li>
<li class="">Version/environment issues</li>
<li class="">Multimodal data formatting and cost</li>
</ul>
</li>
<li class="">Non-determinism: outputs vary across runs; naive evals are unstable.</li>
<li class="">Multilingual drift: improvements in one language/style can degrade perceived quality for non-native speakers.</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="c-causes-of-common-errors-and-deviations-technical-diagnosis">C. Causes of Common Errors and Deviations (Technical Diagnosis)<a href="https://docs.locki.io/blog/opik-workshop-2#c-causes-of-common-errors-and-deviations-technical-diagnosis" class="hash-link" aria-label="Direct link to C. Causes of Common Errors and Deviations (Technical Diagnosis)" title="Direct link to C. Causes of Common Errors and Deviations (Technical Diagnosis)" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="c1-process-errors">C1) Process errors<a href="https://docs.locki.io/blog/opik-workshop-2#c1-process-errors" class="hash-link" aria-label="Direct link to C1) Process errors" title="Direct link to C1) Process errors" translate="no">​</a></h4>
<ul>
<li class="">Starting implementation before defining:<!-- -->
<ul>
<li class="">“What does success look like?”</li>
<li class="">“How will we measure it?”</li>
</ul>
</li>
<li class="">Iterating prompts manually without repeatable evals (“doom wordsmithing”).</li>
<li class="">Changing too many variables at once (prompt + model + dataset + metric), breaking attribution.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="c2-data-and-evaluation-errors">C2) Data and evaluation errors<a href="https://docs.locki.io/blog/opik-workshop-2#c2-data-and-evaluation-errors" class="hash-link" aria-label="Direct link to C2) Data and evaluation errors" title="Direct link to C2) Data and evaluation errors" translate="no">​</a></h4>
<ul>
<li class="">Non-representative datasets (too small, too idealized, not production-like).</li>
<li class="">No holdout/validation: training improvements don’t generalize.</li>
<li class="">Overfitting to dataset phrasing rather than task intent.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="c3-metric-errors">C3) Metric errors<a href="https://docs.locki.io/blog/opik-workshop-2#c3-metric-errors" class="hash-link" aria-label="Direct link to C3) Metric errors" title="Direct link to C3) Metric errors" translate="no">​</a></h4>
<ul>
<li class="">Metric-task mismatch:<!-- -->
<ul>
<li class="">Character-level similarity (e.g., Levenshtein) penalizes correct paraphrases.</li>
<li class="">Fast metrics can reward superficial closeness rather than semantic correctness.</li>
</ul>
</li>
<li class="">Missing metric explanations:<!-- -->
<ul>
<li class="">Reflective optimizers need “why this score” to hypothesize and fix failure modes.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="c4-operational-and-facilitation-errors">C4) Operational and facilitation errors<a href="https://docs.locki.io/blog/opik-workshop-2#c4-operational-and-facilitation-errors" class="hash-link" aria-label="Direct link to C4) Operational and facilitation errors" title="Direct link to C4) Operational and facilitation errors" translate="no">​</a></h4>
<ul>
<li class="">No pre-flight checks for recording/screen share.</li>
<li class="">Letting logistics Q&amp;A repeatedly interrupt technical depth.</li>
<li class="">Skipping conceptual grounding and jumping into highly technical steps.</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="d-solutions-best-practices-and-strategies">D. Solutions, Best Practices, and Strategies<a href="https://docs.locki.io/blog/opik-workshop-2#d-solutions-best-practices-and-strategies" class="hash-link" aria-label="Direct link to D. Solutions, Best Practices, and Strategies" title="Direct link to D. Solutions, Best Practices, and Strategies" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="d1-facilitation-strategy-for-optimization-workshops">D1) Facilitation strategy for optimization workshops<a href="https://docs.locki.io/blog/opik-workshop-2#d1-facilitation-strategy-for-optimization-workshops" class="hash-link" aria-label="Direct link to D1) Facilitation strategy for optimization workshops" title="Direct link to D1) Facilitation strategy for optimization workshops" translate="no">​</a></h4>
<p>Use a structured agenda:</p>
<ol>
<li class=""><strong>Buffer + housekeeping</strong> (2–5 min)</li>
<li class=""><strong>Conceptual grounding</strong> (5–10 min)</li>
<li class=""><strong>Hands-on optimization</strong> (primary block)</li>
<li class=""><strong>Q&amp;A checkpoints</strong> (periodic)</li>
<li class=""><strong>Closeout</strong>: follow-ups and resources channel (e.g., Discord)
Logistics handling:</li>
</ol>
<ul>
<li class="">Allow limited buffer for urgent logistics at the start.</li>
<li class="">Route ongoing logistics to a dedicated channel (Discord/moderators).
Operational readiness:</li>
<li class="">Test recording and screen share before the session begins.</li>
<li class="">Prepare backup plan (rejoin meeting, share window instead of full screen, alternate host).</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="d2-build-an-eval-driven-optimization-loop-core-technical-workflow">D2) Build an eval-driven optimization loop (core technical workflow)<a href="https://docs.locki.io/blog/opik-workshop-2#d2-build-an-eval-driven-optimization-loop-core-technical-workflow" class="hash-link" aria-label="Direct link to D2) Build an eval-driven optimization loop (core technical workflow)" title="Direct link to D2) Build an eval-driven optimization loop (core technical workflow)" translate="no">​</a></h4>
<p>A repeatable loop:</p>
<ol>
<li class="">Define a <strong>dataset</strong> (inputs + expected behavior)</li>
<li class="">Define a <strong>metric</strong> (scoring rubric and constraints)</li>
<li class="">Run a <strong>baseline</strong> prompt/agent and record results</li>
<li class="">Generate candidate prompts (human + optimizer)</li>
<li class="">Evaluate candidates on the same harness</li>
<li class="">Select the best under constraints (accuracy + speed + cost)</li>
<li class="">Iterate until target reached or budget exhausted</li>
<li class="">Validate on <strong>holdout/validation</strong> to detect overfitting</li>
</ol>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="d3-optimizer-selection-guidance">D3) Optimizer selection guidance<a href="https://docs.locki.io/blog/opik-workshop-2#d3-optimizer-selection-guidance" class="hash-link" aria-label="Direct link to D3) Optimizer selection guidance" title="Direct link to D3) Optimizer selection guidance" translate="no">​</a></h4>
<ul>
<li class=""><strong>Meta-prompting</strong>: fast setup, quick baseline improvements.</li>
<li class=""><strong>Genetic/evolutionary</strong>: broad exploration; good when small phrasing changes matter.</li>
<li class=""><strong>Reflective/HRPO</strong>: best for nuanced failure clusters and “last mile” improvements.</li>
<li class=""><strong>Few-shot Bayesian</strong>: when selection and ordering of examples is a major performance lever.</li>
<li class=""><strong>Parameter tuning</strong>: stabilize variance and style after instructions/examples are strong.
Budget warning:</li>
<li class="">More sophisticated optimizers typically increase API calls, tokens, and wall-clock time.</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="d4-metric-strategy-fast-iteration-vs-semantic-correctness">D4) Metric strategy (fast iteration vs semantic correctness)<a href="https://docs.locki.io/blog/opik-workshop-2#d4-metric-strategy-fast-iteration-vs-semantic-correctness" class="hash-link" aria-label="Direct link to D4) Metric strategy (fast iteration vs semantic correctness)" title="Direct link to D4) Metric strategy (fast iteration vs semantic correctness)" translate="no">​</a></h4>
<ul>
<li class="">Use <strong>fast metrics</strong> early:<!-- -->
<ul>
<li class="">regression detection</li>
<li class="">formatting/stability checks</li>
</ul>
</li>
<li class="">Upgrade to <strong>semantic evals</strong> for correctness:<!-- -->
<ul>
<li class=""><strong>LLM-as-a-judge</strong> with a strict rubric</li>
<li class="">hybrid metrics (semantic + format + safety)</li>
</ul>
</li>
<li class="">Consider <strong>multi-metric objectives</strong>:<!-- -->
<ul>
<li class="">accuracy + cost + latency to prevent “accurate but too expensive” prompts</li>
</ul>
</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="d5-production-readiness-strategy-safety-and-reproducibility">D5) Production readiness strategy (safety and reproducibility)<a href="https://docs.locki.io/blog/opik-workshop-2#d5-production-readiness-strategy-safety-and-reproducibility" class="hash-link" aria-label="Direct link to D5) Production readiness strategy (safety and reproducibility)" title="Direct link to D5) Production readiness strategy (safety and reproducibility)" translate="no">​</a></h4>
<p>Treat prompt optimization as controlled production change:</p>
<ul>
<li class="">Use staging, monitoring, and rollback prompts.</li>
<li class="">Keep prompt versioning, changelogs, and eval results history.</li>
<li class="">Build datasets from <strong>production traces</strong>:<!-- -->
<ul>
<li class="">convert traces into eval datasets or annotation queues</li>
</ul>
</li>
<li class="">Add human-in-the-loop review for safety-critical workflows.
Model strategy:</li>
<li class="">Use a <strong>larger model</strong> to generate candidate prompts (“authoring model”).</li>
<li class="">Evaluate on the <strong>target deployment model</strong> (smaller/cheaper) for parity.
Multilingual concerns:</li>
<li class="">Ensure evals cover target languages.</li>
<li class="">Use judges that understand the language or add human evaluation.</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="e-what-should-be-done-dos">E. What Should Be Done (Do’s)<a href="https://docs.locki.io/blog/opik-workshop-2#e-what-should-be-done-dos" class="hash-link" aria-label="Direct link to E. What Should Be Done (Do’s)" title="Direct link to E. What Should Be Done (Do’s)" translate="no">​</a></h3>
<ul>
<li class=""><strong>Start every workshop</strong> with conceptual grounding (terms, scope, intended outcome).</li>
<li class=""><strong>Enable and test recording</strong>; ensure rewatchability for time zones.</li>
<li class=""><strong>Pre-flight check</strong> (5–10 minutes before start):<!-- -->
<ul>
<li class="">Zoom audio/video</li>
<li class="">correct monitor/window sharing</li>
<li class="">recording status</li>
</ul>
</li>
<li class=""><strong>Define success metrics upfront</strong> (rubric, pass/fail rules, partial credit).</li>
<li class=""><strong>Build/curate a representative dataset</strong> (typical + edge + adversarial cases).</li>
<li class=""><strong>Run and document a baseline</strong> before optimization.</li>
<li class=""><strong>Use train + validation (+ test)</strong> splits; add a holdout set to detect overfitting.</li>
<li class=""><strong>Select an optimizer</strong> based on:<!-- -->
<ul>
<li class="">budget, failure complexity, exploration vs targeted fixes</li>
</ul>
</li>
<li class=""><strong>Log and version everything</strong>:<!-- -->
<ul>
<li class="">prompt versions, scores, dataset versions, model/provider settings</li>
</ul>
</li>
<li class=""><strong>Constrain outputs</strong> when consistency matters (schemas, bullet limits, citation rules).</li>
<li class=""><strong>Use production traces</strong> to keep evaluation realistic; build an annotation queue when needed.</li>
<li class=""><strong>Apply multi-metric gates</strong> (accuracy must improve without breaking cost/latency).</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="f-what-should-not-be-done-donts">F. What Should NOT Be Done (Don’ts)<a href="https://docs.locki.io/blog/opik-workshop-2#f-what-should-not-be-done-donts" class="hash-link" aria-label="Direct link to F. What Should NOT Be Done (Don’ts)" title="Direct link to F. What Should NOT Be Done (Don’ts)" translate="no">​</a></h3>
<ul>
<li class=""><strong>Don’t</strong> jump into technical implementation without aligning key concepts and goals.</li>
<li class=""><strong>Don’t</strong> rely only on live attendance; always provide recordings.</li>
<li class=""><strong>Don’t</strong> allow logistics Q&amp;A to repeatedly interrupt technical flow (route it elsewhere).</li>
<li class=""><strong>Don’t</strong> optimize without a dataset or without a metric.</li>
<li class=""><strong>Don’t</strong> rely only on “doom wordsmithing” (random manual edits) without evals.</li>
<li class=""><strong>Don’t</strong> ignore the <strong>speed–accuracy–cost</strong> triangle.</li>
<li class=""><strong>Don’t</strong> let optimizers run without guardrails:<!-- -->
<ul>
<li class="">they may exploit metric loopholes or create brittle prompts</li>
</ul>
</li>
<li class=""><strong>Don’t</strong> assume gains on tiny samples generalize to production.</li>
<li class=""><strong>Don’t</strong> use only character-level similarity for semantic tasks in production-critical scenarios.</li>
<li class=""><strong>Don’t</strong> change prompt + model + metric + dataset simultaneously without tracking; you lose causal understanding.</li>
<li class=""><strong>Don’t</strong> treat experiment tracking as optional; without it, improvements are not reproducible.</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="g-tools-tasks-and-recommended-actions">G. Tools, Tasks, and Recommended Actions<a href="https://docs.locki.io/blog/opik-workshop-2#g-tools-tasks-and-recommended-actions" class="hash-link" aria-label="Direct link to G. Tools, Tasks, and Recommended Actions" title="Direct link to G. Tools, Tasks, and Recommended Actions" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="g1-tools-explicitly-referenced-or-strongly-implied">G1) Tools (explicitly referenced or strongly implied)<a href="https://docs.locki.io/blog/opik-workshop-2#g1-tools-explicitly-referenced-or-strongly-implied" class="hash-link" aria-label="Direct link to G1) Tools (explicitly referenced or strongly implied)" title="Direct link to G1) Tools (explicitly referenced or strongly implied)" translate="no">​</a></h4>
<ul>
<li class=""><strong>Zoom</strong>: live delivery, screen sharing, recording</li>
<li class=""><strong>Discord</strong>: async logistics, follow-ups, announcements</li>
<li class=""><strong>Comet</strong>: experiment tracking UI, dataset management, optimization studio</li>
<li class=""><strong>OPIK SDK</strong> (Python): optimization/evaluation loops (multimodal demo)</li>
<li class=""><strong>OPIC SDK / OPIC GitHub monorepo</strong>: optimizer suite and algorithms</li>
<li class=""><strong>LLM providers</strong>: OpenAI, Gemini, local models (e.g., Ollama)</li>
<li class=""><strong>RAG + MCP servers/clients</strong>: context/tool ecosystem patterns</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="g2-recommended-team-routines-practical">G2) Recommended team routines (practical)<a href="https://docs.locki.io/blog/opik-workshop-2#g2-recommended-team-routines-practical" class="hash-link" aria-label="Direct link to G2) Recommended team routines (practical)" title="Direct link to G2) Recommended team routines (practical)" translate="no">​</a></h4>
<ol>
<li class=""><strong>Workshop runbook</strong>
<ul>
<li class="">setup checklist + agenda template + escalation channel for logistics</li>
</ul>
</li>
<li class=""><strong>Minimal eval harness</strong>
<ul>
<li class="">dataset loader</li>
<li class="">prompt runner</li>
<li class="">metric function (with explanation)</li>
<li class="">reporting dashboard</li>
</ul>
</li>
<li class=""><strong>Optimization experiments</strong>
<ul>
<li class="">meta-prompting run (N candidates × M trials)</li>
<li class="">genetic/evolutionary run (population, mutation operators, selection)</li>
<li class="">reflective/HRPO run (failure clustering, hypothesis generation)</li>
</ul>
</li>
<li class=""><strong>Budget controls</strong>
<ul>
<li class="">max trials, max tokens, max wall-clock time</li>
</ul>
</li>
<li class=""><strong>Acceptance gates</strong>
<ul>
<li class="">“no merge if validation score drops”</li>
<li class="">enforce latency/cost ceilings</li>
</ul>
</li>
<li class=""><strong>Trace-to-dataset pipeline</strong>
<ul>
<li class="">export 100–500 production traces</li>
<li class="">label via annotation queue</li>
<li class="">iterate dataset quality before optimizing further</li>
</ul>
</li>
<li class=""><strong>Release checklist</strong>
<ul>
<li class="">staging rollout, monitoring KPIs, rollback prompt</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="g3-multimodal-data-preparation-when-applicable">G3) Multimodal data preparation (when applicable)<a href="https://docs.locki.io/blog/opik-workshop-2#g3-multimodal-data-preparation-when-applicable" class="hash-link" aria-label="Direct link to G3) Multimodal data preparation (when applicable)" title="Direct link to G3) Multimodal data preparation (when applicable)" translate="no">​</a></h4>
<ul>
<li class="">Images/audio/video may require <strong>Base64 encoding</strong> in datasets.</li>
<li class="">Video can be token-heavy; plan budget and limits accordingly.</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-practical-examples-reviewed-and-rewritten">2) Practical Examples (Reviewed and Rewritten)<a href="https://docs.locki.io/blog/opik-workshop-2#2-practical-examples-reviewed-and-rewritten" class="hash-link" aria-label="Direct link to 2) Practical Examples (Reviewed and Rewritten)" title="Direct link to 2) Practical Examples (Reviewed and Rewritten)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-1--handling-a-delayed-workshop-start-screen-sharing-issue">Example 1 — Handling a delayed workshop start (screen sharing issue)<a href="https://docs.locki.io/blog/opik-workshop-2#example-1--handling-a-delayed-workshop-start-screen-sharing-issue" class="hash-link" aria-label="Direct link to Example 1 — Handling a delayed workshop start (screen sharing issue)" title="Direct link to Example 1 — Handling a delayed workshop start (screen sharing issue)" translate="no">​</a></h3>
<ul>
<li class=""><strong>Scenario:</strong> Presenter cannot share the correct screen due to multi-monitor setup.</li>
<li class=""><strong>Recommended response:</strong>
<ul>
<li class="">Announce a brief delay and the cause (“screen share setup”).</li>
<li class="">Use the time for housekeeping:<!-- -->
<ul>
<li class="">confirm recording is on,</li>
<li class="">ask attendees to post time zones in chat,</li>
<li class="">redirect logistics questions to Discord.</li>
</ul>
</li>
<li class="">Resume with <strong>conceptual grounding</strong> once stable.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-2--preventing-early-technical-derailment">Example 2 — Preventing early technical derailment<a href="https://docs.locki.io/blog/opik-workshop-2#example-2--preventing-early-technical-derailment" class="hash-link" aria-label="Direct link to Example 2 — Preventing early technical derailment" title="Direct link to Example 2 — Preventing early technical derailment" translate="no">​</a></h3>
<ul>
<li class=""><strong>Scenario:</strong> Participants immediately ask deep implementation questions (tool calling, optimizer internals) before definitions are aligned.</li>
<li class=""><strong>Recommended response:</strong>
<ul>
<li class="">Pause and define:<!-- -->
<ul>
<li class="">agent vs prompt vs context vs eval,</li>
<li class="">the target metric and dataset,</li>
<li class="">success criteria and constraints.</li>
</ul>
</li>
<li class="">Explicitly defer deep dives:<!-- -->
<ul>
<li class="">“We’ll go deep in a moment—first we align on concepts and the evaluation loop.”</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-3--meta-prompting-to-fix-inconsistent-formatting">Example 3 — Meta-prompting to fix inconsistent formatting<a href="https://docs.locki.io/blog/opik-workshop-2#example-3--meta-prompting-to-fix-inconsistent-formatting" class="hash-link" aria-label="Direct link to Example 3 — Meta-prompting to fix inconsistent formatting" title="Direct link to Example 3 — Meta-prompting to fix inconsistent formatting" translate="no">​</a></h3>
<ul>
<li class=""><strong>Scenario:</strong> A support chatbot fails JSON schema compliance ~30% of the time.</li>
<li class=""><strong>Approach:</strong>
<ul>
<li class="">Create an eval set of real formatting cases.</li>
<li class="">Use a meta-reasoner prompt to generate ~6 system-prompt variants:<!-- -->
<ul>
<li class="">stricter schema instructions,</li>
<li class="">explicit formatting steps,</li>
<li class="">refusal conditions for missing fields.</li>
</ul>
</li>
<li class="">Evaluate all candidates; select the best and iterate until compliance stabilizes.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-4--genetic-optimization-for-a-sensitive-classification-task">Example 4 — Genetic optimization for a sensitive classification task<a href="https://docs.locki.io/blog/opik-workshop-2#example-4--genetic-optimization-for-a-sensitive-classification-task" class="hash-link" aria-label="Direct link to Example 4 — Genetic optimization for a sensitive classification task" title="Direct link to Example 4 — Genetic optimization for a sensitive classification task" translate="no">​</a></h3>
<ul>
<li class=""><strong>Scenario:</strong> Ticket triage accuracy varies heavily with small prompt phrasing differences.</li>
<li class=""><strong>Approach:</strong>
<ul>
<li class="">Start from a parent prompt.</li>
<li class="">Generate a population of children via mutations:<!-- -->
<ul>
<li class="">reorder priorities (labels first, then rules),</li>
<li class="">remove ambiguous wording,</li>
<li class="">tighten label definitions.</li>
</ul>
</li>
<li class="">Evaluate all prompts; keep winners and discard losers.</li>
<li class="">Inject fresh prompts periodically (including the original) to avoid premature convergence.</li>
<li class="">Maintain a <strong>Hall of Fame</strong> of best prompts/components.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-5--reflectivehrpo-optimizer-to-reduce-hallucinations-in-incomplete-context">Example 5 — Reflective/HRPO optimizer to reduce hallucinations in incomplete context<a href="https://docs.locki.io/blog/opik-workshop-2#example-5--reflectivehrpo-optimizer-to-reduce-hallucinations-in-incomplete-context" class="hash-link" aria-label="Direct link to Example 5 — Reflective/HRPO optimizer to reduce hallucinations in incomplete context" title="Direct link to Example 5 — Reflective/HRPO optimizer to reduce hallucinations in incomplete context" translate="no">​</a></h3>
<ul>
<li class=""><strong>Scenario:</strong> An agent hallucinates when retrieval returns partial or irrelevant documents.</li>
<li class=""><strong>Approach:</strong>
<ul>
<li class="">Define a metric that penalizes hallucination and rewards:<!-- -->
<ul>
<li class="">uncertainty statements,</li>
<li class="">citations/quotes from sources.</li>
</ul>
</li>
<li class="">Reflective optimizer clusters failures:<!-- -->
<ul>
<li class="">missing citations,</li>
<li class="">overconfident claims with no evidence.</li>
</ul>
</li>
<li class="">Prompt changes:<!-- -->
<ul>
<li class="">“If the answer is not supported by context, say ‘I don’t know’ and ask for clarification.”</li>
<li class="">require quoting or citing retrieved passages.</li>
</ul>
</li>
<li class="">Re-run eval until hallucination rate drops on validation.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-6--multimodal-hazard-detection-optimization-comet--opik">Example 6 — Multimodal hazard detection optimization (Comet + OPIK)<a href="https://docs.locki.io/blog/opik-workshop-2#example-6--multimodal-hazard-detection-optimization-comet--opik" class="hash-link" aria-label="Direct link to Example 6 — Multimodal hazard detection optimization (Comet + OPIK)" title="Direct link to Example 6 — Multimodal hazard detection optimization (Comet + OPIK)" translate="no">​</a></h3>
<ul>
<li class=""><strong>Scenario:</strong> Dashcam hazard detector gives generic driving advice instead of image-grounded hazards.</li>
<li class=""><strong>Dataset pattern:</strong>
<ul>
<li class="">image + question → reference hazard annotation</li>
</ul>
</li>
<li class=""><strong>Metric approach (fast demo metric):</strong>
<ul>
<li class="">Levenshtein ratio vs reference text (fast but not semantic)</li>
</ul>
</li>
<li class=""><strong>Reflective prompt improvements:</strong>
<ul>
<li class="">“Only describe hazards visible or strongly implied by the image; do not provide general driving advice.”</li>
<li class="">Output constraint: “Return 1–3 bullet points, each a hazard statement.”</li>
</ul>
</li>
<li class=""><strong>Validation caution:</strong>
<ul>
<li class="">Small subsets can cause high variance and overfitting; confirm improvements on validation/test and consider LLM-judge for semantic correctness.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-7--intent-engineering-for-a-safety-sensitive-conversational-assistant">Example 7 — Intent engineering for a safety-sensitive conversational assistant<a href="https://docs.locki.io/blog/opik-workshop-2#example-7--intent-engineering-for-a-safety-sensitive-conversational-assistant" class="hash-link" aria-label="Direct link to Example 7 — Intent engineering for a safety-sensitive conversational assistant" title="Direct link to Example 7 — Intent engineering for a safety-sensitive conversational assistant" translate="no">​</a></h3>
<ul>
<li class=""><strong>Scenario:</strong> Build an empathetic therapy-style assistant with safety protocols.</li>
<li class=""><strong>Intent-first approach:</strong>
<ul>
<li class="">Create a dataset of ideal conversations:<!-- -->
<ul>
<li class="">anxiety → validation + grounding exercise</li>
<li class="">self-harm → safety protocol and resources</li>
<li class="">diagnosis request → refuse diagnosis, provide guidance/resources</li>
</ul>
</li>
<li class="">Define eval rubric:<!-- -->
<ul>
<li class="">empathy markers, safety compliance, refusal correctness</li>
</ul>
</li>
<li class="">Optimize prompts:<!-- -->
<ul>
<li class="">meta-prompting for quick gains</li>
<li class="">reflective optimizer for recurring failures (too clinical, insufficient validation)</li>
</ul>
</li>
<li class="">Add holdout eval set to avoid overfitting to scripted examples.</li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-conclusion-and-practical-application">3) Conclusion and Practical Application<a href="https://docs.locki.io/blog/opik-workshop-2#3-conclusion-and-practical-application" class="hash-link" aria-label="Direct link to 3) Conclusion and Practical Application" title="Direct link to 3) Conclusion and Practical Application" translate="no">​</a></h2>
<p>Agent/prompt optimization becomes reliable only when treated as an engineering discipline: <strong>dataset + metric + iterative eval loop + controlled changes</strong>. Operationally, successful workshops require <strong>conceptual grounding</strong>, tested <strong>recording/screen-sharing</strong>, and clear boundaries between logistics and technical work. Technically, improvements should be driven by <strong>evals</strong> and chosen optimizers (meta-prompting, genetic/evolutionary, reflective/HRPO, few-shot Bayesian, parameter tuning), with explicit management of the <strong>speed–accuracy–cost</strong> tradeoff. In day-to-day practice, start with a minimal eval harness and baseline, run low-budget optimization, validate on holdout data, and ship through a controlled release process with monitoring and rollback.
<strong>Next steps</strong></p>
<ol>
<li class="">Build a reusable <strong>workshop runbook</strong> (checklist + agenda + support channels).</li>
<li class="">Implement a minimal <strong>eval harness</strong> for one real agent flow and record baseline metrics.</li>
<li class="">Run <strong>meta-prompting</strong> to capture quick wins, then escalate to <strong>reflective/HRPO</strong> or <strong>genetic</strong> as needed.</li>
<li class="">Add <strong>few-shot selection</strong> and <strong>parameter tuning</strong> once prompt structure is stable.</li>
<li class="">Upgrade metrics to <strong>LLM-judge + rubric</strong> (and human review where required), and enforce <strong>multi-metric gates</strong> (accuracy + cost + latency).</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="glossary-key-terms">Glossary (Key Terms)<a href="https://docs.locki.io/blog/opik-workshop-2#glossary-key-terms" class="hash-link" aria-label="Direct link to Glossary (Key Terms)" title="Direct link to Glossary (Key Terms)" translate="no">​</a></h2>
<ul>
<li class=""><strong>Agent</strong>: An LLM-based system that may use tools (APIs, retrieval, MCP) to complete tasks.</li>
<li class=""><strong>Agent optimization</strong>: Improving an agent’s effectiveness through systematic iteration using datasets and metrics.</li>
<li class=""><strong>Conceptual grounding</strong>: A short theory-based alignment step to ensure shared definitions, goals, and assumptions.</li>
<li class=""><strong>Context engineering</strong>: Supplying relevant context via retrieval/tools/memory/long context windows (e.g., RAG, MCP).</li>
<li class=""><strong>Intent engineering</strong>: Defining desired outputs/behaviors first (examples), then optimizing backward toward them.</li>
<li class=""><strong>Eval (evaluation)</strong>: Automated testing of prompts/agents against a dataset using a metric/rubric.</li>
<li class=""><strong>Metric / reward function</strong>: A scoring function used to judge outputs (accuracy, hallucination, cost, latency, etc.).</li>
<li class=""><strong>Meta-prompting (meta-reasoner)</strong>: Using an LLM to generate improved prompts for another task.</li>
<li class=""><strong>Genetic / evolutionary optimization</strong>: Population-based search over prompts via mutation and selection.</li>
<li class=""><strong>Mutation</strong>: A change applied to a prompt to create variation (remove/reorder/replace text).</li>
<li class=""><strong>Hall of Fame</strong>: A retained set of top-performing prompts/components across generations.</li>
<li class=""><strong>Reflective / hierarchical optimizer (HRPO)</strong>: Optimizer that diagnoses failure patterns, forms hypotheses, and proposes targeted fixes.</li>
<li class=""><strong>Few-shot Bayesian optimizer</strong>: Method for selecting and ordering few-shot examples to include in prompts.</li>
<li class=""><strong>Parameter optimization</strong>: Tuning inference parameters like temperature/top_p/top_k to manage variability and style.</li>
<li class=""><strong>LLM-as-a-judge</strong>: Using an LLM to grade another model’s output against a rubric/reference.</li>
<li class=""><strong>Levenshtein ratio</strong>: Character-level similarity score based on edit distance (fast, but not semantic).</li>
<li class=""><strong>Overfitting</strong>: Improvements on training data that don’t generalize to validation/test.</li>
<li class=""><strong>MCP (Model Context Protocol)</strong>: Tool ecosystem pattern (servers/clients) enabling models to access external capabilities.</li>
<li class=""><strong>RAG (Retrieval-Augmented Generation)</strong>: Retrieval system that injects documents into context to ground responses.</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="review-questions-knowledge-check">Review Questions (Knowledge Check)<a href="https://docs.locki.io/blog/opik-workshop-2#review-questions-knowledge-check" class="hash-link" aria-label="Direct link to Review Questions (Knowledge Check)" title="Direct link to Review Questions (Knowledge Check)" translate="no">​</a></h2>
<ol>
<li class="">Why is <strong>conceptual grounding</strong> important before hands-on optimization in a workshop?</li>
<li class="">What are the three constraints in the <strong>speed–accuracy–cost</strong> triangle, and why do they conflict?</li>
<li class="">What are the minimum components of an <strong>eval-driven optimization loop</strong>?</li>
<li class="">When would you choose <strong>meta-prompting</strong> vs <strong>genetic optimization</strong> vs <strong>reflective/HRPO</strong>?</li>
<li class="">Why can <strong>Levenshtein ratio</strong> be misleading for semantic tasks, and what should you use instead?</li>
<li class="">What does it mean to <strong>chain optimizers</strong>, and what reminder should guide the order (instructions → examples → parameters)?</li>
<li class="">Why are <strong>validation/holdout sets</strong> necessary during prompt optimization?</li>
<li class="">What operational checklist items should be validated before running a live interactive workshop?</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="suggested-further-reading--resources">Suggested Further Reading / Resources<a href="https://docs.locki.io/blog/opik-workshop-2#suggested-further-reading--resources" class="hash-link" aria-label="Direct link to Suggested Further Reading / Resources" title="Direct link to Suggested Further Reading / Resources" translate="no">​</a></h2>
<ul>
<li class=""><strong>Facilitation &amp; workshop design</strong>
<ul>
<li class="">Atlassian Team Playbook (facilitation patterns and team rituals): <a href="https://www.atlassian.com/team-playbook" target="_blank" rel="noopener noreferrer" class="">https://www.atlassian.com/team-playbook</a></li>
</ul>
</li>
<li class=""><strong>Evals and LLM testing</strong>
<ul>
<li class="">OpenAI Evals (conceptual reference): <a href="https://github.com/openai/evals" target="_blank" rel="noopener noreferrer" class="">https://github.com/openai/evals</a></li>
<li class="">LangChain evaluation guides: <a href="https://python.langchain.com/docs/guides/evaluation/" target="_blank" rel="noopener noreferrer" class="">https://python.langchain.com/docs/guides/evaluation/</a></li>
</ul>
</li>
<li class=""><strong>Agent systems and tool use</strong>
<ul>
<li class="">OpenAI documentation (agents/tooling concepts): <a href="https://platform.openai.com/docs/" target="_blank" rel="noopener noreferrer" class="">https://platform.openai.com/docs/</a></li>
<li class="">Anthropic documentation (tool use and agent patterns): <a href="https://docs.anthropic.com/" target="_blank" rel="noopener noreferrer" class="">https://docs.anthropic.com/</a></li>
<li class="">LangChain agent patterns and evaluation tooling: <a href="https://python.langchain.com/docs/" target="_blank" rel="noopener noreferrer" class="">https://python.langchain.com/docs/</a></li>
</ul>
</li>
<li class=""><strong>RAG learning resources</strong>
<ul>
<li class="">Pinecone RAG guides: <a href="https://www.pinecone.io/learn/" target="_blank" rel="noopener noreferrer" class="">https://www.pinecone.io/learn/</a></li>
<li class="">Weaviate RAG resources: <a href="https://weaviate.io/developers/weaviate" target="_blank" rel="noopener noreferrer" class="">https://weaviate.io/developers/weaviate</a></li>
</ul>
</li>
<li class=""><strong>Experiment tracking</strong>
<ul>
<li class="">Comet platform: <a href="https://www.comet.com/" target="_blank" rel="noopener noreferrer" class="">https://www.comet.com/</a></li>
</ul>
</li>
</ul>]]></content:encoded>
            <category>AI and Machine Learning</category>
            <category>RAG</category>
            <category>Encode hackathon</category>
        </item>
        <item>
            <title><![CDATA[OPIK : AI Evaluation and Observability]]></title>
            <link>https://docs.locki.io/blog/opik-workshop-1</link>
            <guid>https://docs.locki.io/blog/opik-workshop-1</guid>
            <pubDate>Wed, 14 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[This lecture, led by Abby Morgan, an AI Research Engineer, introduces AI evaluation as a systematic feedback loop for transitioning prototypes to production-ready systems. It outlines the four key components of a useful evaluation: a target capability, a test set, a scoring method, and decision rules. The session differentiates between general benchmarks and specific product evaluations, emphasizing the need for observability in agent evaluation. It demonstrates using OPIK, an open-source tool, to track, debug, and evaluate LLM agents through features like traces, spans, 'LM as a judge', and regression testing datasets.]]></description>
            <content:encoded><![CDATA[<p>This lecture, led by Abby Morgan, an AI Research Engineer, introduces AI evaluation as a systematic feedback loop for transitioning prototypes to production-ready systems. It outlines the four key components of a useful evaluation: a target capability, a test set, a scoring method, and decision rules. The session differentiates between general benchmarks and specific product evaluations, emphasizing the need for observability in agent evaluation. It demonstrates using OPIK, an open-source tool, to track, debug, and evaluate LLM agents through features like traces, spans, 'LM as a judge', and regression testing datasets.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="takeaways">Takeaways<a href="https://docs.locki.io/blog/opik-workshop-1#takeaways" class="hash-link" aria-label="Direct link to Takeaways" title="Direct link to Takeaways" translate="no">​</a></h2>
<ol>
<li class="">Introduction to Abby Morgan, an AI Research Engineer and Developer Advocate at Comet.</li>
<li class="">Housekeeping rules for the hackathon: use the public Discord channel for specific questions to ensure fairness and help others.</li>
<li class="">Recap of the previous session on AI evaluations: they turn prototypes into production-ready systems.</li>
<li class="">Evaluation is the feedback loop that enables systematic improvement, turning guesswork into a scientific process.</li>
<li class="">Evaluations help in making decisions (ship or roll back), debugging failures, and building trustworthy systems.</li>
<li class="">An evaluation is defined as a structured, repeatable measurement of system behavior against specific criteria.</li>
<li class="">Four key ingredients of a useful evaluation: a target capability, a test set reflecting the relevant world, a scoring method, and decision rules.</li>
<li class="">Evaluation outputs are not just numbers; they can include concrete examples, categorical slices, and error taxonomies.</li>
<li class="">Distinction between benchmarks and product evaluations: Benchmarks are for broad comparisons, while product evals are specific to your use case, tools, and workflows.</li>
<li class="">The importance of observability in evaluating agents: the full trace (context, prompts, tool calls) is crucial as agents don't fail like traditional software.</li>
</ol>
<iframe width="100%" style="aspect-ratio:16 / 9" src="https://www.encodeclub.com/programmes/comet-resolution-v2-hackathon/events/intro-to-opik" title="OPIK workshop 1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="highlights">Highlights<a href="https://docs.locki.io/blog/opik-workshop-1#highlights" class="hash-link" aria-label="Direct link to Highlights" title="Direct link to Highlights" translate="no">​</a></h2>
<ul>
<li class=""><code>"Evaluation is essentially just the feedback loop that makes improvement thematic."-- Annie Morgan</code></li>
<li class=""><code>"Evals are what turn random iteration or guesswork into more of a scientific process that allows you to improve in a systematic way."-- Annie Morgan</code></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="chapters--topics">Chapters &amp; Topics<a href="https://docs.locki.io/blog/opik-workshop-1#chapters--topics" class="hash-link" aria-label="Direct link to Chapters &amp; Topics" title="Direct link to Chapters &amp; Topics" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-role-and-definition-of-ai-evaluation">The Role and Definition of AI Evaluation<a href="https://docs.locki.io/blog/opik-workshop-1#the-role-and-definition-of-ai-evaluation" class="hash-link" aria-label="Direct link to The Role and Definition of AI Evaluation" title="Direct link to The Role and Definition of AI Evaluation" translate="no">​</a></h3>
<blockquote>
<p>An evaluation is a structured, repeatable measurement of system behavior against criteria we care about. This structured approach is key to distinguishing a true evaluation from a mere product demo, as it must be consistently runnable over time to interpret changes.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">Evaluation turns a prototype into a production-ready system.</li>
<li class="">It provides a feedback loop for systematic improvement.</li>
<li class="">It helps make decisions like shipping or rolling back features.</li>
<li class="">An evaluation must be structured and repeatable.</li>
<li class="">It's the difference between a product demo and a scientific process.</li>
<li class="">It helps build systems that people can trust in the real world.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
The process of evaluation is what transforms a cool but unreliable prototype into something that can be confidently shipped and iterated upon in a real-world production environment. It provides the necessary feedback loop to make improvements systematic rather than random. It helps decide whether to ship new features, roll back changes, debug failures, and ultimately, build systems that users can trust. Without a structured evaluation process, it's difficult to know if a system is actually improving or if observed successes are just cherry-picked examples or irrelevant outliers.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="four-ingredients-of-a-useful-evaluation">Four Ingredients of a Useful Evaluation<a href="https://docs.locki.io/blog/opik-workshop-1#four-ingredients-of-a-useful-evaluation" class="hash-link" aria-label="Direct link to Four Ingredients of a Useful Evaluation" title="Direct link to Four Ingredients of a Useful Evaluation" translate="no">​</a></h3>
<blockquote>
<p>Most useful evaluations are composed of four essential ingredients: a target capability, a test set, a scoring method, and decision rules.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">A target capability (e.g., fluency, relevance, toxicity).</li>
<li class="">A test set that reflects the specific world and edge cases you care about.</li>
<li class="">A scoring method, which can be human annotation or an automated metric.</li>
<li class="">Decision rules that dictate actions based on the evaluation scores (e.g., ship, roll back).</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
To create a useful evaluation, you need four components. First, a 'target capability' which could be things like fluency, relevance, or toxicity. Second, a 'test set' that accurately reflects the real-world scenarios you care about, including edge cases. This is where product evals differ from general benchmarks. Third, a 'scoring method', which can be either human annotation or an automated metric. Finally, 'decision rules' which define what actions to take based on the evaluation scores, such as deploying a new feature or rolling it back.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="benchmarks-vs-product-evals">Benchmarks vs. Product Evals<a href="https://docs.locki.io/blog/opik-workshop-1#benchmarks-vs-product-evals" class="hash-link" aria-label="Direct link to Benchmarks vs. Product Evals" title="Direct link to Benchmarks vs. Product Evals" translate="no">​</a></h3>
<blockquote>
<p>Benchmarks are standardized evaluations for broad comparisons across a wide range of use cases, whereas product evaluations are tailored to a specific use case, including its unique tools and workflows. Benchmarks are helpful for general comparisons, but are not a substitute for product-specific evaluations.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">Benchmarks are standardized and cover a wide range of use cases.</li>
<li class="">Product evals are specific to your use case, tools, and workflows.</li>
<li class="">Benchmarks are for broader comparisons.</li>
<li class="">Product evals are for seriously evaluating your system for its specific purpose.</li>
<li class="">Product evals should use a test set that reflects the particular world you care about, including edge cases.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
While the term 'benchmark' is often used in AI evals, it's important to distinguish it from a 'product eval'. Benchmarks are generalized and standardized, designed to test a wide range of examples and use cases. They are useful for broader comparisons. On the other hand, a product evaluation is specific to your product's use case. It should use a test set that reflects the world you care about, including specific edge cases, and incorporate your particular tools and workflows. For serious evaluation of your own system's performance for its intended purpose, a product-specific eval is necessary.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="observability-as-the-foundation-for-agent-evaluation">Observability as the Foundation for Agent Evaluation<a href="https://docs.locki.io/blog/opik-workshop-1#observability-as-the-foundation-for-agent-evaluation" class="hash-link" aria-label="Direct link to Observability as the Foundation for Agent Evaluation" title="Direct link to Observability as the Foundation for Agent Evaluation" translate="no">​</a></h3>
<blockquote>
<p>For AI agents, observability is the foundation of evaluation. Since agents don't fail like traditional software, it's crucial to look beyond the final output and observe the full trace of their operation. This includes the context retrieved, prompts used, tools called, and all intermediate steps. This observation is the first step in a cycle of improvement: observe, understand, evaluate, and then improve.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">The final output of an agent is never the full story.</li>
<li class="">Observing the full trace is critical for evaluation.</li>
<li class="">The trace includes retrieved context, prompts, tool calls, and intermediate steps.</li>
<li class="">Agents do not fail like traditional software, so observation is key.</li>
<li class="">The improvement cycle is: observe -&gt; understand -&gt; evaluate -&gt; improve.</li>
<li class="">OPIK is designed to make observability and evaluation practical and simple.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
Evaluating agents requires starting with observability because their final output alone doesn't tell the whole story. Unlike traditional software, an agent's failure or success is determined by a complex series of steps. Therefore, you must be able to see the full trace of its actions. This includes what context was retrieved, what prompts were generated and used, which tools were called, and all the intermediate results. Once you can observe this entire process, you can begin to understand what is happening. With understanding, you can then evaluate the agent's performance against your criteria. Finally, with these evaluations and measurements of success, you can systematically begin to improve the agent. OPIC is a tool specifically designed to facilitate this process by making observability and evaluation practical and easy.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="integrating-opik-into-your-code">Integrating OPIK into Your Code<a href="https://docs.locki.io/blog/opik-workshop-1#integrating-opik-into-your-code" class="hash-link" aria-label="Direct link to Integrating OPIK into Your Code" title="Direct link to Integrating OPIK into Your Code" translate="no">​</a></h3>
<blockquote>
<p>OPIK is an observability tool that can be easily integrated into your code to track, monitor, and evaluate the performance of LLM agents. It requires minimal code, often just one to three lines, to start logging agent interactions. The integration method might vary slightly depending on whether you're using a direct integration like with OpenAI Agents or a more general method like the track decorator.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">Import OPIK at the top of your file.</li>
<li class="">Integration can be as simple as one to three lines of code.</li>
<li class="">Direct integrations, like with OpenAI Agents, might have a specific syntax.</li>
<li class="">The '@track' decorator is another common method for integration.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
To integrate OPIK, you first import it at the top of your script. Then, depending on the framework, you might use a specific call like the one shown for OpenAI Agents, or use a track decorator. For the demonstrated recipe generator agent, which uses OpenAI Agents, the integration was slightly different but still very simple. This minimal setup allows OPIK to automatically capture detailed information about each agent run.</li>
<li class=""><strong>Examples</strong>
<blockquote>
<p>A basic agent acting as a recipe generator. The user provides a list of ingredients, and the agent performs two LLM calls. The first LLM call suggests a recipe based on the ingredients (e.g., creamy orange tomato soup from tomatoes, cream, and oranges). The second LLM call researches the steps to create that specific recipe.</p>
</blockquote>
<ul>
<li class="">The user runs the script and is prompted for ingredients.</li>
<li class="">The user enters 'tomatoes, cream, oranges'.</li>
<li class="">The first LLM processes these ingredients and suggests 'creamy orange tomato soup'.</li>
<li class="">This recipe name is then passed to the second LLM.</li>
<li class="">The second LLM researches and outputs the detailed steps for making the soup.</li>
<li class="">All of this activity is logged as a single trace in the OPIC dashboard.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="understanding-traces-and-spans">Understanding Traces and Spans<a href="https://docs.locki.io/blog/opik-workshop-1#understanding-traces-and-spans" class="hash-link" aria-label="Direct link to Understanding Traces and Spans" title="Direct link to Understanding Traces and Spans" translate="no">​</a></h3>
<blockquote>
<p>OPIC organizes logged data into traces and spans. A trace represents a single, complete end-to-end process or execution of your agent. A span is a smaller, individual step or operation within that trace. This hierarchical structure allows for both a high-level overview and a granular look at each component of the agent's execution, which is crucial for debugging and evaluation.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">A trace is the entire end-to-end agentic call.</li>
<li class="">A span is an individual step within the trace.</li>
<li class="">The dashboard allows you to view the overall trace and drill down into individual spans.</li>
<li class="">This structure helps isolate where failures or issues occur in a complex agent.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
When an agent runs, the entire operation is captured as one trace. Within this trace, you can see individual spans corresponding to specific actions, like LLM calls or tool usage. The OPIC dashboard clearly displays the input and output for the entire agent call (the trace) and for each individual step (the spans). This helps identify exactly where in the process a failure or unexpected behavior occurs. For example, if an agent fails, you can inspect the spans leading up to the failure to understand the root cause.</li>
<li class=""><strong>Examples</strong>
<blockquote>
<p>In the recipe generator agent, the entire process from taking user ingredients to outputting a full recipe is one trace. Within that trace, the first LLM call (suggesting 'chicken parmesan') is one span, and the second LLM call (researching how to make it) is another span.</p>
</blockquote>
<ul>
<li class="">User interacts with the agent, triggering a run. This entire run is a 'trace'.</li>
<li class="">The agent calls the first LLM to generate a recipe idea. This call is a 'span'.</li>
<li class="">The agent then calls the second LLM to get the recipe steps. This second call is another 'span'.</li>
<li class="">The dashboard shows the full trace and allows clicking into it to see the individual spans, each with its own inputs, outputs, and metadata.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="online-evaluations-and-lm-as-a-judge">Online Evaluations and 'LM as a Judge'<a href="https://docs.locki.io/blog/opik-workshop-1#online-evaluations-and-lm-as-a-judge" class="hash-link" aria-label="Direct link to Online Evaluations and 'LM as a Judge'" title="Direct link to Online Evaluations and 'LM as a Judge'" translate="no">​</a></h3>
<blockquote>
<p>OPIC allows for creating online evaluations that automatically score agent performance against predefined criteria every time an agent runs. A key feature is 'LM as a judge,' where one LLM is used to evaluate the output of your agent's LLM based on a custom prompt and scoring scale you provide. This enables automated, qualitative assessment of agent outputs.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">Online evaluations automatically score agent calls based on created rules.</li>
<li class="">'LM as a judge' uses an external LLM to evaluate your agent's output.</li>
<li class="">You must provide a detailed prompt to guide the judge LLM.</li>
<li class="">Users can manually annotate traces with their own scores to calibrate the 'LM as a judge' evaluator.</li>
<li class="">You can compare human scores with LLM-generated scores to improve the evaluation prompt.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
To set up an online evaluation, you navigate to the 'Online Evaluation' section in the OPIC dashboard and create a new rule. You name the rule, provide API keys for the external judging LLM (e.g., from OpenAI, Anthropic, or OpenRouter), and select the model. You then write a detailed prompt that instructs the judge LLM on how to score the output, including the context, scoring scale, and criteria. Once the rule is created, every new trace will be automatically scored against this metric, and the scores will appear in your trace list.</li>
<li class=""><strong>Examples</strong>
<blockquote>
<p>For the recipe agent, three 'LM as a judge' evaluation metrics were created to assess the generated recipes. The user set up a rule by providing a prompt to a judge LLM, defining a scoring scale and the context for what constitutes a good recipe suggestion. After setup, every time the recipe agent ran, it was automatically scored by these metrics.</p>
</blockquote>
<ul>
<li class="">Go to 'Online Evaluation' and click 'Create New Rule'.</li>
<li class="">Name the rule (e.g., 'Recipe Coherence').</li>
<li class="">Choose a provider and model for the judge LLM (e.g., OpenAI's GPT-4).</li>
<li class="">Write a prompt for the judge: 'You are an evaluator. Rate the following recipe on a scale of 1-5 for coherence...'</li>
<li class="">Save the rule. Now, all subsequent runs of the recipe agent will have a 'Recipe Coherence' score.</li>
<li class="">You can then go into a trace and manually add a human score to compare against the 'LM as a judge' score, which helps in refining the evaluation prompt.</li>
</ul>
</li>
<li class=""><strong>Considerations</strong></li>
<li class="">It's good practice to use a healthy mix of heuristic evaluation metrics and 'LLM as a judge' metrics.</li>
<li class="">You may need to iterate on the prompt given to the judging LLM to ensure its evaluations align with your definition of success.</li>
<li class="">Using one LLM to judge another can be problematic, so human oversight and comparison are valuable.</li>
<li class=""><strong>Special Circumstances</strong></li>
<li class="">If you suspect the 'LM as a judge' is providing inaccurate scores, you should go into the traces, manually score them yourself, and compare your scores to the AI's. Based on the discrepancies, you can tweak the prompt given to the judge LLM to make its ratings more closely aligned with human judgment.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="managing-and-testing-with-problematic-samples">Managing and Testing with Problematic Samples<a href="https://docs.locki.io/blog/opik-workshop-1#managing-and-testing-with-problematic-samples" class="hash-link" aria-label="Direct link to Managing and Testing with Problematic Samples" title="Direct link to Managing and Testing with Problematic Samples" translate="no">​</a></h3>
<blockquote>
<p>OPIC provides features to isolate problematic agent runs and use them for regression testing. When an agent produces an error or an undesirable output, you can select these 'problematic samples' from your traces and add them to a named dataset. This dataset can then be used to repeatedly test your agent after making code changes, ensuring that your fixes are effective and don't introduce new issues.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">Isolate traces where the agent fails or performs poorly.</li>
<li class="">Select these problematic samples in the dashboard.</li>
<li class="">Add them to a new or existing dataset.</li>
<li class="">Use this dataset to run regression tests on your agent after making code changes.</li>
<li class="">This helps verify that improvements are effective and don't cause regressions.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
To do this, you would go through your list of traces in the OPIC dashboard. You can filter or sort by low evaluation scores or errors to find the problematic runs. Select the checkboxes next to these traces. Then, use the option to 'add to a dataset'. You can create a new dataset (e.g., 'problematic samples') or add to an existing one. Later, when you've modified your agent's code, you can run the agent specifically against the inputs from this dataset to see if the outputs have improved.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="getting-started-with-opic-and-basic-tracing">Getting Started with OPIC and Basic Tracing<a href="https://docs.locki.io/blog/opik-workshop-1#getting-started-with-opic-and-basic-tracing" class="hash-link" aria-label="Direct link to Getting Started with OPIC and Basic Tracing" title="Direct link to Getting Started with OPIC and Basic Tracing" translate="no">​</a></h3>
<blockquote>
<p>OPIC (Open-Source Project for Instrumenting and Correcting AI) is an open-source tool for LLM observability. It can be self-hosted locally for free, providing high customization, or used via a 100% free cloud tier for quick setup. The demonstration and initial setup guide focus on the free cloud tier.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">OPIC is 100% open source and offers a 100% free cloud tier.</li>
<li class="">Setup involves installing the package and configuring it with an API key and workspace.</li>
<li class="">The '@track' decorator is the simplest way to add tracing to any Python function.</li>
<li class="">Direct integrations for frameworks like OpenAI provide deeper observability by wrapping the client object.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
To get started with the free cloud tier, first install OPIC using 'pip install opic'. Then, configure your account by running 'open configure'. This command will prompt you for your API key, which can be found in your Comet account settings. You will also confirm the workspace you want to use. You can also set these as environment variables to avoid entering them manually each time. A project name can be specified using a code snippet provided in the quick start guide.</li>
<li class=""><strong>Examples</strong>
<blockquote>
<p>A simple 'Hello World' trace example can be created using the '@track' decorator from OPIC. You import 'track' from OPIC and place the decorator above the definition of the function you want to monitor, such as an LLM call. This allows you to track the function's execution without rewriting your code. Every time the decorated function is run, it will automatically log to Comet, and a link to view the trace will be provided in the output.</p>
</blockquote>
<ul>
<li class="">Import the 'track' decorator: <code>from opic import track</code></li>
<li class="">Place the decorator above your function definition: <code>@track def my_function(): ...</code></li>
</ul>
</li>
<li class="">Run the function. It will automatically log its execution, inputs, and outputs to OPIC.<!-- -->
<blockquote>
<p>OPIC offers direct integrations with popular frameworks like OpenAI. Instead of using the '@track' decorator, you import the specific integration module (e.g., <code>opic.integrations.openai</code>). Then, you wrap your framework client (e.g., the OpenAI client) in an OPIC track function. This provides deep observability into all system metrics and information from the LLM call with just one or two lines of code.</p>
</blockquote>
</li>
<li class="">Import the integration: <code>import opic.integrations.openai</code></li>
<li class="">Instantiate your original client: <code>client = OpenAI()</code></li>
<li class="">Wrap the client with the OPIC function: <code>client = opic.integrations.openai.patch(client)</code></li>
<li class="">Now, all calls made using this <code>client</code> object will be automatically tracked.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="debugging-and-evaluation-with-opic">Debugging and Evaluation with OPIC<a href="https://docs.locki.io/blog/opik-workshop-1#debugging-and-evaluation-with-opic" class="hash-link" aria-label="Direct link to Debugging and Evaluation with OPIC" title="Direct link to Debugging and Evaluation with OPIC" translate="no">​</a></h3>
<blockquote>
<p>OPIC provides visibility into an agent's execution flow, helping users debug errors and identify areas for improvement. It allows you to see exactly which step in a multi-step agent failed, avoiding the need to manually sift through code or error traces.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">OPIC's trace visualization helps pinpoint the exact step where an error occurred in an agent.</li>
<li class="">This reduces debugging time by narrowing the search space from the entire codebase to a specific component (e.g., one LLM call).</li>
<li class="">Automatic evaluation metrics can be set up to flag issues like toxicity that are hard to catch manually.</li>
<li class="">The UI allows filtering the entire dataset based on evaluation flags, aggregating all relevant examples for analysis.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
When an agent call fails, OPIC's trace view shows the sequence of operations (e.g., LLM calls, tool calls). If a step fails, the trace stops there. For example, if an agent fails at the 'recipe suggester' step, you know the problem lies within that specific LLM call. This narrows down the debugging scope significantly. For more subtle issues, you can create evaluation metrics for things like toxicity. These metrics can automatically flag problematic runs, which you can then filter and analyze in the OPIC UI. This makes it much easier to consume a lot of information quickly and distill it down to find where things are going wrong, why, and how to fix them.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="managing-evaluation-datasets-and-metrics">Managing Evaluation Datasets and Metrics<a href="https://docs.locki.io/blog/opik-workshop-1#managing-evaluation-datasets-and-metrics" class="hash-link" aria-label="Direct link to Managing Evaluation Datasets and Metrics" title="Direct link to Managing Evaluation Datasets and Metrics" translate="no">​</a></h3>
<blockquote>
<p>To maintain a relevant dataset for evaluations as an application evolves, OPIC allows for dynamic management of evaluation datasets. It is also highly recommended to use a combination of evaluation methods rather than relying on a single one.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">Evaluation datasets in OPIC can be dynamically updated by adding or removing traces.</li>
<li class="">If a dataset becomes irrelevant due to application changes, you can edit it or create a new one from scratch.</li>
<li class="">It is recommended to use multiple evaluation metrics, such as combining heuristic logic with an LLM-as-a-judge, for more robust evaluation.</li>
<li class="">Users are not limited to one evaluation dataset and can maintain several for different testing scenarios.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
As your application changes (e.g., tool call names, parameters), some traces in your evaluation dataset may become obsolete. In the OPIC UI, you can easily remove irrelevant traces from an existing dataset. You can also add new, more relevant traces. If a dataset has largely lost its relevance, you can create a completely new one from scratch. Users are not limited to a single evaluation dataset and can have dozens for different purposes. For the evaluation itself, you can and should use multiple metrics. For example, you can evaluate a model using a combination of heuristic logic and an LLM-as-a-judge.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="assignments--suggestions">Assignments &amp; Suggestions<a href="https://docs.locki.io/blog/opik-workshop-1#assignments--suggestions" class="hash-link" aria-label="Direct link to Assignments &amp; Suggestions" title="Direct link to Assignments &amp; Suggestions" translate="no">​</a></h2>
<ul>
<li class="">Include the source code file (like a cursor) or basic setup steps in your final submission if you use AI tools like n8n, so judges can confirm the project works as intended.</li>
<li class="">For detailed or 'deep divey' questions about OPIC, post them on the Discord server for a more thorough answer.</li>
<li class="">For questions about specific SDKs and the functional differences between various OPIC integration methods, post them on Discord.</li>
</ul>]]></content:encoded>
            <category>AI and Machine Learning</category>
            <category>civitech</category>
            <category>Encode hackathon</category>
            <category>Observability</category>
        </item>
        <item>
            <title><![CDATA[Project scope - Victor + JNS]]></title>
            <link>https://docs.locki.io/blog/victor-intro-project-description</link>
            <guid>https://docs.locki.io/blog/victor-intro-project-description</guid>
            <pubDate>Wed, 14 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Location: Discord voice chat]]></description>
            <content:encoded><![CDATA[<blockquote>
<p>Location: Discord voice chat
Attendees: jnxmas, Victor</p>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="https://docs.locki.io/blog/victor-intro-project-description#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p>This document summarizes a series of project meetings focused on building a community-focused AI application for a local election. The discussions cover team composition and recruitment, defining the project's scope for a hackathon, and outlining the technical architecture. Key activities include automating the processing of community contributions, developing a neutral chatbot to compare political programs, and initiating web crawling operations to gather data. The plan involves using technologies like Firecrawl, N8N, Pydantic, and a Retrieval-Augmented Generation (RAG) system, with a strong emphasis on collaborative development practices via GitHub.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-topics">Key Topics<a href="https://docs.locki.io/blog/victor-intro-project-description#key-topics" class="hash-link" aria-label="Direct link to Key Topics" title="Direct link to Key Topics" translate="no">​</a></h2>
<ul>
<li class="">Two new potential members from Audierne, France, were identified. They are developers focused on websites but are new to AI and Python, so they are considered to be starting from scratch.</li>
<li class="">Their primary value is their familiarity with the local context of the project (audierne2026), making them a potential bridge to the local population. They are seen as good candidates for an "observer" role within the hackathon.</li>
<li class="">They are connected to one of four local political lists, which is interested in participative community movements.</li>
<li class="">An Indian developer named Satish, with whom a speaker previously worked on an AWS and Next.js project in a 2023 hackathon, is a potential collaborator. However, he is currently cautious about joining due to being busy with his job.</li>
<li class="">A French individual named Max, who specializes in SEO and social media strategy, was mentioned but is not a coder.</li>
<li class="">An Indian machine learning specialist, referred to as "Meher," is considering joining. He is seen as a key "third guy" ML for the application architecture.</li>
<li class="">There was a concern that the project's connection to a local election might disqualify it from the hackathon.</li>
<li class="">A team member named Rebecca clarified in a general chat that the project is eligible to be submitted under the "social community impact" category.</li>
<li class="">The team was advised that all questions should be posted in the general chat, as Rebecca will not be replying to DMs.</li>
<li class="">Progress has been made on the project's GitHub Kanban board, with P0 tasks and some unprioritized tickets added.</li>
<li class="">The data crawling phase ("filecrawl") is ready to start with an initial dataset of 150 links and 4,000 PDFs that require OCR. The speaker has paused this work to incorporate more contributions.</li>
<li class="">The N8N orchestration workflow is nearly complete and ready for deployment.<!-- -->
<ul>
<li class="">It will be hosted on a server with a 6-core CPU and 16 gigabytes of RAM.</li>
<li class="">The team will consider moving to Vercel if the server cannot handle the load.</li>
</ul>
</li>
<li class="">N8N is a low-code/no-code platform for building workflows, and an example was shown for automating posts based on GitHub repository issues.</li>
<li class="">The setup is encapsulated in Docker, making it easier to run.</li>
<li class="">The project's code and tasks will be managed in the Ocapistan repository on GitHub.</li>
<li class="">A key initial task is to push the ideation file (<code>ideation 13.1.2026</code>) to the main branch to serve as a foundation for future work.</li>
<li class="">The team will use a feature branch workflow:<!-- -->
<ul>
<li class="">For each task, a developer will create a new feature branch from the main branch.</li>
<li class="">Once the task is complete, the branch will be pushed to the repository for review by others.</li>
<li class="">After review and debugging, the branch will be merged and closed.</li>
</ul>
</li>
<li class="">The team agreed to prioritize the Firecrawl operation as the starting point, despite its potential difficulty.</li>
<li class="">Two team members will conduct parallel trials on different fire crawling tasks to gain experience and share learnings.</li>
<li class="">Each member should get their own free Firecrawl API key, as they may need to use multiple free accounts by registering with different emails to maximize free API calls.</li>
<li class="">The initial scraping task will target a list of PDFs from a specific URL (<code>script marie arete mary</code>).</li>
<li class="">PDF processing will require testing various libraries like <code>pdf2ocr</code>, Tabula, and <code>pypdf</code> to find the most effective one.</li>
<li class="">The team needs to develop a method to identify and set aside documents that only contain signatures, as this information has no value for the LLM.</li>
<li class="">The project will use Python with type hinting and Pydantic for data handling to improve code quality.</li>
<li class="">A modular "separation of concerns" approach will be used for the ETL (Extract, Transform, Load) process.<!-- -->
<ul>
<li class="">Extraction, transformation, and loading will be handled by separate workflows, likely implemented as three distinct classes.</li>
<li class="">This modularity will allow for different extraction methods (e.g., for plain text, HTML with Beautiful Soup, or OCR for PDFs) to be developed and called as needed.</li>
</ul>
</li>
<li class="">The project will use Ocapistan for code management, N8N for workflows, and a flexible AI provider handled by OPIC.</li>
<li class="">Team members do not need to work at the same time but must communicate effectively. Progress will be tracked through changes in the project repository.</li>
<li class="">Developers should assign tasks to themselves and break them down into smaller sub-tasks.</li>
<li class="">Direct discussions will be necessary when merging work on the same files to resolve conflicts.</li>
<li class=""><strong>Current Process (Manual):</strong>
<ul>
<li class="">Contributions are received via email.</li>
<li class="">They are manually reviewed against a "chart of contribution" to ensure they meet the criteria.</li>
<li class="">If approved, they are manually copy-pasted into a GitHub issue.</li>
<li class="">A daily summary of contributions is automatically posted to Facebook via M8N, but this post is anonymous and lacks detail.</li>
</ul>
</li>
<li class=""><strong>Proposed Automated Process:</strong>
<ul>
<li class="">The goal is to automate the entire workflow from email receipt to GitHub issue creation.</li>
<li class="">An AI agent will be developed to judge whether an incoming contribution respects the "chart of contribution."</li>
<li class="">This agent will be part of the "OKAPI stand," which will house all agents and the RAG system for the project.</li>
</ul>
</li>
<li class=""><strong>Purpose:</strong> After a contribution is validated and becomes a GitHub issue, a "creative agent" (also called the Okapi Sten proper) will process it.</li>
<li class=""><strong>Functionality:</strong>
<ul>
<li class="">The agent generates an AI-made reply that contextualizes the new contribution.</li>
<li class="">It cross-references the submission with previous contributions in the same category to find echoes and avoid repetition.</li>
<li class="">The reply includes links to the sources used to construct the contextualization.</li>
</ul>
</li>
<li class=""><strong>Handling New vs. Existing Topics:</strong>
<ul>
<li class="">The workflow must handle two cases: when a contribution is for a brand-new category, and when it relates to a previously discussed topic.</li>
<li class="">In the latter case, the system will search existing issues and the RAG system to build a comprehensive answer.</li>
</ul>
</li>
<li class=""><strong>LLM Testing:</strong>
<ul>
<li class="">Grok has been used for initial testing. It was effective at searching for context online (including the audierne2026 project) and generating relevant, though coincidental, replies.</li>
<li class="">The team discussed that Grok's ability to search and synthesize information acts similarly to a basic RAG system.</li>
</ul>
</li>
<li class=""><strong>RAG System Development:</strong>
<ul>
<li class="">A dedicated RAG (Retrieval-Augmented Generation) system will be built to avoid repetitive outputs and manage context efficiently.</li>
<li class="">The team needs to decide how to store source links and other data for the RAG system, considering a NoSQL database like MongoDB for flexibility. A vector store will be used for training on gathered data.</li>
</ul>
</li>
<li class=""><strong>Key Dates:</strong>
<ul>
<li class="">The election preparation period is currently underway.</li>
<li class="">Contribution collection will continue until at least January 31.</li>
<li class="">The election day is around March 15-22.</li>
</ul>
</li>
<li class=""><strong>February Focus:</strong>
<ul>
<li class="">Work in February will focus purely on developing the chatbot.</li>
<li class="">The chatbot will be used to compare the programs of the four enlisted municipal lists.</li>
<li class="">It will be designed to provide neutral, impartial comparisons on topics like lodging, culture, and budget realism.</li>
</ul>
</li>
<li class=""><strong>Using OPIK:</strong>
<ul>
<li class="">The OPIK framework will be used to evaluate every AI interaction to ensure quality and impartiality.</li>
<li class="">The team is considering creating a feedback loop where OPIK's evaluations could automatically improve the prompts in N8N.</li>
</ul>
</li>
<li class=""><strong>Maintaining Neutrality:</strong>
<ul>
<li class="">A major challenge is ensuring the chatbot remains neutral and does not generate sycophantic or biased responses based on leading questions from users.</li>
<li class="">The system may need multiple prompts to check for constraints like budget, realism, and political neutrality before generating a reply.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="open-issues--risks">Open Issues &amp; Risks<a href="https://docs.locki.io/blog/victor-intro-project-description#open-issues--risks" class="hash-link" aria-label="Direct link to Open Issues &amp; Risks" title="Direct link to Open Issues &amp; Risks" translate="no">​</a></h2>
<ul>
<li class="">It is unclear how the new team members from Audierne, who have limited technical experience in AI, will be integrated into the project.</li>
<li class="">The availability of a key potential collaborator, Satish, is uncertain due to his current work commitments.</li>
<li class="">The machine learning specialist, Meher has not yet confirmed if he will join the team.</li>
<li class="">It is undecided how to best store source links and data for the RAG system, though a NoSQL database is being considered.</li>
<li class="">It is unclear which LLMs (e.g., Gemini) will be chosen for the final implementation.</li>
<li class="">A key challenge will be designing the chatbot to remain neutral and avoid generating biased responses to leading questions.</li>
<li class="">The project's success depends on receiving a sufficient number of community contributions, which requires incentivizing and motivating people to participate.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="action-items">Action Items<a href="https://docs.locki.io/blog/victor-intro-project-description#action-items" class="hash-link" aria-label="Direct link to Action Items" title="Direct link to Action Items" translate="no">​</a></h2>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Prioritize project tasks.</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Set up a server for the Vaettir repo so the team can access it with a password.</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Start by building workflows, with more coding to begin next week.</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Set up an ollama platform to experiment with local LLMs.</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Push the <code>ideation 13.1.2026</code> file to the main Ocapistaine repository.</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Each team member to get a free Firecrawl API key.</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Begin experimenting with Firecrawl by creating a new branch on the Ocapistaine repository.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Start working on scraping the documents from the "script marie arreté maririe" task.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Test different PDF reading libraries (<code>pdf2ocr</code>, Tabula, <code>pypdf</code>) to determine the best option for the project.</li>
</ul>
<blockquote>
<p><strong>AI Suggestion</strong>
AI has identified the following issues that were not concluded in the meeting or lack clear action items; please pay attention:</p>
<ol>
<li class=""><strong>Critical Staffing and Team Formation Risk:</strong> The project faces a significant risk of stalling due to unresolved team composition. Two key experts, developer Satish and machine learning specialist "Mayer," have not committed to the project, leaving critical skill gaps. A clear action plan is needed to secure their participation or find qualified alternatives immediately to ensure the project can proceed.</li>
<li class=""><strong>Unresolved Core Chatbot Neutrality:</strong> A fundamental and unresolved challenge is how to technically implement and guarantee the election chatbot's neutrality and impartiality. There is no defined strategy for preventing the AI from giving biased responses, especially when faced with leading or manipulative user questions, which poses a major reputational and functional risk to the project's core objective.</li>
<li class=""><strong>Lack of a Defined Community Contribution Workflow:</strong> The entire process for receiving, validating, and integrating community-submitted content is undefined. This includes the creation of an AI agent to automate judging submissions and a clear workflow for handling both new and existing topics. Without this, the project cannot scale or effectively leverage community input, which is stated as a dependency for success.</li>
<li class=""><strong>Undefined Technical Foundation for Data Processing and Storage:</strong> Key decisions about the project's technical architecture are still pending. The team has not selected a database for the RAG system (e.g., NoSQL/MongoDB) or the specific Large Language Models (LLMs) for the final implementation. Furthermore, the method for processing varied document types like PDFs remains uncertain. These foundational decisions must be made to avoid delays in development.</li>
</ol>
</blockquote>]]></content:encoded>
            <category>Meeting</category>
        </item>
        <item>
            <title><![CDATA[Hackathon kickoff meeting]]></title>
            <link>https://docs.locki.io/blog/encode-kickoff</link>
            <guid>https://docs.locki.io/blog/encode-kickoff</guid>
            <pubDate>Tue, 13 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Date & Time04:06]]></description>
            <content:encoded><![CDATA[<blockquote>
<p>Date &amp; Time: 2026-01-13 19:04:06
Location: online presentation
<code>AI Agent Hackathon</code> <code>New Year's Resolutions</code> <code>AI Evaluation</code></p>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="theme">Theme<a href="https://docs.locki.io/blog/encode-kickoff#theme" class="hash-link" aria-label="Direct link to Theme" title="Direct link to Theme" translate="no">​</a></h2>
<p>This lecture introduces the "Commit to Change AI Agent Hackathon," a four-week online event challenging participants to build AI agents that help users stick to their New Year's resolutions. The event offers $30,000 in prizes across five tracks: Productivity, Personal Growth, Social Impact, Health/Wellness, and Financial Health. It emphasizes the importance of AI evaluations, defining them as structured measurements of system behavior. The lecture details the hackathon's timeline, submission requirements using the ENCODE platform, and the mandatory use of the OPIC tool for evaluation, guiding participants from ideation to final project submission.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="takeaways">Takeaways<a href="https://docs.locki.io/blog/encode-kickoff#takeaways" class="hash-link" aria-label="Direct link to Takeaways" title="Direct link to Takeaways" translate="no">​</a></h2>
<ol>
<li class="">Introduction to the Commit to Change AI Agent Hackathon.</li>
<li class="">The hackathon's goal is to build AI that turns New Year's resolutions into real results.</li>
<li class="">Hackathon registration is required on the Encode Cloud platform for all participants, including those from Luma.</li>
<li class="">The hackathon is sponsored by Comet, with supporting partners Basel and Google DeepMind.</li>
<li class="">This is a four-week online hackathon with up to $30,000 in prizes.</li>
<li class="">Statistics on New Year's resolutions: 23% give up within 13 days, and 43% give up by the end of January.</li>
<li class="">Hackathon advice: Start with a problem you have faced and build a unique solution.</li>
<li class="">The hackathon features five thematic tracks: Productivity and Work Habits, Personal Growth and Learning, Social and Community Impact, Health, Fitness and Wellness, and Financial Health.</li>
<li class="">It's recommended to focus on one category to create a high-quality, specialized app.</li>
<li class="">There is an overall challenge for the 'Best use of OPIC' for projects showcasing excellent evaluation and observability.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="highlights">Highlights<a href="https://docs.locki.io/blog/encode-kickoff#highlights" class="hash-link" aria-label="Direct link to Highlights" title="Direct link to Highlights" translate="no">​</a></h2>
<ul>
<li class=""><code>"AI evals are what turn that sort of really cool, fun prototype into a system that you can actually iterate on with confidence and start to think about exposing to the real world and to real people."-- Abby</code></li>
<li class=""><code>"What's even cooler than a really cool prototype is, in my opinion, a cool tool that you can actually use in the real world on real data. And for that, you need some sort of system of evaluations."-- Abby</code></li>
<li class=""><code>"Evaluation turns guesswork into science."-- Abby</code></li>
<li class=""><code>"AI evaluations are how we turn random iteration into progress, and they give us a repeatable way to measure behavior, compare changes, and improve systematically instead of guessing."-- Abby</code></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="chapters--topics">Chapters &amp; Topics<a href="https://docs.locki.io/blog/encode-kickoff#chapters--topics" class="hash-link" aria-label="Direct link to Chapters &amp; Topics" title="Direct link to Chapters &amp; Topics" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="hackathon-overview-and-goal">Hackathon Overview and Goal<a href="https://docs.locki.io/blog/encode-kickoff#hackathon-overview-and-goal" class="hash-link" aria-label="Direct link to Hackathon Overview and Goal" title="Direct link to Hackathon Overview and Goal" translate="no">​</a></h3>
<blockquote>
<p>The Commit to Change AI Agent Hackathon is a four-week online event starting in January 2026, aimed at building AI agents and LLM-powered apps that help people stick to their New Year's resolutions and goals. It offers up to $30,000 in prizes.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">The hackathon runs for four weeks online.</li>
<li class="">The goal is to build AI/LLM apps to help users stick to their goals.</li>
<li class="">There's a prize pool of up to $30,000.</li>
<li class="">It is sponsored by Comet, with support from Basel and Google DeepMind.</li>
<li class="">Participants must register on the Encode Cloud platform to get all updates and access resources.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
The hackathon is structured to guide participants from ideation to final submission. It includes workshops, deadlines to ensure progress, and resources provided by sponsors like Comet and partners like Google DeepMind. The central theme is leveraging AI to address the common problem of people giving up on their resolutions. Statistics show 23% of people give up 13 days into January, and 43% give up by the end of the month, highlighting the target audience for the projects.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="hackathon-tracks-and-challenges">Hackathon Tracks and Challenges<a href="https://docs.locki.io/blog/encode-kickoff#hackathon-tracks-and-challenges" class="hash-link" aria-label="Direct link to Hackathon Tracks and Challenges" title="Direct link to Hackathon Tracks and Challenges" translate="no">​</a></h3>
<blockquote>
<p>The hackathon is structured around five thematic tracks for projects, plus an overall challenge. The tracks are: Productivity and Work Habits, Personal Growth and Learning, Social and Community Impact, Health, Fitness and Wellness, and Financial Health. The overall challenge is for the 'Best Use of OPIC', rewarding projects with excellent evaluation and observability.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">Productivity and Work Habits: Build tools for smarter work and better routines.</li>
<li class="">Personal Growth and Learning: Build apps for learning new skills or developing self-awareness.</li>
<li class="">Social and Community Impact: Build tools for organizing communities or supporting environmental/social action.</li>
<li class="">Health, Fitness and Wellness: Build solutions for fitness, mental health, or general well-being.</li>
<li class="">Financial Health: Build AI/LLM apps for budgeting, saving, or understanding money.</li>
<li class="">Best Use of OPIC: A special category for projects with excellent evaluation and observability.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
Participants should choose one of the five themes to focus their project on. The themes are broad to accommodate a wide range of ideas. The 'Health, Fitness and Wellness' category is noted as a particularly common area for New Year's resolutions. In addition to the thematic challenges, all projects are eligible for the 'Best Use of OPIC' challenge, sponsored by Comet. This special prize can be won in conjunction with a thematic prize.</li>
<li class=""><strong>Considerations</strong></li>
<li class="">Focus on one category rather than trying to build an app that spans multiple, as an app that does one thing well is better than one that does four things less well.</li>
<li class="">Start with a problem that you yourself have faced to understand it well.</li>
<li class="">Come up with a solution that sets you apart from everyone else; build something interesting and unique.</li>
<li class="">Don't just do the bare minimum base idea; build on top of it.</li>
<li class="">The best use of OPIC category can be won alongside a theme prize, which is the only two-in-one win possible.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="hackathon-timeline-and-submission-requirements">Hackathon Timeline and Submission Requirements<a href="https://docs.locki.io/blog/encode-kickoff#hackathon-timeline-and-submission-requirements" class="hash-link" aria-label="Direct link to Hackathon Timeline and Submission Requirements" title="Direct link to Hackathon Timeline and Submission Requirements" translate="no">​</a></h3>
<blockquote>
<p>The hackathon has a structured timeline with key deadlines and specific submission requirements for the final project. The timeline spans four weeks, starting with ideation, moving to building, and culminating in a final submission.</p>
</blockquote>
<ul>
<li class="">
<p><strong>Keypoints</strong></p>
<ul>
<li class="">Week 1: Ideation and Project Creation Deadline.</li>
<li class="">Week 2: Building and a workshop on Gemini 3.</li>
<li class="">Week 2/3: Mid-hackathon Deadline (submit GitHub repo and description).</li>
<li class="">Final Submission Deadline: February 8th, 23:59 UTC-12.</li>
<li class="">Required final submission items: Video pitch with demo and public code base.</li>
<li class="">Recommended submission items: Hosted site and a presentation.</li>
<li class="">The mid-hackathon deadline forces early and regular code commits.</li>
</ul>
</li>
<li class="">
<p><strong>Explanation</strong>
The timeline is designed to keep participants on track.</p>
</li>
<li class="">
<p>Week 1: Launch, ideation, and a 'Project Creation Deadline' to commit to an idea and team.</p>
</li>
<li class="">
<p>Week 2: Start building, with a workshop from Google DeepMind on Gemini 3.</p>
</li>
<li class="">
<p>End of Week 2/Start of Week 3: 'Mid-hackathon Deadline' requiring submission of a GitHub repo and project description. This is not judged but ensures progress.</p>
</li>
<li class="">
<p>Final Submission Deadline: February 8th at one minute to midnight, UTC-12. This means you can submit if it's still before midnight anywhere in the world.
Final submissions must include a video pitch with a demo, a public codebase, and optionally a hosted site and presentation slides. These requirements are designed to give judges a comprehensive view of the project.</p>
</li>
<li class="">
<p><strong>Considerations</strong></p>
</li>
<li class="">
<p>Do not leave commits until the last minute; make regular commits from the start.</p>
</li>
<li class="">
<p>The video pitch is the first impression for judges and needs to capture their attention immediately.</p>
</li>
<li class="">
<p>While AI can be used for presentations, it is not recommended to use AI to generate the entire video pitch as it can be 'soul destroying' for judges.</p>
</li>
<li class="">
<p>A hosted site and presentation are optional but highly recommended to strengthen your submission.</p>
</li>
<li class="">
<p>Do not submit at the last minute to avoid technical issues or mistakes.</p>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-the-encode-platform">Using the ENCODE Platform<a href="https://docs.locki.io/blog/encode-kickoff#using-the-encode-platform" class="hash-link" aria-label="Direct link to Using the ENCODE Platform" title="Direct link to Using the ENCODE Platform" translate="no">​</a></h3>
<blockquote>
<p>The ENCODE platform is the central hub for the hackathon. It contains all necessary information, resources, and submission portals for participants.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">The ENCODE platform is the home for the hackathon.</li>
<li class="">Participants must register on the platform to get all emails and updates.</li>
<li class="">To create a project and team, use the 'create project' and 'join team code' features.</li>
<li class="">The platform has a 'Lecture' section with helpful videos.</li>
<li class="">The 'Events' page lists all workshop links.</li>
<li class="">Challenge descriptions and partner resources (Comet docs, Gemini credits, etc.) are available on the platform.</li>
<li class="">All submissions are made through the participant's personal hackathon page on the platform.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
Participants will use the ENCODE platform for all hackathon-related activities. After the introductory session, participants who joined from Luma must register for the hackathon on the platform to receive emails and updates. The platform is where you create your project, add team members using a 'join code', find lecture videos, access event links for workshops, read detailed challenge descriptions, and find partner resources like the Comet developer documentation and OPIC quick start guide. All submissions, from the mid-hackathon check-in to the final project, will be done through this platform.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="definition-of-an-ai-evaluation">Definition of an AI Evaluation<a href="https://docs.locki.io/blog/encode-kickoff#definition-of-an-ai-evaluation" class="hash-link" aria-label="Direct link to Definition of an AI Evaluation" title="Direct link to Definition of an AI Evaluation" translate="no">​</a></h3>
<blockquote>
<p>An evaluation is a structured measurement of a system's behavior against criteria we care about. This involves defining the vision of success and failure for the application. The process is a structured way to measure an AI system's behavior against defined criteria on representative tasks to support decisions and improve product development.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">It's a structured measurement of a system's behavior.</li>
<li class="">It's measured against predefined criteria that define success.</li>
<li class="">The hardest part is often figuring out the criteria you care about.</li>
<li class="">It's important to think about success, failure, and potential failure modes from the beginning.</li>
<li class="">Failure modes can vary, from harmful content and incorrect outputs to having the wrong tone for a brand.</li>
<li class="">An evaluation system is often a set of many individual metrics.</li>
<li class="">These individual metrics are aggregated into an overall success score.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
To unpack the definition: 'Structure' means repeatable and explicit, allowing for comparisons over time. 'Behavior' refers to what the system does, such as responses, tool calls, latency, or cost. 'Criteria' is how success is predefined, including accuracy, helpfulness, safety, or product-specific outcomes. An evaluation system is typically a set of many metrics aggregated into an overall success score.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-four-ingredients-of-a-good-evaluation">The Four Ingredients of a Good Evaluation<a href="https://docs.locki.io/blog/encode-kickoff#the-four-ingredients-of-a-good-evaluation" class="hash-link" aria-label="Direct link to The Four Ingredients of a Good Evaluation" title="Direct link to The Four Ingredients of a Good Evaluation" translate="no">​</a></h3>
<blockquote>
<p>A good evaluation generally consists of four main ingredients: a target, a test set/task, a scoring method, and a decision rule. These components work together to form a repeatable and useful evaluation process.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">A target: The specific capability or outcome being tested (e.g., factual QA, customer support resolution).</li>
<li class="">A test set or task: Examples representing the real world, including edge cases and outliers.</li>
<li class="">A scoring method: A metric, rubric, or judge (human or LLM) to score performance, including how individual scores are aggregated (e.g., math equation, voting system).</li>
<li class="">A decision rule: Determines what to do with the results, such as shipping a feature, rolling it back, or retraining. It often includes a threshold (e.g., 'if the success rate improves by at least 20%, then ship it').</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
First, the 'target' specifies the capability or outcome being tested (e.g., factual QA, tool use). Second, the 'test set' includes real-world examples and edge cases. Third, the 'scoring method' defines how performance is measured (e.g., a metric, rubric, LLM judge) and how scores are aggregated. Finally, the 'decision rule' dictates the action to be taken based on the evaluation score, such as shipping a feature or rolling it back, often based on a threshold or comparison to a baseline.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="difference-between-benchmarks-and-application-evals">Difference Between Benchmarks and Application Evals<a href="https://docs.locki.io/blog/encode-kickoff#difference-between-benchmarks-and-application-evals" class="hash-link" aria-label="Direct link to Difference Between Benchmarks and Application Evals" title="Direct link to Difference Between Benchmarks and Application Evals" translate="no">​</a></h3>
<blockquote>
<p>Benchmarks are standardized test sets, often from academia, used for broad comparisons across different models. Application evaluations are specific to a product, matching its real distribution of prompts, workflows, and constraints, and are used to determine if a system is good enough to ship.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">Benchmarks are standardized tests for comparing models.</li>
<li class="">Application evals are product-specific tests for system performance.</li>
<li class="">Benchmarks assess general ability; application evals assess behavior in a specific context.</li>
<li class="">Benchmarks score the model in isolation; application evals test the entire system (prompts, RAG, tools).</li>
<li class="">The biggest gap is distribution: benchmarks rarely match real traffic, edge cases, or domain language.</li>
<li class="">A model can score high on a benchmark but fail in your specific application context.</li>
<li class="">Benchmarks help narrow model choices; product evals tell you if the system is ready to ship.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
Benchmarks are useful for getting a quick read on a model's general capabilities and comparing model families (e.g., comparing one foundation model to another). However, a model can perform well on a benchmark and still fail in production because production success depends on behavior in a specific context. Application evals test the entire system—including prompts, RAG, and tool use—against your specific definition of success. The main gap is that benchmarks rarely match the distribution of real-world traffic, including edge cases and domain-specific language.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="challenges-in-evaluating-llms">Challenges in Evaluating LLMs<a href="https://docs.locki.io/blog/encode-kickoff#challenges-in-evaluating-llms" class="hash-link" aria-label="Direct link to Challenges in Evaluating LLMs" title="Direct link to Challenges in Evaluating LLMs" translate="no">​</a></h3>
<blockquote>
<p>Evaluating LLMs and agentic systems is inherently difficult due to several unique challenges that distinguish them from traditional software. These challenges include non-determinism, the subjectivity of tasks, high sensitivity to inputs, and the possibility of silent failures.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">LLMs are non-deterministic: The same input does not guarantee the same output, making traditional monitoring difficult.</li>
<li class="">Many AI tasks lack a single correct answer: Tasks like summarization or content generation can have multiple valid outputs, making simple match comparisons insufficient.</li>
<li class="">Heuristic methods are largely ineffective: Simple heuristics like regex or pattern matching don't consider semantic meaning.</li>
<li class="">Evaluation metrics are subjective: Concepts like relevance, coherence, and conciseness are open to interpretation.</li>
<li class="">Human feedback is imperfect: It is expensive, can be inconsistent, and is difficult to scale.</li>
<li class="">LLMs are extremely sensitive to prompts and context: Small changes can drastically alter the output.</li>
<li class="">LLMs have silent failures: A system can produce a correct output but use flawed or unsafe reasoning to get there, which is a failure that isn't immediately obvious.</li>
<li class="">There's no standard set of evaluation metrics applicable to all products.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
LLMs are non-deterministic, meaning the same input can produce different outputs, making hard-coded logic and simple error handling ineffective. Many tasks like summarization have no single correct answer, so simple matching (like regex) fails; semantic meaning must be considered. Metrics like 'relevance' are subjective, and even human annotators may disagree. LLMs are also very sensitive to small changes in prompts or context. Finally, they can have 'silent failures,' where the final output appears correct, but the underlying reasoning was flawed or discriminatory, which can only be caught by observing the entire process.</li>
<li class=""><strong>Examples</strong>
<blockquote>
<p>Traditional software monitoring uses tools like try-and-accept clauses to handle anticipated errors. However, with LLMs, we cannot anticipate every single possible output they might produce due to their non-deterministic nature. Therefore, a simple accept clause is not a scalable or effective solution for handling LLM failures.</p>
</blockquote>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="challenges-in-monitoring-ai-agents">Challenges in Monitoring AI Agents<a href="https://docs.locki.io/blog/encode-kickoff#challenges-in-monitoring-ai-agents" class="hash-link" aria-label="Direct link to Challenges in Monitoring AI Agents" title="Direct link to Challenges in Monitoring AI Agents" translate="no">​</a></h3>
<blockquote>
<p>Monitoring AI agents is significantly more complex than monitoring standalone Large Language Models (LLMs) because agents are composed of multiple LLMs and external tools, leading to compounded variability and numerous failure modes.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">Agents are built on top of LLMs, inheriting their non-deterministic nature.</li>
<li class="">Chaining multiple LLM calls compounds variability and potential for error.</li>
<li class="">Agents are multi-step workflows with more moving parts and thus more failure modes.</li>
<li class="">The use of external tools introduces external dependencies, potential silent failures, and added unpredictability.</li>
<li class="">Dynamic memory and context in agents can lead to intent drift and performance degradation over time.</li>
<li class="">Evaluation of agents must include not just the final output, but also the reasoning, tool choice, and every step along the way.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
Agents are built on top of LLMs, which are non-deterministic systems. When you chain multiple LLM calls together, as is common in agents, the variability and potential for error at the beginning of the chain can be amplified through subsequent steps. Agents are also multi-step workflows with more moving parts, external tool dependencies (which can have silent failures), and dynamic memory/context. This complexity increases the number of failure modes and necessitates a more thorough evaluation process that goes beyond just the final output to include reasoning, tool choice, and each intermediate step. As agents are deployed in real-world scenarios with more complex workflows and higher usage frequency, tracking all these aspects becomes extremely difficult.</li>
<li class=""><strong>Examples</strong>
<blockquote>
<p>A user engaged with a dealership's chatbot and managed to get it to agree to sell them a Chevy Tahoe for one US dollar. The chatbot even stated 'no takesies backsies'. This agreement was legally upheld in court, forcing the dealership to sell the car for one dollar.</p>
</blockquote>
<ul>
<li class="">This example illustrates a real-world consequence of an AI agent (chatbot) going wrong.</li>
<li class="">The non-deterministic and unconstrained nature of the LLM powering the chatbot led to an unintended and costly outcome for the dealership.</li>
<li class="">It highlights the critical need for robust monitoring and evaluation of agent behavior to prevent such incidents.</li>
<li class="">The phrase 'no takesies backsies' being considered legally binding underscores how interactions with AI can have unforeseen legal ramifications.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="hackathon-logistics-and-rules">Hackathon Logistics and Rules<a href="https://docs.locki.io/blog/encode-kickoff#hackathon-logistics-and-rules" class="hash-link" aria-label="Direct link to Hackathon Logistics and Rules" title="Direct link to Hackathon Logistics and Rules" translate="no">​</a></h3>
<blockquote>
<p>The 'Resolve to Evolve' Hackathon is an event where participants build AI or LLM-powered applications to help people maintain their New Year's resolutions. The event has specific rules regarding submissions, team formation, judging, and tooling.</p>
</blockquote>
<ul>
<li class=""><strong>Keypoints</strong>
<ul>
<li class="">Objective: Build an AI/LLM-powered app to help with New Year's resolutions.</li>
<li class="">Team Formation: Solo or teams of any size are permitted (recommendation: 5 or less).</li>
<li class="">Submissions: You can submit to multiple tracks but win at most one.</li>
<li class="">Prizing: $5,000 for each of the five themes, plus a $5,000 special prize for the best use of OPIC.</li>
<li class="">Required Tooling: OPIC must be used for evaluation.</li>
<li class="">Allowed Tooling: Any LLM (e.g., Gemini, etc.) can be used.</li>
<li class="">Submission deliverable: A video demo is a mandatory and critical part of the submission, presenting the project and its functionality.</li>
<li class="">Project Scope: Build an MVP. Full production-ready apps are not expected.</li>
<li class="">Timeline: The hackathon has started, and coding can begin now. It lasts approximately 28 days.</li>
<li class="">Prior Work: You can build on a pre-existing project, but only functionality added during the hackathon will be judged.</li>
</ul>
</li>
<li class=""><strong>Explanation</strong>
Participants are tasked with creating an MVP (Minimum Viable Product) of a web or mobile app. They can work solo or in teams of any size, though teams of 5 or fewer are recommended. Submissions can target multiple prize categories, but a project can only win one. Judging criteria are available on the hackathon platform. A key component of the submission is a video demo that serves as both a product pitch and a functional walkthrough. While participants can use any LLM, they are required to use OPIC for evaluation. The hackathon provides access to partner services with generous free tiers instead of specific credits. Participants can start coding immediately and can even build upon existing projects, but only work done during the hackathon period will be judged.</li>
<li class=""><strong>Special Circumstances</strong></li>
<li class="">If building a mobile app that cannot be easily shared or hosted for judging, a very thorough demo video showing all functionality is sufficient.</li>
<li class="">If you want to work on a project you have already started, you can, but you will only be judged on the new functionality and features built during the hackathon period.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="assignments--suggestions">Assignments &amp; Suggestions<a href="https://docs.locki.io/blog/encode-kickoff#assignments--suggestions" class="hash-link" aria-label="Direct link to Assignments &amp; Suggestions" title="Direct link to Assignments &amp; Suggestions" translate="no">​</a></h2>
<ul>
<li class="">If you are joining from Luma, go into your programs page and register for the hackathon after the session.</li>
<li class="">If you have questions that aren't answered live, put them in the Q&amp;A to be answered in the Discord.</li>
<li class="">Decide on the project you want to build, the theme to focus on, the solution to come up with, and what makes it special during the ideation stage in week one.</li>
<li class="">By the project creation deadline at the end of week one, create and commit to the project idea, the challenge theme, and add team members.</li>
<li class="">Start the building process in week two.</li>
<li class="">For the mid-hackathon deadline, submit your publicly available GitHub repo and a fuller description of what you're building.</li>
<li class="">For the final submission deadline on February 8th, submit a video pitch including a product demo, your public code base, a hosted site (optional but recommended), and a presentation (optional but recommended).</li>
<li class="">Watch the helpful, short lecture videos on the platform to prepare for workshops and the wider hackathon.</li>
<li class="">Run the code from the QR code provided to see how evaluations are created and look in OPIC. The QR code leads to a simple recipe generator agent in a GitHub gist. You need to copy the script, follow the directions for creating online evaluations, create a Comet account if you don't have one (it's free), and add your API key.</li>
</ul>]]></content:encoded>
            <category>Meeting</category>
        </item>
    </channel>
</rss>