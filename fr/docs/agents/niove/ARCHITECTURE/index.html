<!doctype html>
<html lang="fr-FR" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-agents/niove/ARCHITECTURE" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">ARCHITECTURE | Ò Capistaine Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.locki.io/fr/img/ocapistaine-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.locki.io/fr/img/ocapistaine-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.locki.io/fr/docs/agents/niove/ARCHITECTURE"><meta data-rh="true" property="og:locale" content="fr_FR"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ARCHITECTURE | Ò Capistaine Docs"><meta data-rh="true" name="description" content="System Prompt for Guiding Custom MCP Server Setup"><meta data-rh="true" property="og:description" content="System Prompt for Guiding Custom MCP Server Setup"><link data-rh="true" rel="icon" href="/fr/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.locki.io/fr/docs/agents/niove/ARCHITECTURE"><link data-rh="true" rel="alternate" href="https://docs.locki.io/docs/agents/niove/ARCHITECTURE" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://docs.locki.io/fr/docs/agents/niove/ARCHITECTURE" hreflang="fr-FR"><link data-rh="true" rel="alternate" href="https://docs.locki.io/docs/agents/niove/ARCHITECTURE" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/fr/blog/rss.xml" title="Ò Capistaine Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/fr/blog/atom.xml" title="Ò Capistaine Docs Atom Feed"><link rel="stylesheet" href="/fr/assets/css/styles.cc893cbc.css">
<script src="/fr/assets/js/runtime~main.8708d186.js" defer="defer"></script>
<script src="/fr/assets/js/main.ff3335be.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/fr/img/logo.svg"><div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fr/"><div class="navbar__logo"><img src="/fr/img/logo.svg" alt="OCapistaine Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/fr/img/logo.svg" alt="OCapistaine Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Ò Capistaine</b></a><a class="navbar__item navbar__link" href="/fr/docs/audierne2026/overview">Audierne2026</a><a class="navbar__item navbar__link" href="/fr/docs/usage/getting-started">Usage</a><a class="navbar__item navbar__link" href="/fr/docs/methods/triz">Methods</a><a class="navbar__item navbar__link" href="/fr/docs/workflows/consolidation">Workflows</a><a class="navbar__item navbar__link" href="/fr/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Français</a><ul class="dropdown__menu"><li><a href="/docs/agents/niove/ARCHITECTURE" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">English</a></li><li><a href="/fr/docs/agents/niove/ARCHITECTURE" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="fr-FR">Français</a></li></ul></div><a href="https://github.com/locki-io/ocapistaine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Basculer entre le mode sombre et clair (actuellement system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Retour au début de la page" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><header><h1>ARCHITECTURE</h1></header><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="system-prompt-for-guiding-custom-mcp-server-setup">System Prompt for Guiding Custom MCP Server Setup<a href="#system-prompt-for-guiding-custom-mcp-server-setup" class="hash-link" aria-label="Lien direct vers System Prompt for Guiding Custom MCP Server Setup" title="Lien direct vers System Prompt for Guiding Custom MCP Server Setup" translate="no">​</a></h3>
<p>This system prompt is designed for an AI assistant (e.g., Claude, Gemini, or Grok) to help users build, customize, and deploy a custom Model Context Protocol (MCP) server focused on frontend design tasks. It ensures step-by-step guidance, error handling, and adherence to best practices using Google Cloud and Go. You can use this in tools like Claude Projects, Gemini CLI, or custom AI workflows.</p>
<p><strong>System Prompt:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">You are an expert AI engineer specializing in building custom Model Context Protocol (MCP) servers for AI-driven tasks, particularly frontend design generation using Gemini API. Your role is to guide the user through creating, customizing, and deploying an MCP server on Google Cloud Run. Assume the user has basic tech skills but provide clear, actionable steps.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Key Principles:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Use Go as the primary language for the server (leverage official Go SDK for Gemini/Vertex AI).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Integrate Gemini models (e.g., gemini-1.5-flash or pro) via Vertex AI for design tasks like generating HTML/CSS/JS.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Focus on MCP for tool delegation: Define tools like create_frontend, modify_frontend, snippet_frontend.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Deploy to Google Cloud Run for scalability and security.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Handle prerequisites, code generation (prompt-driven if using Gemini CLI), testing, and maintenance.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Always check for updates: Reference official Google docs (e.g., cloud.google.com/run, aiplatform.google.com).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Error troubleshooting: Suggest common fixes (e.g., auth issues, API quotas).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Security: Emphasize IAM, authenticated access, and env vars.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Cost awareness: Note low costs (~$0.02/hour for light use) and free tiers.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Customization: Adapt for frontend specifics (responsive, Tailwind, React snippets).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Structure Responses:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. Confirm prerequisites and setup.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Step-by-step code/commands with explanations.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Testing and validation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. Deployment and integration.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. Maintenance tips.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">If the user provides details (e.g., specific frameworks), incorporate them. Encourage using Gemini CLI for code gen to speed up development.</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="user-prompt-template-for-initiating-the-setup">User Prompt Template for Initiating the Setup<a href="#user-prompt-template-for-initiating-the-setup" class="hash-link" aria-label="Lien direct vers User Prompt Template for Initiating the Setup" title="Lien direct vers User Prompt Template for Initiating the Setup" translate="no">​</a></h3>
<p>This is a sample user prompt you can copy-paste into an AI tool (e.g., Gemini CLI, Claude, or ChatGPT) to start the process. It references the system prompt above and can be customized with your specifics (e.g., project name, tools).</p>
<p><strong>User Prompt:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Using the system guidelines for building a custom MCP server, guide me step-by-step to create and host my own MCP server for Gemini Frontend Design. My setup details:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Project name: custom-frontend-mcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Tools to include: create_frontend (generate responsive HTML/CSS/JS from description), modify_frontend (edit existing code with changes), snippet_frontend (generate components like buttons/modals).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Use Gemini-1.5-flash model.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Deploy to Google Cloud Run in region us-central1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Integrate with my existing Google account (project ID: my-project-id).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Make it compatible with Claude for delegation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Provide code snippets, commands, and any Gemini CLI prompts needed for generation. Assume I have all prerequisites installed.</span><br></span></code></pre></div></div>
<p>This prompt pair creates a conversational loop where the AI can iteratively refine the setup based on your feedback (e.g., &quot;Fix this auth error&quot; or &quot;Add React support&quot;).</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="full-documented-process-creating-and-hosting-a-custom-mcp-server-on-google-platform">Full Documented Process: Creating and Hosting a Custom MCP Server on Google Platform<a href="#full-documented-process-creating-and-hosting-a-custom-mcp-server-on-google-platform" class="hash-link" aria-label="Lien direct vers Full Documented Process: Creating and Hosting a Custom MCP Server on Google Platform" title="Lien direct vers Full Documented Process: Creating and Hosting a Custom MCP Server on Google Platform" translate="no">​</a></h3>
<p>Below is a comprehensive, documented guide based on the provided outline, enhanced with official references (verified via tools for 2026 accuracy). I&#x27;ve expanded it with best practices, code examples, troubleshooting, and updates from Google Cloud docs. This assumes MCP refers to a protocol for AI tool calling/context management (inspired by Anthropic&#x27;s tool use or Google&#x27;s agent frameworks), adapted for Gemini. If MCP is a specific library, adjust accordingly.</p>
<p>The process is fully on Google Cloud ecosystem: Using Vertex AI for Gemini, Cloud Run for hosting, and gcloud for management. Total estimated time: 1-3 hours. Costs: Free tier for development; production <del>$0.02-0.10/hour + API calls (</del>$0.0005 per 1K tokens).</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="0-overview-and-key-concepts">0. Overview and Key Concepts<a href="#0-overview-and-key-concepts" class="hash-link" aria-label="Lien direct vers 0. Overview and Key Concepts" title="Lien direct vers 0. Overview and Key Concepts" translate="no">​</a></h4>
<ul>
<li class=""><strong>What is MCP?</strong> Model Context Protocol is a framework for defining AI tools that handle context-aware tasks (e.g., maintaining state across calls). Here, it&#x27;s a custom Go server exposing tools for frontend design via JSON-RPC over HTTP/STDIO, integrated with Gemini for generation.</li>
<li class=""><strong>Why Google Platform?</strong> Seamless integration with Vertex AI (Gemini hosting), secure auth via IAM, auto-scaling on Cloud Run, and free/low-cost tiers.</li>
<li class=""><strong>Updates for 2026:</strong> Gemini models now default to 1.5 series (flash/pro); Go SDK v2+; Cloud Run supports ARM for cheaper instances.</li>
<li class="">References: <a href="https://cloud.google.com/run/docs" target="_blank" rel="noopener noreferrer" class="">Google Cloud Run Docs</a>, <a href="https://cloud.google.com/vertex-ai/generative-ai/docs" target="_blank" rel="noopener noreferrer" class="">Vertex AI Generative AI Docs</a>, <a href="https://pkg.go.dev/github.com/google/generative-ai-go" target="_blank" rel="noopener noreferrer" class="">Go GenAI SDK</a>.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-prerequisites-setup-time-15-30-min">1. Prerequisites (Setup Time: 15-30 min)<a href="#1-prerequisites-setup-time-15-30-min" class="hash-link" aria-label="Lien direct vers 1. Prerequisites (Setup Time: 15-30 min)" title="Lien direct vers 1. Prerequisites (Setup Time: 15-30 min)" translate="no">​</a></h4>
<ul>
<li class=""><strong>Google Account/Admin Access:</strong> Ensure billing enabled (required for Cloud Run/Vertex AI). Free credits: New accounts get $300.</li>
<li class=""><strong>Tools Installation:</strong>
<ul>
<li class="">gcloud CLI: <code>curl https://dl.google.com/dl/cloudsdk/channels/rapid/downloads/google-cloud-cli-456.0.0-darwin-arm.tar.gz</code> (adjust for OS); extract and <code>./google-cloud-sdk/install.sh</code>.</li>
<li class="">Go: <code>brew install go</code> (Mac) or download from go.dev (v1.24+).</li>
<li class="">Node.js/npm: <code>brew install node</code> or nodejs.org (v20+).</li>
<li class="">Docker: docker.com.</li>
</ul>
</li>
<li class=""><strong>API Key/Access:</strong> In AI Studio (makersuite.google.com/app/apikey), generate Vertex AI key if not using service accounts.</li>
<li class=""><strong>Enable Billing/APIs:</strong> In Cloud Console, enable billing; run commands in Step 1 below.</li>
<li class=""><strong>Environment Prep:</strong> Create <code>.env</code> with:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GOOGLE_GENAI_USE_VERTEXAI=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GOOGLE_CLOUD_PROJECT=your-project-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GOOGLE_CLOUD_LOCATION=us-central1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GEMINI_MODEL=gemini-1.5-flash</span><br></span></code></pre></div></div>
<!-- -->Source: <code>source .env</code>.</li>
</ul>
<p><strong>Troubleshooting:</strong> If <code>gcloud init</code> fails, check 2FA or use <code>gcloud auth login --update-adc</code>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-set-up-google-cloud-project-10-min">2. Set Up Google Cloud Project (10 min)<a href="#2-set-up-google-cloud-project-10-min" class="hash-link" aria-label="Lien direct vers 2. Set Up Google Cloud Project (10 min)" title="Lien direct vers 2. Set Up Google Cloud Project (10 min)" translate="no">​</a></h4>
<ol>
<li class="">In Cloud Console: Create project &quot;gemini-frontend-mcp&quot;.</li>
<li class="">Set project: <code>gcloud config set project gemini-frontend-mcp</code>.</li>
<li class="">Enable APIs:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gcloud services enable aiplatform.googleapis.com run.googleapis.com artifactregistry.googleapis.com cloudbuild.googleapis.com</span><br></span></code></pre></div></div>
</li>
<li class="">Auth: <code>gcloud auth application-default login</code>.</li>
<li class="">Create service account for Vertex AI (optional for security):<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gcloud iam service-accounts create mcp-sa --display-name &quot;MCP Service Account&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcloud projects add-iam-policy-binding $GOOGLE_CLOUD_PROJECT --member=&quot;serviceAccount:mcp-sa@$GOOGLE_CLOUD_PROJECT.iam.gserviceaccount.com&quot; --role=&quot;roles/aiplatform.user&quot;</span><br></span></code></pre></div></div>
<!-- -->Download key: <code>gcloud iam service-accounts keys create mcp-sa-key.json --iam-account mcp-sa@$GOOGLE_CLOUD_PROJECT.iam.gserviceaccount.com</code>.</li>
</ol>
<p><strong>Documentation Note:</strong> All commands are idempotent; re-run if needed. See <a href="https://cloud.google.com/vertex-ai/docs/setup" target="_blank" rel="noopener noreferrer" class="">Vertex AI Setup</a>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-install-and-configure-gemini-cli-10-min">3. Install and Configure Gemini CLI (10 min)<a href="#3-install-and-configure-gemini-cli-10-min" class="hash-link" aria-label="Lien direct vers 3. Install and Configure Gemini CLI (10 min)" title="Lien direct vers 3. Install and Configure Gemini CLI (10 min)" translate="no">​</a></h4>
<ol>
<li class="">Install: <code>npm install -g @google/gemini-cli@latest</code> (v2.1+ in 2026).</li>
<li class="">Launch: <code>gemini init</code> — auth with Google, select config.</li>
<li class="">Test: <code>gemini &quot;Hello&quot;</code> — should respond.</li>
<li class="">For MCP: Edit <code>~/.gemini/settings.json</code> later for custom server.</li>
</ol>
<p><strong>Tip:</strong> Use Gemini CLI for code gen: It can output Go code based on prompts.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-create-project-directory-and-base-mcp-server-20-min">4. Create Project Directory and Base MCP Server (20 min)<a href="#4-create-project-directory-and-base-mcp-server-20-min" class="hash-link" aria-label="Lien direct vers 4. Create Project Directory and Base MCP Server (20 min)" title="Lien direct vers 4. Create Project Directory and Base MCP Server (20 min)" translate="no">​</a></h4>
<ol>
<li class="">
<p>Setup:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir gemini-frontend-mcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd gemini-frontend-mcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go mod init github.com/yourusername/gemini-frontend-mcp</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Create <code>GEMINI.md</code> for guidelines:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># MCP Guidelines for Frontend Design</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Language: Go 1.24</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Tools: JSON-RPC over HTTP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Gemini Integration: Use generative-ai-go SDK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Focus: Responsive UI generation (HTML/CSS/JS)</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Generate base server with Gemini CLI:</p>
<ul>
<li class="">Run <code>gemini</code></li>
<li class="">Prompt: &quot;Generate a basic MCP server in Go with stdio/HTTP transport. Include tool skeleton for AI calls to Vertex AI.&quot;</li>
<li class="">Apply generated files: <code>main.go</code>, <code>server.go</code>, <code>tools.go</code>.</li>
<li class="">Install deps: <code>go get github.com/google/generative-ai-go/genai google.golang.org/api/option</code>.</li>
</ul>
</li>
<li class="">
<p>Base <code>main.go</code> example (adapted):</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">package</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token string" style="color:#e3116c">&quot;context&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token string" style="color:#e3116c">&quot;log&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token string" style="color:#e3116c">&quot;net/http&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token string" style="color:#e3116c">&quot;os&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token string" style="color:#e3116c">&quot;github.com/google/generative-ai-go/genai&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token string" style="color:#e3116c">&quot;google.golang.org/api/option&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">// MCP server setup (use stdio or HTTP)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">HandleFunc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/mcp&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mcpHandler</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// For HTTP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Fatal</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ListenAndServe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;:8080&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mcpHandler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">w http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ResponseWriter</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> r </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">// Handle JSON-RPC requests for tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Local test: <code>go run main.go</code>.</p>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-customize-mcp-for-frontend-design-30-min">5. Customize MCP for Frontend Design (30 min)<a href="#5-customize-mcp-for-frontend-design-30-min" class="hash-link" aria-label="Lien direct vers 5. Customize MCP for Frontend Design (30 min)" title="Lien direct vers 5. Customize MCP for Frontend Design (30 min)" translate="no">​</a></h4>
<ol>
<li class="">Define tools in <code>tools.go</code>. Use Gemini CLI prompt:
&quot;Add MCP tools: create_frontend (description string -&gt; HTML/CSS/JS), modify_frontend (code string, changes string -&gt; modified code), snippet_frontend (component string -&gt; snippet). Use Gemini-1.5-flash via Vertex AI.&quot;</li>
<li class="">Example generated tool:<!-- -->
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createFrontend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Context</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> description </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	client</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> genai</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> option</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithEndpoint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;us-central1-aiplatform.googleapis.com:443&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> option</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAPIKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Getenv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;GEMINI_API_KEY&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	model </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GenerativeModel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Getenv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;GEMINI_MODEL&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	resp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GenerateContent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> genai</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Text</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Generate responsive frontend code (HTML/CSS/JS) for: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> description </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;. Make it mobile-friendly.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">resp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Candidates</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Content</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Parts</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">genai</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
</li>
<li class="">Register tools in MCP handler (use JSON-RPC library like gorilla/rpc if needed: <code>go get github.com/gorilla/rpc</code>).</li>
<li class="">Refactor for HTTP: Prompt Gemini CLI &quot;Make MCP server HTTP-streamable on /mcp endpoint.&quot;</li>
<li class="">Test: Run server, use curl: <code>curl -X POST http://localhost:8080/mcp -d &#x27;{&quot;method&quot;:&quot;create_frontend&quot;,&quot;params&quot;:[&quot;login page&quot;],&quot;id&quot;:1}&#x27;</code>.</li>
</ol>
<p><strong>Troubleshooting:</strong> API errors? Check quotas in Cloud Console &gt; Vertex AI &gt; Quotas.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="6-containerize-with-docker-15-min">6. Containerize with Docker (15 min)<a href="#6-containerize-with-docker-15-min" class="hash-link" aria-label="Lien direct vers 6. Containerize with Docker (15 min)" title="Lien direct vers 6. Containerize with Docker (15 min)" translate="no">​</a></h4>
<ol>
<li class="">
<p>Generate Dockerfile via Gemini CLI: &quot;Create multi-stage Dockerfile for Go MCP server.&quot;</p>
</li>
<li class="">
<p>Example:</p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM golang:1.24 AS builder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ADD . /src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN cd /src &amp;&amp; go build -o /mcp-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM gcr.io/distroless/base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY --from=builder /mcp-server /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD [&quot;/mcp-server&quot;]</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Build/test: <code>docker build -t gemini-frontend-mcp .</code> ; <code>docker run -p 8080:8080 --env-file .env gemini-frontend-mcp</code>.</p>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="7-deploy-to-cloud-run-15-min">7. Deploy to Cloud Run (15 min)<a href="#7-deploy-to-cloud-run-15-min" class="hash-link" aria-label="Lien direct vers 7. Deploy to Cloud Run (15 min)" title="Lien direct vers 7. Deploy to Cloud Run (15 min)" translate="no">​</a></h4>
<ol>
<li class="">Push to Artifact Registry (replaced GCR in 2025+):<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gcloud artifacts repositories create mcp-repo --repository-format=docker --location=us-central1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcloud auth configure-docker us-central1-docker.pkg.dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker tag gemini-frontend-mcp us-central1-docker.pkg.dev/$GOOGLE_CLOUD_PROJECT/mcp-repo/gemini-frontend-mcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker push us-central1-docker.pkg.dev/$GOOGLE_CLOUD_PROJECT/mcp-repo/gemini-frontend-mcp</span><br></span></code></pre></div></div>
</li>
<li class="">Deploy:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gcloud run deploy gemini-frontend-mcp --image us-central1-docker.pkg.dev/$GOOGLE_CLOUD_PROJECT/mcp-repo/gemini-frontend-mcp --platform managed --region us-central1 --allow-unauthenticated --set-env-vars GOOGLE_CLOUD_PROJECT=$GOOGLE_CLOUD_PROJECT,GEMINI_MODEL=gemini-1.5-flash</span><br></span></code></pre></div></div>
</li>
<li class="">Get URL: <code>gcloud run services describe gemini-frontend-mcp --format=&#x27;value(status.url)&#x27;</code>.</li>
</ol>
<p><strong>Security:</strong> Switch to <code>--no-allow-unauthenticated</code> and use IAM for access.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="8-integration-and-usage-10-min">8. Integration and Usage (10 min)<a href="#8-integration-and-usage-10-min" class="hash-link" aria-label="Lien direct vers 8. Integration and Usage (10 min)" title="Lien direct vers 8. Integration and Usage (10 min)" translate="no">​</a></h4>
<ol>
<li class="">In Gemini CLI: Add to <code>~/.gemini/settings.json</code>:<!-- -->
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;mcpServers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;frontend-design&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;httpUrl&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://your-run-url/mcp&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
</li>
<li class="">For Claude: In project settings, add MCP URL and tool defs.</li>
<li class="">Test invocation: In AI session, &quot;Use frontend MCP to create a dashboard UI.&quot;</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="9-maintenance-and-scaling">9. Maintenance and Scaling<a href="#9-maintenance-and-scaling" class="hash-link" aria-label="Lien direct vers 9. Maintenance and Scaling" title="Lien direct vers 9. Maintenance and Scaling" translate="no">​</a></h4>
<ul>
<li class="">Logs/Monitoring: Cloud Console &gt; Cloud Run &gt; Logs.</li>
<li class="">Updates: Rebuild/push/deploy.</li>
<li class="">Costs: Use autoscaling; set min instances to 0.</li>
<li class="">Cleanup: <code>gcloud run services delete gemini-frontend-mcp</code>.</li>
<li class="">Advanced: Add CI/CD with Cloud Build: Create <code>cloudbuild.yaml</code> for auto-deploys on git push.</li>
</ul>
<p>This documented process is self-contained and reproducible. If you run into issues, provide error logs for troubleshooting! For code gen, rely on Gemini CLI prompts as shown.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="10-update-to-comfyui---create-shorts">10. update to comfyUI -&gt; create shorts<a href="#10-update-to-comfyui---create-shorts" class="hash-link" aria-label="Lien direct vers 10. update to comfyUI -&gt; create shorts" title="Lien direct vers 10. update to comfyUI -&gt; create shorts" translate="no">​</a></h4></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/locki-io/docs.locki.io/tree/main/docs/agents/niove/ARCHITECTURE.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Éditer cette page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Pages de documentation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#system-prompt-for-guiding-custom-mcp-server-setup" class="table-of-contents__link toc-highlight">System Prompt for Guiding Custom MCP Server Setup</a></li><li><a href="#user-prompt-template-for-initiating-the-setup" class="table-of-contents__link toc-highlight">User Prompt Template for Initiating the Setup</a></li><li><a href="#full-documented-process-creating-and-hosting-a-custom-mcp-server-on-google-platform" class="table-of-contents__link toc-highlight">Full Documented Process: Creating and Hosting a Custom MCP Server on Google Platform</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/fr/docs/audierne2026/overview">Audierne2026</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://audierne2026.fr" target="_blank" rel="noopener noreferrer" class="footer__link-item">audierne2026.fr<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Project</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/fr/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/locki-io/ocapistaine" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/orgs/locki-io/projects/2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project Board<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 OCapistaine - Open Source Civic Tech. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>