"use strict";(globalThis.webpackChunkdocs_locki_io=globalThis.webpackChunkdocs_locki_io||[]).push([[275],{1692(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"orchestration/NGROK_FAILS","title":"NGROK_FAILS","description":"No, you cannot customize the ERR_NGROK_3200 page itself to show a Discord invitation (or any custom content).","source":"@site/docs/orchestration/NGROK_FAILS.md","sourceDirName":"orchestration","slug":"/orchestration/NGROK_FAILS","permalink":"/fr/docs/orchestration/NGROK_FAILS","draft":false,"unlisted":false,"editUrl":"https://github.com/locki-io/docs.locki.io/tree/main/docs/orchestration/NGROK_FAILS.md","tags":[],"version":"current","frontMatter":{},"sidebar":"orchestrationSidebar","previous":{"title":"WebSocket Fix for Streamlit Proxied Through ngrok","permalink":"/fr/docs/orchestration/WEBSOCKET_FIX"},"next":{"title":"External Resources","permalink":"/fr/docs/orchestration/REFERENCES"}}');var r=t(4848),s=t(8453);const i={},c=void 0,l={},a=[{value:"What you <em>can</em> customize (but only in other situations)",id:"what-you-can-customize-but-only-in-other-situations",level:3},{value:"For your specific ERR_NGROK_3200 case",id:"for-your-specific-err_ngrok_3200-case",level:3}];function d(e){const n={code:"code",em:"em",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["No, ",(0,r.jsx)(n.strong,{children:"you cannot customize the ERR_NGROK_3200 page"})," itself to show a Discord invitation (or any custom content)."]}),"\n",(0,r.jsx)(n.p,{children:"This error page is generated directly by ngrok's edge servers when:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["No ngrok agent is currently online/connected for that endpoint, ",(0,r.jsx)(n.strong,{children:"or"})]}),"\n",(0,r.jsx)(n.li,{children:"The tunnel was never started for that particular reserved domain/subdomain."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:'It\'s an "endpoint not found" / "tunnel not found" type error, controlled entirely by ngrok \u2014 not by any traffic policy or upstream response.'}),"\n",(0,r.jsxs)(n.h3,{id:"what-you-can-customize-but-only-in-other-situations",children:["What you ",(0,r.jsx)(n.em,{children:"can"})," customize (but only in other situations)"]}),"\n",(0,r.jsxs)(n.p,{children:["ngrok added support for ",(0,r.jsx)(n.strong,{children:"custom error pages"})," (around 2024\u20132025) via ",(0,r.jsx)(n.strong,{children:"Traffic Policies"})," on ",(0,r.jsx)(n.strong,{children:"Cloud Edge"})," / ",(0,r.jsx)(n.strong,{children:"Cloud Endpoints"})," (the newer dashboard-driven system)."]}),"\n",(0,r.jsx)(n.p,{children:"You can create nice branded 502/503/504-style pages when:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The agent ",(0,r.jsx)(n.em,{children:"is"})," connected,"]}),"\n",(0,r.jsx)(n.li,{children:"But the upstream service (your local app) is down, times out, refuses connection, etc."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Example setup that works today:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Reserve your domain in the ngrok dashboard (Cloud Edge \u2192 Domains)"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Create a ",(0,r.jsx)(n.strong,{children:"Cloud Endpoint"})," attached to that domain"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Attach a Traffic Policy with something like:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'on_http_request:\n  - actions:\n      - type: forward-internal\n        config:\n          url: https://service.internal   # or http://localhost:yourport if using agent\n        on_error: continue\n      - type: custom-response\n        config:\n          status_code: 503\n          headers:\n            content-type: text/html\n          body: |\n            <!DOCTYPE html>\n            <html>\n            <head><title>Service Offline</title></head>\n            <body>\n              <h1>Temporarily unavailable</h1>\n              <p>Please join our Discord to get access / be notified when it\'s back:</p>\n              <a href="https://discord.gg/your-invite">Join Discord \u2192</a>\n            </body>\n            </html>\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["This gives you a custom page on 503 instead of the default ngrok 502 branded page \u2014 but ",(0,r.jsx)(n.strong,{children:"only when the agent is running"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"for-your-specific-err_ngrok_3200-case",children:"For your specific ERR_NGROK_3200 case"}),"\n",(0,r.jsx)(n.p,{children:"You have two realistic options:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"How"}),(0,r.jsx)(n.th,{children:"Pros"}),(0,r.jsx)(n.th,{children:"Cons"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"1. Keep agent always running"}),(0,r.jsxs)(n.td,{children:["Use ",(0,r.jsx)(n.code,{children:"ngrok start --all"})," + authtoken, or Docker + restart policy, systemd service, etc."]}),(0,r.jsx)(n.td,{children:"No 3200 ever (as long as machine is up)"}),(0,r.jsx)(n.td,{children:"Machine must stay on 24/7, uses resources"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"2. Use a tiny always-on proxy in front"}),(0,r.jsx)(n.td,{children:"Cloudflare Tunnel, Bore, Tailscale Funnel, Pinggy, or even a \u20ac3/mo cheap VPS running Caddy/NGINX that reverse-proxies to ngrok and shows custom page when ngrok is down"}),(0,r.jsx)(n.td,{children:'Full control over "ngrok is offline" page + Discord invite'}),(0,r.jsx)(n.td,{children:"Extra layer, slightly more latency, setup work"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"3. Accept the default page"}),(0,r.jsx)(n.td,{children:"\u2014"}),(0,r.jsx)(n.td,{children:"Zero work"}),(0,r.jsx)(n.td,{children:"Looks unprofessional, no Discord link"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Most people doing public-facing demos or semi-permanent tunnels eventually move to option 2 (Cloudflare Tunnel is especially popular because it's free for most use-cases and gives you total control over error pages)."}),"\n",(0,r.jsx)(n.p,{children:"If your use-case is very temporary/dev-only \u2192 just live with the 3200 page and make sure people know to ping you on Discord when they see it."}),"\n",(0,r.jsx)(n.p,{children:"If this is something you want running more reliably \u2192 Cloudflare Tunnel or similar is usually the cleaner long-term answer in 2026."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>i,x:()=>c});var o=t(6540);const r={},s=o.createContext(r);function i(e){const n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);