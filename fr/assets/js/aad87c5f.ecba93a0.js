"use strict";(globalThis.webpackChunkdocs_locki_io=globalThis.webpackChunkdocs_locki_io||[]).push([[4782],{8322(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var l=i(9847),t=i(4848),r=i(8453);const s={slug:"reliability-without-the-cloud-tax",title:"Reliability Without the Cloud Tax: Local LLMs with Intelligent Failover",authors:["jnxmas"],tags:["ai-ml","infrastructure","sovereignty","ollama","civictech"],description:"How a simple Redis lock transformed our local LLM from unreliable to production-ready, while keeping data sovereign and costs near zero"},a="Reliability Without the Cloud Tax: Local LLMs with Intelligent Failover",o={authorsImageUrls:[void 0]},c=[{value:"The Problem: Local vs Cloud Tradeoffs",id:"the-problem-local-vs-cloud-tradeoffs",level:2},{value:"The Discovery: Ollama&#39;s Achilles Heel",id:"the-discovery-ollamas-achilles-heel",level:2},{value:"The Solution: A Global Lock",id:"the-solution-a-global-lock",level:2},{value:"The Innovation: Intelligent Failover",id:"the-innovation-intelligent-failover",level:2},{value:"The Numbers",id:"the-numbers",level:2},{value:"Why This Matters for Civic AI",id:"why-this-matters-for-civic-ai",level:2},{value:"1. Cost Democratization",id:"1-cost-democratization",level:3},{value:"2. Data Sovereignty",id:"2-data-sovereignty",level:3},{value:"3. Resilience",id:"3-resilience",level:3},{value:"Implementation Notes",id:"implementation-notes",level:2},{value:"Check Lock Status",id:"check-lock-status",level:3},{value:"Force Clear a Stuck Lock",id:"force-clear-a-stuck-lock",level:3},{value:"Monitor Failover",id:"monitor-failover",level:3},{value:"Revalidate After Failures",id:"revalidate-after-failures",level:3},{value:"The Bigger Picture",id:"the-bigger-picture",level:2},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"A global lock pattern that makes local AI as reliable as cloud AI\u2014without the costs or data concerns"})}),"\n",(0,t.jsx)(n.h2,{id:"the-problem-local-vs-cloud-tradeoffs",children:"The Problem: Local vs Cloud Tradeoffs"}),"\n",(0,t.jsx)(n.p,{children:"When building AI for civic applications, we face a fundamental tension:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Approach"}),(0,t.jsx)(n.th,{children:"Cost"}),(0,t.jsx)(n.th,{children:"Reliability"}),(0,t.jsx)(n.th,{children:"Sovereignty"}),(0,t.jsx)(n.th,{children:"Speed"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Cloud LLMs (OpenAI, Claude)"}),(0,t.jsx)(n.td,{children:"$$$"}),(0,t.jsx)(n.td,{children:"High"}),(0,t.jsx)(n.td,{children:"Data leaves France"}),(0,t.jsx)(n.td,{children:"Fast"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Local LLMs (Ollama)"}),(0,t.jsx)(n.td,{children:"Near zero"}),(0,t.jsx)(n.td,{children:"Variable"}),(0,t.jsx)(n.td,{children:"Data stays local"}),(0,t.jsx)(n.td,{children:"Slower"})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:["For a civic project in Audierne processing citizen contributions, ",(0,t.jsx)(n.strong,{children:"sovereignty matters"}),". Citizens sharing concerns about their town shouldn't have that data processed on US servers. But unreliable AI is worse than no AI\u2014if the system fails during a meeting or public event, trust evaporates."]}),"\n",(0,t.jsx)(n.p,{children:"We needed both: the sovereignty of local AI with the reliability of cloud."}),"\n",(0,t.jsx)(n.h2,{id:"the-discovery-ollamas-achilles-heel",children:"The Discovery: Ollama's Achilles Heel"}),"\n",(0,t.jsx)(n.p,{children:"After weeks of intermittent failures, we identified the pattern:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u2705 Single request to Ollama: Works perfectly\n\u2705 Sequential requests (same process): Works perfectly\n\u274c Concurrent requests (different processes): Random failures\n"})}),"\n",(0,t.jsxs)(n.p,{children:["When our scheduler ran ",(0,t.jsx)(n.code,{children:"task_audierne_docs"})," (document analysis) at the same time as a manual validation, one would fail with cryptic 404 errors. Ollama wasn't crashing\u2014it was ",(0,t.jsx)(n.strong,{children:"choking on concurrency"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"the-solution-a-global-lock",children:"The Solution: A Global Lock"}),"\n",(0,t.jsx)(n.p,{children:"The fix is embarrassingly simple: a Redis lock that ensures only one process talks to Ollama at a time."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# In app/services/tasks/task_audierne_docs.py\n\nOLLAMA_LOCK_KEY = "lock:ollama:global"\nOLLAMA_LOCK_TTL = 600  # 10 minutes max\n\ndef _acquire_ollama_lock(task_id: str) -> bool:\n    """Try to acquire the global Ollama lock."""\n    redis = get_scheduler_redis()\n    acquired = redis.set(\n        OLLAMA_LOCK_KEY,\n        task_id,\n        ex=OLLAMA_LOCK_TTL,\n        nx=True  # Only set if doesn\'t exist\n    )\n    return bool(acquired)\n\ndef _release_ollama_lock(task_id: str) -> None:\n    """Release the lock only if we own it."""\n    redis = get_scheduler_redis()\n    current = redis.get(OLLAMA_LOCK_KEY)\n    if current:\n        # Handle both bytes and str from Redis\n        current_str = current.decode() if isinstance(current, bytes) else current\n        if current_str == task_id:\n            redis.delete(OLLAMA_LOCK_KEY)\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Key design decisions:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"TTL of 600s"}),": If a task crashes, the lock auto-expires. No manual intervention needed."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Owner verification"}),": Only the task that acquired the lock can release it."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Atomic acquisition"}),": ",(0,t.jsx)(n.code,{children:"nx=True"})," ensures no race conditions."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"the-innovation-intelligent-failover",children:"The Innovation: Intelligent Failover"}),"\n",(0,t.jsxs)(n.p,{children:["The lock alone isn't enough. If a scheduled task holds the lock, manual runs would just fail. Instead, we ",(0,t.jsx)(n.strong,{children:"fail over to cloud providers"})," when Ollama is busy:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# Default failover chain: local -> paid (reliable) -> free tier (rate limited)\nDEFAULT_FAILOVER_CHAIN = ["ollama", "openai", "claude", "mistral", "gemini"]\n'})}),"\n",(0,t.jsx)(n.p,{children:"The chain is ordered by preference:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Ollama"}),": Free, sovereign, preferred"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"OpenAI"}),": Reliable, fast, reasonable cost"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Claude"}),": High quality, good for complex reasoning"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Mistral"}),": EU-based, GDPR-friendly"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Gemini"}),": Free tier available, but aggressive rate limits"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'async def complete_with_failover(self, messages, **kwargs):\n    """Try providers in order until one succeeds."""\n\n    for provider_name in self._chain:\n        if provider_name == "ollama":\n            if not self._acquire_ollama_lock():\n                self._logger.info("Ollama locked, trying next provider")\n                continue\n\n        try:\n            provider = get_provider(provider_name)\n            result = await provider.complete(messages, **kwargs)\n            return result\n\n        except Exception as e:\n            self._logger.warning(f"{provider_name} failed: {e}")\n            continue\n\n        finally:\n            if provider_name == "ollama":\n                self._release_ollama_lock()\n\n    raise RuntimeError("All providers failed")\n'})}),"\n",(0,t.jsx)(n.h2,{id:"the-numbers",children:"The Numbers"}),"\n",(0,t.jsx)(n.p,{children:"After deploying this pattern:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Metric"}),(0,t.jsx)(n.th,{children:"Before"}),(0,t.jsx)(n.th,{children:"After"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Validation failures"}),(0,t.jsx)(n.td,{children:"~15%"}),(0,t.jsx)(n.td,{children:"<1%"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Data sent to cloud"}),(0,t.jsx)(n.td,{children:"100%"}),(0,t.jsx)(n.td,{children:"~20%"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Monthly LLM costs"}),(0,t.jsx)(n.td,{children:"~$50"}),(0,t.jsx)(n.td,{children:"~$5"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Sovereignty compliance"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Yes"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"The 20% cloud usage comes from:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Manual runs during scheduled tasks (Ollama locked)"}),"\n",(0,t.jsx)(n.li,{children:"Ollama service restarts"}),"\n",(0,t.jsx)(n.li,{children:"Very long documents that timeout locally"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"why-this-matters-for-civic-ai",children:"Why This Matters for Civic AI"}),"\n",(0,t.jsx)(n.h3,{id:"1-cost-democratization",children:"1. Cost Democratization"}),"\n",(0,t.jsx)(n.p,{children:"Not every civic project has budget for cloud AI. A small town council shouldn't need to choose between AI assistance and other spending. With local-first + failover:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Monthly cost breakdown:\n\u251c\u2500\u2500 Ollama (local): $0\n\u251c\u2500\u2500 Electricity: ~$2\n\u251c\u2500\u2500 OpenAI fallback: ~$3\n\u2514\u2500\u2500 Total: ~$5/month\n"})}),"\n",(0,t.jsx)(n.p,{children:"Compare to pure cloud: $50-100/month for similar volume."}),"\n",(0,t.jsx)(n.h3,{id:"2-data-sovereignty",children:"2. Data Sovereignty"}),"\n",(0,t.jsx)(n.p,{children:"French citizens' contributions stay on French servers unless absolutely necessary. When failover triggers, only that specific contribution goes to cloud\u2014not the entire dataset."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Data flow:\n\u251c\u2500\u2500 80% of requests: Local only\n\u251c\u2500\u2500 15% of requests: OpenAI (US)\n\u251c\u2500\u2500 4% of requests: Claude (US/UK)\n\u2514\u2500\u2500 1% of requests: Gemini (US)\n"})}),"\n",(0,t.jsx)(n.p,{children:'For sensitive civic data, this is the difference between "data might leave the country" and "data almost never leaves, and when it does, it\'s minimal."'}),"\n",(0,t.jsx)(n.h3,{id:"3-resilience",children:"3. Resilience"}),"\n",(0,t.jsxs)(n.p,{children:["The system ",(0,t.jsx)(n.strong,{children:"never fails completely"}),". If Ollama crashes, cloud takes over. If OpenAI has an outage, Claude steps in. If everything fails, Gemini's free tier is the last resort."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   FAILOVER CASCADE                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                           \u2502\n\u2502  Request arrives                                          \u2502\n\u2502         \u2502                                                 \u2502\n\u2502         \u25bc                                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                          \u2502\n\u2502  \u2502   Ollama    \u2502 \u2500\u2500\u2500\u2500 Lock available? \u2500\u2500\u2500\u2500 Yes \u2500\u2500\u25b6 Use   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502                              \u2502\n\u2502                           No                              \u2502\n\u2502                            \u2502                              \u2502\n\u2502                            \u25bc                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                          \u2502\n\u2502  \u2502   OpenAI    \u2502 \u2500\u2500\u2500\u2500 API available? \u2500\u2500\u2500\u2500 Yes \u2500\u2500\u25b6 Use    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502                              \u2502\n\u2502                           No                              \u2502\n\u2502                            \u2502                              \u2502\n\u2502                            \u25bc                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                          \u2502\n\u2502  \u2502   Claude    \u2502 \u2500\u2500\u2500\u2500 API available? \u2500\u2500\u2500\u2500 Yes \u2500\u2500\u25b6 Use    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502                              \u2502\n\u2502                           No                              \u2502\n\u2502                            \u2502                              \u2502\n\u2502                            \u25bc                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                          \u2502\n\u2502  \u2502   Mistral   \u2502 \u2500\u2500\u2500\u2500 API available? \u2500\u2500\u2500\u2500 Yes \u2500\u2500\u25b6 Use    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502                              \u2502\n\u2502                           No                              \u2502\n\u2502                            \u2502                              \u2502\n\u2502                            \u25bc                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                          \u2502\n\u2502  \u2502   Gemini    \u2502 \u2500\u2500\u2500\u2500 Last resort (rate limited)         \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                          \u2502\n\u2502                                                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(n.h2,{id:"implementation-notes",children:"Implementation Notes"}),"\n",(0,t.jsx)(n.h3,{id:"check-lock-status",children:"Check Lock Status"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Is Ollama available?\nredis-cli -n 6 GET "lock:ollama:global"\n# Empty = available, otherwise shows task holding it\n\n# How long until lock expires?\nredis-cli -n 6 TTL "lock:ollama:global"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"force-clear-a-stuck-lock",children:"Force Clear a Stuck Lock"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Only if you\'re sure no task is actually running\nredis-cli -n 6 DEL "lock:ollama:global"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"monitor-failover",children:"Monitor Failover"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# In your task code\nresult = await provider.complete_with_failover(messages)\nprint(f"Used provider: {result.provider}")  # Shows which provider actually handled it\n'})}),"\n",(0,t.jsx)(n.h3,{id:"revalidate-after-failures",children:"Revalidate After Failures"}),"\n",(0,t.jsx)(n.p,{children:"If you had failures before implementing failover, clean them up:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Run the revalidation script (uses OpenAI)\npoetry run python scripts/revalidate_errors.py\n"})}),"\n",(0,t.jsx)(n.h2,{id:"the-bigger-picture",children:"The Bigger Picture"}),"\n",(0,t.jsxs)(n.p,{children:["This pattern\u2014",(0,t.jsx)(n.strong,{children:"local-first with intelligent failover"}),"\u2014applies beyond LLMs:"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Domain"}),(0,t.jsx)(n.th,{children:"Local"}),(0,t.jsx)(n.th,{children:"Failover"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"LLM inference"}),(0,t.jsx)(n.td,{children:"Ollama"}),(0,t.jsx)(n.td,{children:"OpenAI, Claude"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Vector search"}),(0,t.jsx)(n.td,{children:"Local Qdrant"}),(0,t.jsx)(n.td,{children:"Pinecone"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"OCR"}),(0,t.jsx)(n.td,{children:"Tesseract"}),(0,t.jsx)(n.td,{children:"Google Vision"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Speech-to-text"}),(0,t.jsx)(n.td,{children:"Whisper local"}),(0,t.jsx)(n.td,{children:"Whisper API"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"The principle is the same: prefer local for cost and sovereignty, failover to cloud for reliability."}),"\n",(0,t.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,t.jsx)(n.p,{children:"The global lock pattern turned our unreliable local LLM into a production-ready system. Citizens get fast, reliable AI assistance. Their data stays sovereign. The project stays within budget."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Reliability and sovereignty aren't opposites\u2014they're achievable together with the right architecture."})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.em,{children:["Code reference: ",(0,t.jsx)(n.code,{children:"app/providers/failover.py"}),", ",(0,t.jsx)(n.code,{children:"app/services/tasks/task_audierne_docs.py"})]})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.em,{children:["Related: ",(0,t.jsx)(n.a,{href:"/blog/grounding-ai-in-reality",children:"Grounding AI in Reality"})," | ",(0,t.jsx)(n.a,{href:"/blog/self-improving-civic-ai",children:"Self-Improving Civic AI"})]})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>s,x:()=>a});var l=i(6540);const t={},r=l.createContext(t);function s(e){const n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),l.createElement(r.Provider,{value:n},e.children)}},9847(e){e.exports=JSON.parse('{"permalink":"/fr/blog/reliability-without-the-cloud-tax","editUrl":"https://github.com/locki-io/docs.locki.io/tree/main/blog/2026-02-06-reliability-without-the-cloud-tax.md","source":"@site/blog/2026-02-06-reliability-without-the-cloud-tax.md","title":"Reliability Without the Cloud Tax: Local LLMs with Intelligent Failover","description":"How a simple Redis lock transformed our local LLM from unreliable to production-ready, while keeping data sovereign and costs near zero","date":"2026-02-06T00:00:00.000Z","tags":[{"inline":false,"label":"AI and Machine Learning","permalink":"/fr/blog/tags/ai-ml","description":"Articles on AI, machine learning, and related technologies"},{"inline":false,"label":"Infrastructure","permalink":"/fr/blog/tags/infrastructure","description":"Articles on AI infrastructure, deployment, and operational patterns"},{"inline":false,"label":"Data Sovereignty","permalink":"/fr/blog/tags/sovereignty","description":"Articles on data sovereignty, local-first AI, and self-hosted solutions"},{"inline":false,"label":"Ollama","permalink":"/fr/blog/tags/ollama","description":"Articles on Ollama local LLM deployment and integration"},{"inline":false,"label":"civitech","permalink":"/fr/blog/tags/civictech","description":"Citizen technologies and open source for the public good"}],"readingTime":4.8,"hasTruncateMarker":true,"authors":[{"name":"Jean-No\xebl Schilling","title":"Locki one / french maintainer","url":"https://github.com/jnschilling","socials":{"linkedin":"https://www.linkedin.com/in/jnschilling/","github":"https://github.com/jnschilling","newsletter":"https://www.stratej.fr"},"imageURL":"https://github.com/jnschilling.png","key":"jnxmas","page":null}],"frontMatter":{"slug":"reliability-without-the-cloud-tax","title":"Reliability Without the Cloud Tax: Local LLMs with Intelligent Failover","authors":["jnxmas"],"tags":["ai-ml","infrastructure","sovereignty","ollama","civictech"],"description":"How a simple Redis lock transformed our local LLM from unreliable to production-ready, while keeping data sovereign and costs near zero"},"unlisted":false,"prevItem":{"title":"The Anonymization Trilemma: Balancing Cost, Accuracy, and Speed in Civic AI","permalink":"/fr/blog/anonymization-trilemma"},"nextItem":{"title":"Grounding AI in Reality: How Field Data Keeps Our Agents Honest","permalink":"/fr/blog/grounding-ai-in-reality"}}')}}]);