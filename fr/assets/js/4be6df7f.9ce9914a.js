"use strict";(globalThis.webpackChunkdocs_locki_io=globalThis.webpackChunkdocs_locki_io||[]).push([[9161],{4983(e,r,n){n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>i,default:()=>g,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"app/LOGGING","title":"Logging System","description":"OCapistaine uses a domain-based logging system following Separation of Concerns principles. Each architectural layer has its own logger with structured logging methods.","source":"@site/docs/app/LOGGING.md","sourceDirName":"app","slug":"/app/LOGGING","permalink":"/fr/docs/app/LOGGING","draft":false,"unlisted":false,"editUrl":"https://github.com/locki-io/docs.locki.io/tree/main/docs/app/LOGGING.md","tags":[],"version":"current","frontMatter":{},"sidebar":"appSidebar","previous":{"title":"Internationalization (i18n)","permalink":"/fr/docs/app/I18N"},"next":{"title":"Streamlit Overview","permalink":"/fr/docs/app/streamlit-overview"}}');var o=n(4848),t=n(8453);const l={},i="Logging System",c={},d=[{value:"Architecture",id:"architecture",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Domain Loggers",id:"domain-loggers",level:2},{value:"PresentationLogger",id:"presentationlogger",level:3},{value:"ServiceLogger",id:"servicelogger",level:3},{value:"AgentLogger",id:"agentlogger",level:3},{value:"ProcessorLogger",id:"processorlogger",level:3},{value:"DataLogger",id:"datalogger",level:3},{value:"ProviderLogger",id:"providerlogger",level:3},{value:"TaskLogger",id:"tasklogger",level:3},{value:"MockupLogger",id:"mockuplogger",level:3},{value:"Log File Configuration",id:"log-file-configuration",level:2},{value:"Log Format",id:"log-format",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Adding a New Logger",id:"adding-a-new-logger",level:2},{value:"1. Create Component Logger",id:"1-create-component-logger",level:3},{value:"2. Add Custom Methods (Optional)",id:"2-add-custom-methods-optional",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Important: Logger Class vs get_child_logger",id:"important-logger-class-vs-get_child_logger",level:2}];function a(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.header,{children:(0,o.jsx)(r.h1,{id:"logging-system",children:"Logging System"})}),"\n",(0,o.jsx)(r.p,{children:"OCapistaine uses a domain-based logging system following Separation of Concerns principles. Each architectural layer has its own logger with structured logging methods."}),"\n",(0,o.jsx)(r.h2,{id:"architecture",children:"Architecture"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                               DOMAINS                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  presentation \u2502 services \u2502 agents \u2502 processors \u2502 data \u2502 tasks \u2502 mockup     \u2502\n\u2502  (UI, API)    \u2502 (app)    \u2502 (logic)\u2502 (transform)\u2502(store)\u2502(sched)\u2502 (testing)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502            \u2502         \u2502          \u2502          \u2502       \u2502         \u2502\n        \u25bc            \u25bc         \u25bc          \u25bc          \u25bc       \u25bc         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                              LOG FILES                                       \u2502\n\u2502  logs/                                                                       \u2502\n\u2502  \u251c\u2500\u2500 presentation.log       \u251c\u2500\u2500 presentation_errors.log                     \u2502\n\u2502  \u251c\u2500\u2500 services.log           \u251c\u2500\u2500 services_errors.log                         \u2502\n\u2502  \u251c\u2500\u2500 agents.log             \u251c\u2500\u2500 agents_errors.log                           \u2502\n\u2502  \u251c\u2500\u2500 processors.log         \u251c\u2500\u2500 processors_errors.log                       \u2502\n\u2502  \u251c\u2500\u2500 data.log               \u251c\u2500\u2500 data_errors.log                             \u2502\n\u2502  \u251c\u2500\u2500 providers.log          \u251c\u2500\u2500 providers_errors.log                        \u2502\n\u2502  \u251c\u2500\u2500 tasks.log              \u251c\u2500\u2500 tasks_errors.log                            \u2502\n\u2502  \u2514\u2500\u2500 mockup.log             \u2514\u2500\u2500 mockup_errors.log                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,o.jsx)(r.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'from app.services import service_logger, ServiceLogger\n\n# Use pre-configured logger\nservice_logger.log_request(user_id="abc123", operation="chat")\n\n# Or create component-specific logger\nrag_logger = ServiceLogger("rag")\nrag_logger.log_request(user_id="abc123", operation="query", query="Budget?")\n'})}),"\n",(0,o.jsx)(r.h2,{id:"domain-loggers",children:"Domain Loggers"}),"\n",(0,o.jsx)(r.h3,{id:"presentationlogger",children:"PresentationLogger"}),"\n",(0,o.jsx)(r.p,{children:"For Streamlit UI, FastAPI endpoints, and webhooks."}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'from app.services import PresentationLogger\n\nlogger = PresentationLogger("streamlit")\n\n# Page views\nlogger.log_page_view(page="contributions", user_id="abc123")\n\n# User actions\nlogger.log_user_action(action="click_validate", user_id="abc123")\n\n# API requests\nlogger.log_api_request(\n    method="POST",\n    path="/api/v1/chat",\n    user_id="abc123",\n    status_code=200,\n    latency_ms=150.5\n)\n\n# Webhooks\nlogger.log_webhook(source="n8n", event_type="issue_created", success=True)\n'})}),"\n",(0,o.jsx)(r.h3,{id:"servicelogger",children:"ServiceLogger"}),"\n",(0,o.jsx)(r.p,{children:"For application layer services (orchestrator, RAG, chat, document)."}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'from app.services import ServiceLogger\n\nlogger = ServiceLogger("chat")\n\n# Service requests\nlogger.log_request(\n    user_id="abc123",\n    operation="send_message",\n    query="What is the budget?",\n    thread_id="thread_xyz"\n)\n\n# Service responses\nlogger.log_response(\n    user_id="abc123",\n    operation="send_message",\n    success=True,\n    latency_ms=1200.0,\n    result_count=3\n)\n\n# Cache operations\nlogger.log_cache_hit(cache_type="redis", key="chat:abc123", hit=True)\n\n# Errors\nlogger.log_service_error(\n    operation="send_message",\n    error="Provider timeout",\n    user_id="abc123",\n    recoverable=True\n)\n'})}),"\n",(0,o.jsx)(r.h3,{id:"agentlogger",children:"AgentLogger"}),"\n",(0,o.jsx)(r.p,{children:"For business logic agents (RAG, crawler, evaluation, Forseti)."}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'from app.services import AgentLogger\n\nlogger = AgentLogger("forseti")\n\n# Agent lifecycle\nlogger.log_agent_start(task="validate_contribution", input_data="Title...")\nlogger.log_agent_complete(task="validate_contribution", success=True, latency_ms=500)\n\n# RAG operations\nlogger.log_retrieval(query="budget 2024", num_results=5, top_score=0.89)\nlogger.log_generation(model="gemini-2.0-flash", input_tokens=500, output_tokens=200)\n\n# Evaluation (Opik)\nlogger.log_evaluation(metric="hallucination", score=0.95, threshold=0.8, passed=True)\n\n# Validation (Forseti)\nlogger.log_validation(\n    validator="charter",\n    is_valid=True,\n    violations=[],\n    confidence=0.92\n)\n'})}),"\n",(0,o.jsx)(r.h3,{id:"processorlogger",children:"ProcessorLogger"}),"\n",(0,o.jsx)(r.p,{children:"For business logic processors (embeddings, parser, formatter)."}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'from app.services import ProcessorLogger\n\nlogger = ProcessorLogger("embeddings")\n\n# Processing lifecycle\nlogger.log_process_start(processor="embeddings", input_type="text", input_size=1500)\nlogger.log_process_complete(processor="embeddings", output_type="vector", output_size=768)\n\n# Embeddings\nlogger.log_embedding(model="text-embedding-3-small", num_texts=10, dimensions=768)\n\n# Document parsing\nlogger.log_parse(\n    source_type="pdf",\n    source_path="/ext_data/gwaien/bulletin_42.pdf",\n    success=True,\n    pages=12,\n    chars=45000\n)\n'})}),"\n",(0,o.jsx)(r.h3,{id:"datalogger",children:"DataLogger"}),"\n",(0,o.jsx)(r.p,{children:"For data access layer (Redis, vector store, file storage)."}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'from app.services import DataLogger\n\nlogger = DataLogger("redis")\n\n# Connections\nlogger.log_connection(store="redis", status="connected", host="localhost:6379")\n\n# Operations\nlogger.log_operation(store="redis", operation="get", key="session:abc123", success=True)\n\n# Redis-specific\nlogger.log_redis_command(command="HSET", key="chat:abc123:thread1", ttl=604800)\n\n# Vector search\nlogger.log_vector_search(collection="documents", num_results=5, latency_ms=45.2)\n\n# File operations\nlogger.log_file_operation(operation="write", path="/ext_data/doc.md", size_bytes=4096)\n'})}),"\n",(0,o.jsx)(r.h3,{id:"providerlogger",children:"ProviderLogger"}),"\n",(0,o.jsx)(r.p,{children:"For LLM providers (existing, backwards compatible)."}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'from app.services import ProviderLogger\n\nlogger = ProviderLogger("gemini")\n\nlogger.log_request(model="gemini-2.0-flash", input_tokens=500, temperature=0.7)\nlogger.log_response(model="gemini-2.0-flash", output_tokens=200, latency_ms=1200)\nlogger.log_error("RATE_LIMIT", "Quota exceeded", model="gemini-2.0-flash", retry_after=30)\n'})}),"\n",(0,o.jsx)(r.h3,{id:"tasklogger",children:"TaskLogger"}),"\n",(0,o.jsx)(r.p,{children:"For scheduled tasks and background jobs (APScheduler)."}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'from app.services.logging import TaskLogger\n\nlogger = TaskLogger("task_contributions_analysis")\n\n# Task lifecycle\nlogger.log_start(task_id="abc123", date_string="20260203")\nlogger.log_completed(status="success", validated=10, approved=8)\nlogger.log_skipped(reason="already_completed", date_string="20260203")\n\n# Progress tracking\nlogger.info("PROGRESS", step="validation", count=5, total=10)\n'})}),"\n",(0,o.jsx)(r.h3,{id:"mockuplogger",children:"MockupLogger"}),"\n",(0,o.jsx)(r.p,{children:"For mockup generation, field input processing, and batch validation (DEBUG level by default)."}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'from app.services.logging import MockupLogger\n\nlogger = MockupLogger("field_input_generator")\n\n# Process lifecycle\nlogger.info("PROCESS_START", source="direct_input", length=90034)\nlogger.info("CHUNKING", total_length=90034, chunks=7)\nlogger.debug("LLM_RESPONSE", chunk=0, length=424)\nlogger.info("THEMES_EXTRACTED", total=15, unique=12)\nlogger.info("PROCESS_COMPLETE", themes=12, contributions=12, categories=["economie", "social"])\n\n# Batch validation\nbatch_logger = MockupLogger("batch_validator")\nbatch_logger.info("BATCH_START", batch_size=50)\nbatch_logger.info("VALIDATION_RESULT", valid=45, invalid=5)\n'})}),"\n",(0,o.jsx)(r.h2,{id:"log-file-configuration",children:"Log File Configuration"}),"\n",(0,o.jsxs)(r.table,{children:[(0,o.jsx)(r.thead,{children:(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.th,{children:"Domain"}),(0,o.jsx)(r.th,{children:"Main Log"}),(0,o.jsx)(r.th,{children:"Error Log"}),(0,o.jsx)(r.th,{children:"Level"}),(0,o.jsx)(r.th,{children:"Rotation"})]})}),(0,o.jsxs)(r.tbody,{children:[(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:"presentation"}),(0,o.jsx)(r.td,{children:"presentation.log"}),(0,o.jsx)(r.td,{children:"presentation_errors.log"}),(0,o.jsx)(r.td,{children:"INFO"}),(0,o.jsx)(r.td,{children:"10MB / 5 backups"})]}),(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:"services"}),(0,o.jsx)(r.td,{children:"services.log"}),(0,o.jsx)(r.td,{children:"services_errors.log"}),(0,o.jsx)(r.td,{children:"INFO"}),(0,o.jsx)(r.td,{children:"10MB / 5 backups"})]}),(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:"agents"}),(0,o.jsx)(r.td,{children:"agents.log"}),(0,o.jsx)(r.td,{children:"agents_errors.log"}),(0,o.jsx)(r.td,{children:"INFO"}),(0,o.jsx)(r.td,{children:"10MB / 5 backups"})]}),(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:"processors"}),(0,o.jsx)(r.td,{children:"processors.log"}),(0,o.jsx)(r.td,{children:"processors_errors.log"}),(0,o.jsx)(r.td,{children:"INFO"}),(0,o.jsx)(r.td,{children:"10MB / 5 backups"})]}),(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:"data"}),(0,o.jsx)(r.td,{children:"data.log"}),(0,o.jsx)(r.td,{children:"data_errors.log"}),(0,o.jsx)(r.td,{children:"INFO"}),(0,o.jsx)(r.td,{children:"10MB / 5 backups"})]}),(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:"providers"}),(0,o.jsx)(r.td,{children:"providers.log"}),(0,o.jsx)(r.td,{children:"providers_errors.log"}),(0,o.jsx)(r.td,{children:"INFO"}),(0,o.jsx)(r.td,{children:"10MB / 5 backups"})]}),(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:"tasks"}),(0,o.jsx)(r.td,{children:"tasks.log"}),(0,o.jsx)(r.td,{children:"tasks_errors.log"}),(0,o.jsx)(r.td,{children:"INFO"}),(0,o.jsx)(r.td,{children:"10MB / 5 backups"})]}),(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:"mockup"}),(0,o.jsx)(r.td,{children:"mockup.log"}),(0,o.jsx)(r.td,{children:"mockup_errors.log"}),(0,o.jsx)(r.td,{children:"DEBUG"}),(0,o.jsx)(r.td,{children:"10MB / 5 backups"})]})]})]}),"\n",(0,o.jsx)(r.p,{children:"Error logs are rotated daily and kept for 30 days."}),"\n",(0,o.jsx)(r.h2,{id:"log-format",children:"Log Format"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"2026-01-26 14:30:00 | INFO     | ocapistaine.services.rag | REQUEST | operation=query | user_id=abc12345 | query=What is the budget?\n"})}),"\n",(0,o.jsxs)(r.p,{children:["Format: ",(0,o.jsx)(r.code,{children:"timestamp | level | logger_name | message | key=value | key=value ..."})]}),"\n",(0,o.jsx)(r.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,o.jsxs)(r.table,{children:[(0,o.jsx)(r.thead,{children:(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.th,{children:"Variable"}),(0,o.jsx)(r.th,{children:"Description"}),(0,o.jsx)(r.th,{children:"Default"})]})}),(0,o.jsxs)(r.tbody,{children:[(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"LOG_CONSOLE"})}),(0,o.jsx)(r.td,{children:"Enable console output for all domains"}),(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"false"})})]}),(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"PRESENTATION_LOG_CONSOLE"})}),(0,o.jsx)(r.td,{children:"Console output for presentation"}),(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"false"})})]}),(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"SERVICES_LOG_CONSOLE"})}),(0,o.jsx)(r.td,{children:"Console output for services"}),(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"false"})})]}),(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"AGENTS_LOG_CONSOLE"})}),(0,o.jsx)(r.td,{children:"Console output for agents"}),(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"false"})})]}),(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"PROCESSORS_LOG_CONSOLE"})}),(0,o.jsx)(r.td,{children:"Console output for processors"}),(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"false"})})]}),(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"DATA_LOG_CONSOLE"})}),(0,o.jsx)(r.td,{children:"Console output for data"}),(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"false"})})]}),(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"PROVIDER_LOG_CONSOLE"})}),(0,o.jsx)(r.td,{children:"Console output for providers"}),(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"false"})})]}),(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"TASKS_LOG_CONSOLE"})}),(0,o.jsx)(r.td,{children:"Console output for tasks"}),(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"false"})})]}),(0,o.jsxs)(r.tr,{children:[(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"MOCKUP_LOG_CONSOLE"})}),(0,o.jsx)(r.td,{children:"Console output for mockup"}),(0,o.jsx)(r.td,{children:(0,o.jsx)(r.code,{children:"false"})})]})]})]}),"\n",(0,o.jsx)(r.h2,{id:"adding-a-new-logger",children:"Adding a New Logger"}),"\n",(0,o.jsx)(r.h3,{id:"1-create-component-logger",children:"1. Create Component Logger"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'from app.services import ServiceLogger\n\n# Create logger for your component\nmy_logger = ServiceLogger("my_component")\n\n# Use structured methods\nmy_logger.log_request(user_id="abc", operation="my_op")\n\n# Or generic methods\nmy_logger.info("Custom message", key1="value1", key2="value2")\n'})}),"\n",(0,o.jsx)(r.h3,{id:"2-add-custom-methods-optional",children:"2. Add Custom Methods (Optional)"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'from app.logging.domains import BaseLogger\n\nclass MyCustomLogger(BaseLogger):\n    domain = "services"  # Uses services.log\n\n    def log_my_event(self, event_type: str, data: dict) -> None:\n        self.info("MY_EVENT", type=event_type, **data)\n\n# Usage\nlogger = MyCustomLogger("my_component")\nlogger.log_my_event("created", {"id": 123, "name": "test"})\n'})}),"\n",(0,o.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsxs)(r.ol,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Use structured logging"})," - Prefer ",(0,o.jsx)(r.code,{children:"log_*"})," methods over raw ",(0,o.jsx)(r.code,{children:"info/error"})]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Truncate sensitive data"})," - User IDs are truncated to 8 chars automatically"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Include latency"})," - Always log ",(0,o.jsx)(r.code,{children:"latency_ms"})," for performance tracking"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Use appropriate levels"}),":","\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"DEBUG"}),": Detailed diagnostic info (cache hits, individual operations)"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"INFO"}),": Normal operations (requests, responses, agent tasks)"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"WARNING"}),": Recoverable issues (validation failures, retries)"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"ERROR"}),": Failures requiring attention (API errors, data corruption)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"important-logger-class-vs-get_child_logger",children:"Important: Logger Class vs get_child_logger"}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Always use domain-specific logger classes"}),", not raw ",(0,o.jsx)(r.code,{children:"get_child_logger()"}),"."]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-python",children:'# CORRECT - Use logger classes\nfrom app.services.logging import MockupLogger, TaskLogger\n\nlogger = MockupLogger("my_component")\nlogger.info("EVENT", key1="value1", key2="value2")  # kwargs work!\n\n# WRONG - Don\'t use get_child_logger directly\nfrom app.services.logging import get_child_logger\n\nlogger = get_child_logger("mockup", "my_component")\nlogger.info("EVENT", key1="value1")  # kwargs NOT supported!\n'})}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"Why?"})," The domain logger classes (",(0,o.jsx)(r.code,{children:"MockupLogger"}),", ",(0,o.jsx)(r.code,{children:"TaskLogger"}),", etc.) extend ",(0,o.jsx)(r.code,{children:"BaseLogger"})," which has a ",(0,o.jsx)(r.code,{children:"_format_parts(**kwargs)"})," method for structured logging. Raw ",(0,o.jsx)(r.code,{children:"get_child_logger()"})," returns a standard Python logger that doesn't support kwargs in log methods."]})]})}function g(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453(e,r,n){n.d(r,{R:()=>l,x:()=>i});var s=n(6540);const o={},t=s.createContext(o);function l(e){const r=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(t.Provider,{value:r},e.children)}}}]);