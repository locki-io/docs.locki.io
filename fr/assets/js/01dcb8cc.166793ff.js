"use strict";(globalThis.webpackChunkdocs_locki_io=globalThis.webpackChunkdocs_locki_io||[]).push([[7765],{3340(e,s,t){t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>a,frontMatter:()=>c,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"methods/git-before-pull-cheats","title":"git-before-pull-cheats","description":"Here\'s a focused Git cheat sheet specifically for the phase before doing a git pull from remote (GitHub, etc.).","source":"@site/docs/methods/git-before-pull-cheats.md","sourceDirName":"methods","slug":"/methods/git-before-pull-cheats","permalink":"/fr/docs/methods/git-before-pull-cheats","draft":false,"unlisted":false,"editUrl":"https://github.com/locki-io/docs.locki.io/tree/main/docs/methods/git-before-pull-cheats.md","tags":[],"version":"current","frontMatter":{}}');var n=t(4848),i=t(8453);const c={},o=void 0,l={},d=[{value:"1. Before Pull: Reverse / Discard local changes (choose level of destruction)",id:"1-before-pull-reverse--discard-local-changes-choose-level-of-destruction",level:3},{value:"2. Full &quot;Nuke &amp; Sync&quot; combo (very common on servers before deploy/pull)",id:"2-full-nuke--sync-combo-very-common-on-servers-before-deploypull",level:3},{value:"3. Quick decision tree (what to run right now?)",id:"3-quick-decision-tree-what-to-run-right-now",level:3}];function h(e){const s={br:"br",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:["Here's a focused ",(0,n.jsx)(s.strong,{children:"Git cheat sheet"})," specifically for the phase ",(0,n.jsxs)(s.strong,{children:["before doing a ",(0,n.jsx)(s.code,{children:"git pull"})]})," from remote (GitHub, etc.).",(0,n.jsx)(s.br,{}),"\n","It covers the most common real-world needs on servers / CI / deployment machines:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Making scripts executable"}),"\n",(0,n.jsx)(s.li,{children:"Reversing / discarding local changes (safely or destructively)"}),"\n",(0,n.jsx)(s.li,{children:"Cleaning the working directory"}),"\n",(0,n.jsx)(s.li,{children:"Resetting to match remote exactly (force overwrite local state)"}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["All commands assume you're already on the correct branch (check with ",(0,n.jsx)(s.code,{children:"git branch"})," or ",(0,n.jsx)(s.code,{children:"git status"}),")."]}),"\n",(0,n.jsx)(s.h3,{id:"1-before-pull-reverse--discard-local-changes-choose-level-of-destruction",children:"1. Before Pull: Reverse / Discard local changes (choose level of destruction)"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"What you want to discard"}),(0,n.jsx)(s.th,{children:"Command(s)"}),(0,n.jsx)(s.th,{children:"Destructive?"}),(0,n.jsx)(s.th,{children:"Recoverable?"}),(0,n.jsx)(s.th,{children:"Use when..."})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.strong,{children:"Temporarily save"})," changes (safest first step)"]}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"git stash"})," or ",(0,n.jsx)(s.code,{children:'git stash push -m "WIP before pull"'})]}),(0,n.jsx)(s.td,{children:"No"}),(0,n.jsxs)(s.td,{children:["Yes (",(0,n.jsx)(s.code,{children:"git stash pop"}),")"]}),(0,n.jsx)(s.td,{children:"Not sure yet \u2013 want changes back later"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.strong,{children:"Uncommitted changes only"})," (unstaged + staged)"]}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"git restore ."})," or ",(0,n.jsx)(s.code,{children:"git checkout -- ."})," (older Git)"]}),(0,n.jsx)(s.td,{children:"Yes"}),(0,n.jsx)(s.td,{children:"No"}),(0,n.jsx)(s.td,{children:"Keep history, just wipe working dir"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.strong,{children:"All local changes"})," (including staged)"]}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"git reset --hard"})}),(0,n.jsx)(s.td,{children:"Yes"}),(0,n.jsx)(s.td,{children:"No"}),(0,n.jsx)(s.td,{children:"Discard modifications but keep branch at current commit"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.strong,{children:"Exact remote match"})," (most wanted before pull)"]}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"git fetch origin"})," + ",(0,n.jsx)(s.code,{children:"git reset --hard origin/dev"})]}),(0,n.jsx)(s.td,{children:"Yes"}),(0,n.jsx)(s.td,{children:"No"}),(0,n.jsx)(s.td,{children:"Force local = remote (your original goal)"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:"One-liner force overwrite"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"git fetch origin && git reset --hard origin/$(git branch --show-current)"})}),(0,n.jsx)(s.td,{children:"Yes"}),(0,n.jsx)(s.td,{children:"No"}),(0,n.jsx)(s.td,{children:"Quick & safe on servers"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.strong,{children:"Untracked files too"})," (new files, .env, etc.)"]}),(0,n.jsxs)(s.td,{children:["After reset: ",(0,n.jsx)(s.code,{children:"git clean -fd"})," or ",(0,n.jsx)(s.code,{children:"git clean -fdx"})," (also ignores)"]}),(0,n.jsx)(s.td,{children:"Yes"}),(0,n.jsx)(s.td,{children:"No"}),(0,n.jsx)(s.td,{children:"Full clean slate (node_modules, logs, etc.)"})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Safest sequence"})," when unsure:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"git stash -u                     # -u includes untracked\ngit fetch origin\ngit reset --hard origin/dev\n# Later: git stash pop (if you want changes back)\n"})}),"\n",(0,n.jsx)(s.h3,{id:"2-full-nuke--sync-combo-very-common-on-servers-before-deploypull",children:'2. Full "Nuke & Sync" combo (very common on servers before deploy/pull)'}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:'# Option A \u2013 Most recommended (clean & exact remote state)\ngit fetch origin\ngit reset --hard origin/dev      # or main, master, etc.\ngit clean -fd                    # remove untracked files & dirs\n\n# Option B \u2013 Even more aggressive (removes ignored files like .env too)\ngit fetch origin\ngit reset --hard origin/dev\ngit clean -fdx\n\n# Option C \u2013 With backup stash first\ngit stash push -u -m "Auto-stash before force pull $(date +%Y-%m-%d)"\ngit fetch origin\ngit reset --hard origin/dev\ngit clean -fd\n# \u2192 git stash list   to see it\n# \u2192 git stash pop    to restore if needed\n'})}),"\n",(0,n.jsx)(s.h3,{id:"3-quick-decision-tree-what-to-run-right-now",children:"3. Quick decision tree (what to run right now?)"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["I have local mods but might need them later? \u2192 ",(0,n.jsx)(s.code,{children:"git stash -u"})]}),"\n",(0,n.jsxs)(s.li,{children:["I just want to throw away changes and pull cleanly? \u2192 ",(0,n.jsx)(s.code,{children:"git fetch && git reset --hard origin/<branch>"})]}),"\n",(0,n.jsxs)(s.li,{children:["Pull still complains about files? \u2192 Add ",(0,n.jsx)(s.code,{children:"git clean -fd"})," after reset"]}),"\n",(0,n.jsxs)(s.li,{children:["Scripts not running? \u2192 ",(0,n.jsx)(s.code,{children:"chmod +x *.sh"})," or ",(0,n.jsx)(s.code,{children:"chmod +x path/to/script.sh"})]}),"\n",(0,n.jsxs)(s.li,{children:["Want to see what I'll lose first? \u2192 ",(0,n.jsx)(s.code,{children:"git status"})," + ",(0,n.jsx)(s.code,{children:"git diff"})]}),"\n"]})]})}function a(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},8453(e,s,t){t.d(s,{R:()=>c,x:()=>o});var r=t(6540);const n={},i=r.createContext(n);function c(e){const s=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),r.createElement(i.Provider,{value:s},e.children)}}}]);