"use strict";(globalThis.webpackChunkdocs_locki_io=globalThis.webpackChunkdocs_locki_io||[]).push([[6475],{2098(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});var s=i(8226),t=i(4848),r=i(8453);const l={slug:"opik-workshop-2",title:"OPIK : Agent & Prompt Optimization for LLM Systems",authors:["jnxmas"],tags:["ai-ml","rag","encode"]},o="Agent & Prompt Optimization for LLM Systems: Workshop Operations, Eval-Driven Loops, and Optimizer Tooling (OPIC/OPIK + Comet)",a={authorsImageUrls:[void 0]},c=[{value:"1) Development of the Content (Chronological and Logical Sequence)",id:"1-development-of-the-content-chronological-and-logical-sequence",level:2},{value:"A. Concepts Fundamental",id:"a-concepts-fundamental",level:3},{value:"A1) Workshop mechanics for \u201cagent optimization\u201d sessions (hackathon-ready)",id:"a1-workshop-mechanics-for-agent-optimization-sessions-hackathon-ready",level:4},{value:"A2) The optimization target: prompts, context, demonstrations, and parameters",id:"a2-the-optimization-target-prompts-context-demonstrations-and-parameters",level:4},{value:"A3) Evals: the required feedback signal",id:"a3-evals-the-required-feedback-signal",level:4},{value:"A4) The \u201cImpossible Triangle\u201d: Speed \xd7 Accuracy \xd7 Cost",id:"a4-the-impossible-triangle-speed--accuracy--cost",level:4},{value:"A5) Optimizer families (what they do and when to use)",id:"a5-optimizer-families-what-they-do-and-when-to-use",level:4},{value:"A6) Multimodal prompt optimization (images + text)",id:"a6-multimodal-prompt-optimization-images--text",level:4},{value:"B. Principal Pains and Practical Problems Encountered",id:"b-principal-pains-and-practical-problems-encountered",level:3},{value:"B1) Workshop/session problems (operational + facilitation)",id:"b1-workshopsession-problems-operational--facilitation",level:4},{value:"B2) Optimization and engineering problems (technical)",id:"b2-optimization-and-engineering-problems-technical",level:4},{value:"C. Causes of Common Errors and Deviations (Technical Diagnosis)",id:"c-causes-of-common-errors-and-deviations-technical-diagnosis",level:3},{value:"C1) Process errors",id:"c1-process-errors",level:4},{value:"C2) Data and evaluation errors",id:"c2-data-and-evaluation-errors",level:4},{value:"C3) Metric errors",id:"c3-metric-errors",level:4},{value:"C4) Operational and facilitation errors",id:"c4-operational-and-facilitation-errors",level:4},{value:"D. Solutions, Best Practices, and Strategies",id:"d-solutions-best-practices-and-strategies",level:3},{value:"D1) Facilitation strategy for optimization workshops",id:"d1-facilitation-strategy-for-optimization-workshops",level:4},{value:"D2) Build an eval-driven optimization loop (core technical workflow)",id:"d2-build-an-eval-driven-optimization-loop-core-technical-workflow",level:4},{value:"D3) Optimizer selection guidance",id:"d3-optimizer-selection-guidance",level:4},{value:"D4) Metric strategy (fast iteration vs semantic correctness)",id:"d4-metric-strategy-fast-iteration-vs-semantic-correctness",level:4},{value:"D5) Production readiness strategy (safety and reproducibility)",id:"d5-production-readiness-strategy-safety-and-reproducibility",level:4},{value:"E. What Should Be Done (Do\u2019s)",id:"e-what-should-be-done-dos",level:3},{value:"F. What Should NOT Be Done (Don\u2019ts)",id:"f-what-should-not-be-done-donts",level:3},{value:"G. Tools, Tasks, and Recommended Actions",id:"g-tools-tasks-and-recommended-actions",level:3},{value:"G1) Tools (explicitly referenced or strongly implied)",id:"g1-tools-explicitly-referenced-or-strongly-implied",level:4},{value:"G2) Recommended team routines (practical)",id:"g2-recommended-team-routines-practical",level:4},{value:"G3) Multimodal data preparation (when applicable)",id:"g3-multimodal-data-preparation-when-applicable",level:4},{value:"2) Practical Examples (Reviewed and Rewritten)",id:"2-practical-examples-reviewed-and-rewritten",level:2},{value:"Example 1 \u2014 Handling a delayed workshop start (screen sharing issue)",id:"example-1--handling-a-delayed-workshop-start-screen-sharing-issue",level:3},{value:"Example 2 \u2014 Preventing early technical derailment",id:"example-2--preventing-early-technical-derailment",level:3},{value:"Example 3 \u2014 Meta-prompting to fix inconsistent formatting",id:"example-3--meta-prompting-to-fix-inconsistent-formatting",level:3},{value:"Example 4 \u2014 Genetic optimization for a sensitive classification task",id:"example-4--genetic-optimization-for-a-sensitive-classification-task",level:3},{value:"Example 5 \u2014 Reflective/HRPO optimizer to reduce hallucinations in incomplete context",id:"example-5--reflectivehrpo-optimizer-to-reduce-hallucinations-in-incomplete-context",level:3},{value:"Example 6 \u2014 Multimodal hazard detection optimization (Comet + OPIK)",id:"example-6--multimodal-hazard-detection-optimization-comet--opik",level:3},{value:"Example 7 \u2014 Intent engineering for a safety-sensitive conversational assistant",id:"example-7--intent-engineering-for-a-safety-sensitive-conversational-assistant",level:3},{value:"3) Conclusion and Practical Application",id:"3-conclusion-and-practical-application",level:2},{value:"Glossary (Key Terms)",id:"glossary-key-terms",level:2},{value:"Review Questions (Knowledge Check)",id:"review-questions-knowledge-check",level:2},{value:"Suggested Further Reading / Resources",id:"suggested-further-reading--resources",level:2}];function d(e){const n={a:"a",admonition:"admonition",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["This training consolidates the operational and technical foundations needed to run and execute ",(0,t.jsx)(n.strong,{children:"agent/prompt optimization"})," in team settings (e.g., hackathons and internal workshops)."]}),"\n",(0,t.jsx)(n.p,{children:"It includes :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"eval-driven optimization"})," of LLM agent prompts using measurable metrics and iterative loops,"]}),"\n",(0,t.jsxs)(n.li,{children:["including ",(0,t.jsx)(n.strong,{children:"meta-prompting"}),", ",(0,t.jsx)(n.strong,{children:"genetic/evolutionary methods"}),", ",(0,t.jsx)(n.strong,{children:"hierarchical/reflective optimizers (HRPO)"}),", ",(0,t.jsx)(n.strong,{children:"few-shot Bayesian selection"}),", and ",(0,t.jsx)(n.strong,{children:"parameter tuning"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"It is important because prompt iteration without datasets and metrics devolves into subjective \u201cdoom wordsmithing,\u201d leading to unreliable, expensive, and non-reproducible agents."})}),"\n",(0,t.jsxs)(n.p,{children:["This material applies to ",(0,t.jsx)(n.strong,{children:"AI/ML engineers, LLM practitioners, platform and DevEx teams, facilitators/mentors"}),", and anyone responsible for building and improving ",(0,t.jsx)(n.strong,{children:"tool-using agents (RAG/MCP), multimodal agents, or production chatbots"})," under constraints of ",(0,t.jsx)(n.strong,{children:"speed, accuracy, and cost"}),"."]}),"\n",(0,t.jsx)("iframe",{width:"100%",style:{"aspect-ratio":"16 / 9"},src:"https://www.encodeclub.com/programmes/comet-resolution-v2-hackathon/events/agent-optimization-with-opik",title:"OPIK workshop 2",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0}),"\n",(0,t.jsx)(n.h2,{id:"1-development-of-the-content-chronological-and-logical-sequence",children:"1) Development of the Content (Chronological and Logical Sequence)"}),"\n",(0,t.jsx)(n.h3,{id:"a-concepts-fundamental",children:"A. Concepts Fundamental"}),"\n",(0,t.jsx)(n.h4,{id:"a1-workshop-mechanics-for-agent-optimization-sessions-hackathon-ready",children:"A1) Workshop mechanics for \u201cagent optimization\u201d sessions (hackathon-ready)"}),"\n",(0,t.jsxs)(n.p,{children:["In interactive workshops, success depends on ",(0,t.jsx)(n.strong,{children:"facilitation + operational readiness"})," as much as technical depth."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Live attendance"})," enables:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Real-time ",(0,t.jsx)(n.strong,{children:"Q&A"})]}),"\n",(0,t.jsx)(n.li,{children:"Higher engagement in hands-on segments"}),"\n",(0,t.jsx)(n.li,{children:"Faster alignment on team objectives and constraints"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Recording"})," is essential for:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Participants across incompatible time zones"}),"\n",(0,t.jsx)(n.li,{children:"Rewatching technical steps and setup instructions later"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hands-on sessions"})," increase operational sensitivity:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Frequent tool switching"}),"\n",(0,t.jsx)(n.li,{children:"Screen sharing and multi-monitor complexity"}),"\n",(0,t.jsxs)(n.li,{children:["High cognitive load for participants following along\n",(0,t.jsx)(n.strong,{children:"Conceptual grounding before coding"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Start with a short theory block to align terminology, scope, and outcomes."}),"\n",(0,t.jsxs)(n.li,{children:["Prevents early derailment into deep technical detail without a shared baseline.\n",(0,t.jsx)(n.strong,{children:"Analogy"})]}),"\n",(0,t.jsxs)(n.li,{children:["Conceptual grounding is like agreeing on a ",(0,t.jsx)(n.strong,{children:"map legend"})," before navigating; without it, people interpret instructions differently even if they follow the same steps."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"a2-the-optimization-target-prompts-context-demonstrations-and-parameters",children:"A2) The optimization target: prompts, context, demonstrations, and parameters"}),"\n",(0,t.jsx)(n.p,{children:"\u201cPrompt optimization\u201d is broader than rewriting a single system message. In practice, teams optimize multiple levers:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"System prompt / developer prompt"}),": core behavior, constraints, safety, formatting."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Context engineering"}),": retrieval and tools (RAG, MCP servers/clients), memory, long-context strategies."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Intent engineering"}),": define \u201cwhat good looks like\u201d using examples of desired conversations/outputs, then optimize toward them."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Few-shot demonstrations"}),": which examples to include, how many, and in what order."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Sampling parameters"}),": temperature, top_p, top_k (reduce variance, tune style/creativity).\n",(0,t.jsx)(n.strong,{children:"Prompt optimization vs. fine-tuning"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Prompt optimization"})," changes instructions/context/examples/parameters without changing model weights.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Faster iteration, lower operational burden, often cheaper."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fine-tuning"})," changes model weights.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Higher complexity and governance; sometimes necessary, but not the default path."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"a3-evals-the-required-feedback-signal",children:"A3) Evals: the required feedback signal"}),"\n",(0,t.jsxs)(n.p,{children:["An ",(0,t.jsx)(n.strong,{children:"eval"})," is an automated test harness that:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Runs an agent/prompt on a ",(0,t.jsx)(n.strong,{children:"dataset"})]}),"\n",(0,t.jsxs)(n.li,{children:["Scores outputs via a ",(0,t.jsx)(n.strong,{children:"metric"})]}),"\n",(0,t.jsx)(n.li,{children:"Produces repeatable feedback for iteration\nCommon metric dimensions:"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Accuracy / task success"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Hallucination rate / factuality"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Format compliance"})," (schemas, JSON, bullet structure)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Latency"})," (end-to-end runtime)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cost"})," (tokens, tool calls, infra)"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"a4-the-impossible-triangle-speed--accuracy--cost",children:"A4) The \u201cImpossible Triangle\u201d: Speed \xd7 Accuracy \xd7 Cost"}),"\n",(0,t.jsx)(n.p,{children:"Agent design and optimization inevitably trade off:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Speed"}),": latency, time-to-first-token, end-to-end runtime"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Accuracy"}),": correctness, task completion, policy compliance"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cost"}),": token usage, model pricing, tool calls, infrastructure\nKey implications:"]}),"\n",(0,t.jsx)(n.li,{children:"You typically can\u2019t maximize all three simultaneously."}),"\n",(0,t.jsx)(n.li,{children:"Optimization must explicitly measure and constrain all three.\nCommon architecture pattern:"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fast front agent"})," for interactive UX"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Slower or cheaper back agents"})," for verification, retrieval, or deeper reasoning"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"a5-optimizer-families-what-they-do-and-when-to-use",children:"A5) Optimizer families (what they do and when to use)"}),"\n",(0,t.jsx)(n.p,{children:"This training consolidates multiple optimizer approaches discussed across sessions:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Meta-prompting (Meta-reasoner)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"An LLM rewrites your prompt to produce candidate variants."}),"\n",(0,t.jsx)(n.li,{children:"You evaluate candidates and keep the best."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Genetic / Evolutionary optimization"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Maintains a population of prompts."}),"\n",(0,t.jsxs)(n.li,{children:["Applies ",(0,t.jsx)(n.strong,{children:"mutations"})," (remove/reorder/rewrite sections) and ",(0,t.jsx)(n.strong,{children:"selection"})," (keep winners)."]}),"\n",(0,t.jsxs)(n.li,{children:["Often includes \u201cfresh gene injection\u201d and a ",(0,t.jsx)(n.strong,{children:"Hall of Fame"})," of best prompts/components."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hierarchical / Reflective optimization (HRPO)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Diagnoses failure clusters, forms hypotheses, proposes targeted prompt changes, re-evaluates."}),"\n",(0,t.jsx)(n.li,{children:"Requires a clear metric + explanation so it can reason about failures."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Few-shot Bayesian optimization"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Selects:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Which few-shot examples,"}),"\n",(0,t.jsx)(n.li,{children:"How many,"}),"\n",(0,t.jsx)(n.li,{children:"In which order,"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Then inserts them into the prompt for stronger in-context guidance."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Parameter optimization"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Tunes generation parameters (temperature/top_p/top_k) after prompt structure is solid."}),"\n",(0,t.jsxs)(n.li,{children:["Useful for controlling non-determinism and output variance.\n",(0,t.jsx)(n.strong,{children:"Chaining optimizers (recommended workflow)"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["A practical pipeline:","\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Reflective/hierarchical (HRPO) or evolutionary to improve core instructions"}),"\n",(0,t.jsx)(n.li,{children:"Few-shot Bayesian to optimize demonstrations"}),"\n",(0,t.jsx)(n.li,{children:"Parameter tuning to stabilize style/variance and meet latency/cost constraints"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"a6-multimodal-prompt-optimization-images--text",children:"A6) Multimodal prompt optimization (images + text)"}),"\n",(0,t.jsx)(n.p,{children:"Multimodal agents take:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Image inputs"})," (e.g., dashcam frames)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Text inputs"})," (questions/instructions)"]}),"\n",(0,t.jsxs)(n.li,{children:["Produce ",(0,t.jsx)(n.strong,{children:"text outputs"})," (e.g., hazard descriptions)\nMultimodality raises difficulty because correctness depends on accurately grounding outputs in visual evidence and describing it consistently."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"b-principal-pains-and-practical-problems-encountered",children:"B. Principal Pains and Practical Problems Encountered"}),"\n",(0,t.jsx)(n.h4,{id:"b1-workshopsession-problems-operational--facilitation",children:"B1) Workshop/session problems (operational + facilitation)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Time zone mismatch reduces live attendance quality."}),"\n",(0,t.jsxs)(n.li,{children:["Startup friction:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Zoom connection issues"}),"\n",(0,t.jsx)(n.li,{children:"Screen sharing failures (multi-monitor confusion)"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Logistics questions interrupt technical flow."}),"\n",(0,t.jsx)(n.li,{children:"Early \u201cdeep technical\u201d derailments due to lack of conceptual alignment."}),"\n",(0,t.jsx)(n.li,{children:"High cognitive load in hands-on segments (tools + steps + Q&A at once)."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"b2-optimization-and-engineering-problems-technical",children:"B2) Optimization and engineering problems (technical)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"No dataset \u2192 no optimization"}),": teams want improvement without ground truth."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"No metric \u2192 no signal"}),": changes are judged by \u201cvibes.\u201d"]}),"\n",(0,t.jsx)(n.li,{children:"Hidden tradeoffs: gains in accuracy may increase cost/latency."}),"\n",(0,t.jsx)(n.li,{children:"Overfitting to small/clean datasets that don\u2019t represent production."}),"\n",(0,t.jsxs)(n.li,{children:["Tooling complexity:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Provider setup (API keys)"}),"\n",(0,t.jsx)(n.li,{children:"Version/environment issues"}),"\n",(0,t.jsx)(n.li,{children:"Multimodal data formatting and cost"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Non-determinism: outputs vary across runs; naive evals are unstable."}),"\n",(0,t.jsx)(n.li,{children:"Multilingual drift: improvements in one language/style can degrade perceived quality for non-native speakers."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"c-causes-of-common-errors-and-deviations-technical-diagnosis",children:"C. Causes of Common Errors and Deviations (Technical Diagnosis)"}),"\n",(0,t.jsx)(n.h4,{id:"c1-process-errors",children:"C1) Process errors"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Starting implementation before defining:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u201cWhat does success look like?\u201d"}),"\n",(0,t.jsx)(n.li,{children:"\u201cHow will we measure it?\u201d"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Iterating prompts manually without repeatable evals (\u201cdoom wordsmithing\u201d)."}),"\n",(0,t.jsx)(n.li,{children:"Changing too many variables at once (prompt + model + dataset + metric), breaking attribution."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"c2-data-and-evaluation-errors",children:"C2) Data and evaluation errors"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Non-representative datasets (too small, too idealized, not production-like)."}),"\n",(0,t.jsx)(n.li,{children:"No holdout/validation: training improvements don\u2019t generalize."}),"\n",(0,t.jsx)(n.li,{children:"Overfitting to dataset phrasing rather than task intent."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"c3-metric-errors",children:"C3) Metric errors"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Metric-task mismatch:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Character-level similarity (e.g., Levenshtein) penalizes correct paraphrases."}),"\n",(0,t.jsx)(n.li,{children:"Fast metrics can reward superficial closeness rather than semantic correctness."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Missing metric explanations:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Reflective optimizers need \u201cwhy this score\u201d to hypothesize and fix failure modes."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"c4-operational-and-facilitation-errors",children:"C4) Operational and facilitation errors"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"No pre-flight checks for recording/screen share."}),"\n",(0,t.jsx)(n.li,{children:"Letting logistics Q&A repeatedly interrupt technical depth."}),"\n",(0,t.jsx)(n.li,{children:"Skipping conceptual grounding and jumping into highly technical steps."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"d-solutions-best-practices-and-strategies",children:"D. Solutions, Best Practices, and Strategies"}),"\n",(0,t.jsx)(n.h4,{id:"d1-facilitation-strategy-for-optimization-workshops",children:"D1) Facilitation strategy for optimization workshops"}),"\n",(0,t.jsx)(n.p,{children:"Use a structured agenda:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Buffer + housekeeping"})," (2\u20135 min)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Conceptual grounding"})," (5\u201310 min)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hands-on optimization"})," (primary block)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Q&A checkpoints"})," (periodic)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Closeout"}),": follow-ups and resources channel (e.g., Discord)\nLogistics handling:"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Allow limited buffer for urgent logistics at the start."}),"\n",(0,t.jsx)(n.li,{children:"Route ongoing logistics to a dedicated channel (Discord/moderators).\nOperational readiness:"}),"\n",(0,t.jsx)(n.li,{children:"Test recording and screen share before the session begins."}),"\n",(0,t.jsx)(n.li,{children:"Prepare backup plan (rejoin meeting, share window instead of full screen, alternate host)."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"d2-build-an-eval-driven-optimization-loop-core-technical-workflow",children:"D2) Build an eval-driven optimization loop (core technical workflow)"}),"\n",(0,t.jsx)(n.p,{children:"A repeatable loop:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Define a ",(0,t.jsx)(n.strong,{children:"dataset"})," (inputs + expected behavior)"]}),"\n",(0,t.jsxs)(n.li,{children:["Define a ",(0,t.jsx)(n.strong,{children:"metric"})," (scoring rubric and constraints)"]}),"\n",(0,t.jsxs)(n.li,{children:["Run a ",(0,t.jsx)(n.strong,{children:"baseline"})," prompt/agent and record results"]}),"\n",(0,t.jsx)(n.li,{children:"Generate candidate prompts (human + optimizer)"}),"\n",(0,t.jsx)(n.li,{children:"Evaluate candidates on the same harness"}),"\n",(0,t.jsx)(n.li,{children:"Select the best under constraints (accuracy + speed + cost)"}),"\n",(0,t.jsx)(n.li,{children:"Iterate until target reached or budget exhausted"}),"\n",(0,t.jsxs)(n.li,{children:["Validate on ",(0,t.jsx)(n.strong,{children:"holdout/validation"})," to detect overfitting"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"d3-optimizer-selection-guidance",children:"D3) Optimizer selection guidance"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Meta-prompting"}),": fast setup, quick baseline improvements."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Genetic/evolutionary"}),": broad exploration; good when small phrasing changes matter."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Reflective/HRPO"}),": best for nuanced failure clusters and \u201clast mile\u201d improvements."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Few-shot Bayesian"}),": when selection and ordering of examples is a major performance lever."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Parameter tuning"}),": stabilize variance and style after instructions/examples are strong.\nBudget warning:"]}),"\n",(0,t.jsx)(n.li,{children:"More sophisticated optimizers typically increase API calls, tokens, and wall-clock time."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"d4-metric-strategy-fast-iteration-vs-semantic-correctness",children:"D4) Metric strategy (fast iteration vs semantic correctness)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.strong,{children:"fast metrics"})," early:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"regression detection"}),"\n",(0,t.jsx)(n.li,{children:"formatting/stability checks"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Upgrade to ",(0,t.jsx)(n.strong,{children:"semantic evals"})," for correctness:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"LLM-as-a-judge"})," with a strict rubric"]}),"\n",(0,t.jsx)(n.li,{children:"hybrid metrics (semantic + format + safety)"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Consider ",(0,t.jsx)(n.strong,{children:"multi-metric objectives"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"accuracy + cost + latency to prevent \u201caccurate but too expensive\u201d prompts"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"d5-production-readiness-strategy-safety-and-reproducibility",children:"D5) Production readiness strategy (safety and reproducibility)"}),"\n",(0,t.jsx)(n.p,{children:"Treat prompt optimization as controlled production change:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Use staging, monitoring, and rollback prompts."}),"\n",(0,t.jsx)(n.li,{children:"Keep prompt versioning, changelogs, and eval results history."}),"\n",(0,t.jsxs)(n.li,{children:["Build datasets from ",(0,t.jsx)(n.strong,{children:"production traces"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"convert traces into eval datasets or annotation queues"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Add human-in-the-loop review for safety-critical workflows.\nModel strategy:"}),"\n",(0,t.jsxs)(n.li,{children:["Use a ",(0,t.jsx)(n.strong,{children:"larger model"})," to generate candidate prompts (\u201cauthoring model\u201d)."]}),"\n",(0,t.jsxs)(n.li,{children:["Evaluate on the ",(0,t.jsx)(n.strong,{children:"target deployment model"})," (smaller/cheaper) for parity.\nMultilingual concerns:"]}),"\n",(0,t.jsx)(n.li,{children:"Ensure evals cover target languages."}),"\n",(0,t.jsx)(n.li,{children:"Use judges that understand the language or add human evaluation."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"e-what-should-be-done-dos",children:"E. What Should Be Done (Do\u2019s)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Start every workshop"})," with conceptual grounding (terms, scope, intended outcome)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Enable and test recording"}),"; ensure rewatchability for time zones."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Pre-flight check"})," (5\u201310 minutes before start):","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Zoom audio/video"}),"\n",(0,t.jsx)(n.li,{children:"correct monitor/window sharing"}),"\n",(0,t.jsx)(n.li,{children:"recording status"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Define success metrics upfront"})," (rubric, pass/fail rules, partial credit)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Build/curate a representative dataset"})," (typical + edge + adversarial cases)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Run and document a baseline"})," before optimization."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use train + validation (+ test)"})," splits; add a holdout set to detect overfitting."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Select an optimizer"})," based on:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"budget, failure complexity, exploration vs targeted fixes"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Log and version everything"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"prompt versions, scores, dataset versions, model/provider settings"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Constrain outputs"})," when consistency matters (schemas, bullet limits, citation rules)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use production traces"})," to keep evaluation realistic; build an annotation queue when needed."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Apply multi-metric gates"})," (accuracy must improve without breaking cost/latency)."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"f-what-should-not-be-done-donts",children:"F. What Should NOT Be Done (Don\u2019ts)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Don\u2019t"})," jump into technical implementation without aligning key concepts and goals."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Don\u2019t"})," rely only on live attendance; always provide recordings."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Don\u2019t"})," allow logistics Q&A to repeatedly interrupt technical flow (route it elsewhere)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Don\u2019t"})," optimize without a dataset or without a metric."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Don\u2019t"})," rely only on \u201cdoom wordsmithing\u201d (random manual edits) without evals."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Don\u2019t"})," ignore the ",(0,t.jsx)(n.strong,{children:"speed\u2013accuracy\u2013cost"})," triangle."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Don\u2019t"})," let optimizers run without guardrails:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"they may exploit metric loopholes or create brittle prompts"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Don\u2019t"})," assume gains on tiny samples generalize to production."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Don\u2019t"})," use only character-level similarity for semantic tasks in production-critical scenarios."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Don\u2019t"})," change prompt + model + metric + dataset simultaneously without tracking; you lose causal understanding."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Don\u2019t"})," treat experiment tracking as optional; without it, improvements are not reproducible."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"g-tools-tasks-and-recommended-actions",children:"G. Tools, Tasks, and Recommended Actions"}),"\n",(0,t.jsx)(n.h4,{id:"g1-tools-explicitly-referenced-or-strongly-implied",children:"G1) Tools (explicitly referenced or strongly implied)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Zoom"}),": live delivery, screen sharing, recording"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Discord"}),": async logistics, follow-ups, announcements"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Comet"}),": experiment tracking UI, dataset management, optimization studio"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"OPIK SDK"})," (Python): optimization/evaluation loops (multimodal demo)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"OPIC SDK / OPIC GitHub monorepo"}),": optimizer suite and algorithms"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"LLM providers"}),": OpenAI, Gemini, local models (e.g., Ollama)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"RAG + MCP servers/clients"}),": context/tool ecosystem patterns"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"g2-recommended-team-routines-practical",children:"G2) Recommended team routines (practical)"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Workshop runbook"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"setup checklist + agenda template + escalation channel for logistics"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Minimal eval harness"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"dataset loader"}),"\n",(0,t.jsx)(n.li,{children:"prompt runner"}),"\n",(0,t.jsx)(n.li,{children:"metric function (with explanation)"}),"\n",(0,t.jsx)(n.li,{children:"reporting dashboard"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Optimization experiments"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"meta-prompting run (N candidates \xd7 M trials)"}),"\n",(0,t.jsx)(n.li,{children:"genetic/evolutionary run (population, mutation operators, selection)"}),"\n",(0,t.jsx)(n.li,{children:"reflective/HRPO run (failure clustering, hypothesis generation)"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Budget controls"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"max trials, max tokens, max wall-clock time"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Acceptance gates"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u201cno merge if validation score drops\u201d"}),"\n",(0,t.jsx)(n.li,{children:"enforce latency/cost ceilings"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Trace-to-dataset pipeline"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"export 100\u2013500 production traces"}),"\n",(0,t.jsx)(n.li,{children:"label via annotation queue"}),"\n",(0,t.jsx)(n.li,{children:"iterate dataset quality before optimizing further"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Release checklist"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"staging rollout, monitoring KPIs, rollback prompt"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"g3-multimodal-data-preparation-when-applicable",children:"G3) Multimodal data preparation (when applicable)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Images/audio/video may require ",(0,t.jsx)(n.strong,{children:"Base64 encoding"})," in datasets."]}),"\n",(0,t.jsx)(n.li,{children:"Video can be token-heavy; plan budget and limits accordingly."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"2-practical-examples-reviewed-and-rewritten",children:"2) Practical Examples (Reviewed and Rewritten)"}),"\n",(0,t.jsx)(n.h3,{id:"example-1--handling-a-delayed-workshop-start-screen-sharing-issue",children:"Example 1 \u2014 Handling a delayed workshop start (screen sharing issue)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scenario:"})," Presenter cannot share the correct screen due to multi-monitor setup."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Recommended response:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Announce a brief delay and the cause (\u201cscreen share setup\u201d)."}),"\n",(0,t.jsxs)(n.li,{children:["Use the time for housekeeping:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"confirm recording is on,"}),"\n",(0,t.jsx)(n.li,{children:"ask attendees to post time zones in chat,"}),"\n",(0,t.jsx)(n.li,{children:"redirect logistics questions to Discord."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Resume with ",(0,t.jsx)(n.strong,{children:"conceptual grounding"})," once stable."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"example-2--preventing-early-technical-derailment",children:"Example 2 \u2014 Preventing early technical derailment"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scenario:"})," Participants immediately ask deep implementation questions (tool calling, optimizer internals) before definitions are aligned."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Recommended response:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Pause and define:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"agent vs prompt vs context vs eval,"}),"\n",(0,t.jsx)(n.li,{children:"the target metric and dataset,"}),"\n",(0,t.jsx)(n.li,{children:"success criteria and constraints."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Explicitly defer deep dives:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u201cWe\u2019ll go deep in a moment\u2014first we align on concepts and the evaluation loop.\u201d"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"example-3--meta-prompting-to-fix-inconsistent-formatting",children:"Example 3 \u2014 Meta-prompting to fix inconsistent formatting"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scenario:"})," A support chatbot fails JSON schema compliance ~30% of the time."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Approach:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Create an eval set of real formatting cases."}),"\n",(0,t.jsxs)(n.li,{children:["Use a meta-reasoner prompt to generate ~6 system-prompt variants:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"stricter schema instructions,"}),"\n",(0,t.jsx)(n.li,{children:"explicit formatting steps,"}),"\n",(0,t.jsx)(n.li,{children:"refusal conditions for missing fields."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Evaluate all candidates; select the best and iterate until compliance stabilizes."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"example-4--genetic-optimization-for-a-sensitive-classification-task",children:"Example 4 \u2014 Genetic optimization for a sensitive classification task"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scenario:"})," Ticket triage accuracy varies heavily with small prompt phrasing differences."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Approach:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Start from a parent prompt."}),"\n",(0,t.jsxs)(n.li,{children:["Generate a population of children via mutations:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"reorder priorities (labels first, then rules),"}),"\n",(0,t.jsx)(n.li,{children:"remove ambiguous wording,"}),"\n",(0,t.jsx)(n.li,{children:"tighten label definitions."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Evaluate all prompts; keep winners and discard losers."}),"\n",(0,t.jsx)(n.li,{children:"Inject fresh prompts periodically (including the original) to avoid premature convergence."}),"\n",(0,t.jsxs)(n.li,{children:["Maintain a ",(0,t.jsx)(n.strong,{children:"Hall of Fame"})," of best prompts/components."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"example-5--reflectivehrpo-optimizer-to-reduce-hallucinations-in-incomplete-context",children:"Example 5 \u2014 Reflective/HRPO optimizer to reduce hallucinations in incomplete context"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scenario:"})," An agent hallucinates when retrieval returns partial or irrelevant documents."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Approach:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Define a metric that penalizes hallucination and rewards:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"uncertainty statements,"}),"\n",(0,t.jsx)(n.li,{children:"citations/quotes from sources."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Reflective optimizer clusters failures:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"missing citations,"}),"\n",(0,t.jsx)(n.li,{children:"overconfident claims with no evidence."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Prompt changes:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u201cIf the answer is not supported by context, say \u2018I don\u2019t know\u2019 and ask for clarification.\u201d"}),"\n",(0,t.jsx)(n.li,{children:"require quoting or citing retrieved passages."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Re-run eval until hallucination rate drops on validation."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"example-6--multimodal-hazard-detection-optimization-comet--opik",children:"Example 6 \u2014 Multimodal hazard detection optimization (Comet + OPIK)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scenario:"})," Dashcam hazard detector gives generic driving advice instead of image-grounded hazards."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Dataset pattern:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"image + question \u2192 reference hazard annotation"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Metric approach (fast demo metric):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Levenshtein ratio vs reference text (fast but not semantic)"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Reflective prompt improvements:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u201cOnly describe hazards visible or strongly implied by the image; do not provide general driving advice.\u201d"}),"\n",(0,t.jsx)(n.li,{children:"Output constraint: \u201cReturn 1\u20133 bullet points, each a hazard statement.\u201d"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Validation caution:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Small subsets can cause high variance and overfitting; confirm improvements on validation/test and consider LLM-judge for semantic correctness."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"example-7--intent-engineering-for-a-safety-sensitive-conversational-assistant",children:"Example 7 \u2014 Intent engineering for a safety-sensitive conversational assistant"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scenario:"})," Build an empathetic therapy-style assistant with safety protocols."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Intent-first approach:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Create a dataset of ideal conversations:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"anxiety \u2192 validation + grounding exercise"}),"\n",(0,t.jsx)(n.li,{children:"self-harm \u2192 safety protocol and resources"}),"\n",(0,t.jsx)(n.li,{children:"diagnosis request \u2192 refuse diagnosis, provide guidance/resources"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Define eval rubric:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"empathy markers, safety compliance, refusal correctness"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Optimize prompts:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"meta-prompting for quick gains"}),"\n",(0,t.jsx)(n.li,{children:"reflective optimizer for recurring failures (too clinical, insufficient validation)"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Add holdout eval set to avoid overfitting to scripted examples."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"3-conclusion-and-practical-application",children:"3) Conclusion and Practical Application"}),"\n",(0,t.jsxs)(n.p,{children:["Agent/prompt optimization becomes reliable only when treated as an engineering discipline: ",(0,t.jsx)(n.strong,{children:"dataset + metric + iterative eval loop + controlled changes"}),". Operationally, successful workshops require ",(0,t.jsx)(n.strong,{children:"conceptual grounding"}),", tested ",(0,t.jsx)(n.strong,{children:"recording/screen-sharing"}),", and clear boundaries between logistics and technical work. Technically, improvements should be driven by ",(0,t.jsx)(n.strong,{children:"evals"})," and chosen optimizers (meta-prompting, genetic/evolutionary, reflective/HRPO, few-shot Bayesian, parameter tuning), with explicit management of the ",(0,t.jsx)(n.strong,{children:"speed\u2013accuracy\u2013cost"})," tradeoff. In day-to-day practice, start with a minimal eval harness and baseline, run low-budget optimization, validate on holdout data, and ship through a controlled release process with monitoring and rollback.\n",(0,t.jsx)(n.strong,{children:"Next steps"})]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Build a reusable ",(0,t.jsx)(n.strong,{children:"workshop runbook"})," (checklist + agenda + support channels)."]}),"\n",(0,t.jsxs)(n.li,{children:["Implement a minimal ",(0,t.jsx)(n.strong,{children:"eval harness"})," for one real agent flow and record baseline metrics."]}),"\n",(0,t.jsxs)(n.li,{children:["Run ",(0,t.jsx)(n.strong,{children:"meta-prompting"})," to capture quick wins, then escalate to ",(0,t.jsx)(n.strong,{children:"reflective/HRPO"})," or ",(0,t.jsx)(n.strong,{children:"genetic"})," as needed."]}),"\n",(0,t.jsxs)(n.li,{children:["Add ",(0,t.jsx)(n.strong,{children:"few-shot selection"})," and ",(0,t.jsx)(n.strong,{children:"parameter tuning"})," once prompt structure is stable."]}),"\n",(0,t.jsxs)(n.li,{children:["Upgrade metrics to ",(0,t.jsx)(n.strong,{children:"LLM-judge + rubric"})," (and human review where required), and enforce ",(0,t.jsx)(n.strong,{children:"multi-metric gates"})," (accuracy + cost + latency)."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"glossary-key-terms",children:"Glossary (Key Terms)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Agent"}),": An LLM-based system that may use tools (APIs, retrieval, MCP) to complete tasks."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Agent optimization"}),": Improving an agent\u2019s effectiveness through systematic iteration using datasets and metrics."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Conceptual grounding"}),": A short theory-based alignment step to ensure shared definitions, goals, and assumptions."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Context engineering"}),": Supplying relevant context via retrieval/tools/memory/long context windows (e.g., RAG, MCP)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Intent engineering"}),": Defining desired outputs/behaviors first (examples), then optimizing backward toward them."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Eval (evaluation)"}),": Automated testing of prompts/agents against a dataset using a metric/rubric."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Metric / reward function"}),": A scoring function used to judge outputs (accuracy, hallucination, cost, latency, etc.)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Meta-prompting (meta-reasoner)"}),": Using an LLM to generate improved prompts for another task."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Genetic / evolutionary optimization"}),": Population-based search over prompts via mutation and selection."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Mutation"}),": A change applied to a prompt to create variation (remove/reorder/replace text)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hall of Fame"}),": A retained set of top-performing prompts/components across generations."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Reflective / hierarchical optimizer (HRPO)"}),": Optimizer that diagnoses failure patterns, forms hypotheses, and proposes targeted fixes."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Few-shot Bayesian optimizer"}),": Method for selecting and ordering few-shot examples to include in prompts."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Parameter optimization"}),": Tuning inference parameters like temperature/top_p/top_k to manage variability and style."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"LLM-as-a-judge"}),": Using an LLM to grade another model\u2019s output against a rubric/reference."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Levenshtein ratio"}),": Character-level similarity score based on edit distance (fast, but not semantic)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Overfitting"}),": Improvements on training data that don\u2019t generalize to validation/test."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"MCP (Model Context Protocol)"}),": Tool ecosystem pattern (servers/clients) enabling models to access external capabilities."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"RAG (Retrieval-Augmented Generation)"}),": Retrieval system that injects documents into context to ground responses."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"review-questions-knowledge-check",children:"Review Questions (Knowledge Check)"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Why is ",(0,t.jsx)(n.strong,{children:"conceptual grounding"})," important before hands-on optimization in a workshop?"]}),"\n",(0,t.jsxs)(n.li,{children:["What are the three constraints in the ",(0,t.jsx)(n.strong,{children:"speed\u2013accuracy\u2013cost"})," triangle, and why do they conflict?"]}),"\n",(0,t.jsxs)(n.li,{children:["What are the minimum components of an ",(0,t.jsx)(n.strong,{children:"eval-driven optimization loop"}),"?"]}),"\n",(0,t.jsxs)(n.li,{children:["When would you choose ",(0,t.jsx)(n.strong,{children:"meta-prompting"})," vs ",(0,t.jsx)(n.strong,{children:"genetic optimization"})," vs ",(0,t.jsx)(n.strong,{children:"reflective/HRPO"}),"?"]}),"\n",(0,t.jsxs)(n.li,{children:["Why can ",(0,t.jsx)(n.strong,{children:"Levenshtein ratio"})," be misleading for semantic tasks, and what should you use instead?"]}),"\n",(0,t.jsxs)(n.li,{children:["What does it mean to ",(0,t.jsx)(n.strong,{children:"chain optimizers"}),", and what reminder should guide the order (instructions \u2192 examples \u2192 parameters)?"]}),"\n",(0,t.jsxs)(n.li,{children:["Why are ",(0,t.jsx)(n.strong,{children:"validation/holdout sets"})," necessary during prompt optimization?"]}),"\n",(0,t.jsx)(n.li,{children:"What operational checklist items should be validated before running a live interactive workshop?"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"suggested-further-reading--resources",children:"Suggested Further Reading / Resources"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Facilitation & workshop design"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Atlassian Team Playbook (facilitation patterns and team rituals): ",(0,t.jsx)(n.a,{href:"https://www.atlassian.com/team-playbook",children:"https://www.atlassian.com/team-playbook"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Evals and LLM testing"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["OpenAI Evals (conceptual reference): ",(0,t.jsx)(n.a,{href:"https://github.com/openai/evals",children:"https://github.com/openai/evals"})]}),"\n",(0,t.jsxs)(n.li,{children:["LangChain evaluation guides: ",(0,t.jsx)(n.a,{href:"https://python.langchain.com/docs/guides/evaluation/",children:"https://python.langchain.com/docs/guides/evaluation/"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Agent systems and tool use"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["OpenAI documentation (agents/tooling concepts): ",(0,t.jsx)(n.a,{href:"https://platform.openai.com/docs/",children:"https://platform.openai.com/docs/"})]}),"\n",(0,t.jsxs)(n.li,{children:["Anthropic documentation (tool use and agent patterns): ",(0,t.jsx)(n.a,{href:"https://docs.anthropic.com/",children:"https://docs.anthropic.com/"})]}),"\n",(0,t.jsxs)(n.li,{children:["LangChain agent patterns and evaluation tooling: ",(0,t.jsx)(n.a,{href:"https://python.langchain.com/docs/",children:"https://python.langchain.com/docs/"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"RAG learning resources"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Pinecone RAG guides: ",(0,t.jsx)(n.a,{href:"https://www.pinecone.io/learn/",children:"https://www.pinecone.io/learn/"})]}),"\n",(0,t.jsxs)(n.li,{children:["Weaviate RAG resources: ",(0,t.jsx)(n.a,{href:"https://weaviate.io/developers/weaviate",children:"https://weaviate.io/developers/weaviate"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Experiment tracking"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Comet platform: ",(0,t.jsx)(n.a,{href:"https://www.comet.com/",children:"https://www.comet.com/"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8226(e){e.exports=JSON.parse('{"permalink":"/fr/blog/opik-workshop-2","editUrl":"https://github.com/locki-io/docs.locki.io/tree/main/blog/2026-01-15-opik-workshop-2.mdx","source":"@site/blog/2026-01-15-opik-workshop-2.mdx","title":"OPIK : Agent & Prompt Optimization for LLM Systems","description":"This training consolidates the operational and technical foundations needed to run and execute agent/prompt optimization in team settings (e.g., hackathons and internal workshops).","date":"2026-01-15T00:00:00.000Z","tags":[{"inline":false,"label":"AI and Machine Learning","permalink":"/fr/blog/tags/ai-ml","description":"Articles on AI, machine learning, and related technologies"},{"inline":false,"label":"RAG","permalink":"/fr/blog/tags/rag","description":"Retrieval-Augmented Generation topics"},{"inline":false,"label":"Encode hackathon","permalink":"/fr/blog/tags/encode","description":"Information from the Encode hackathon"}],"readingTime":15.53,"hasTruncateMarker":true,"authors":[{"name":"Jean-No\xebl Schilling","title":"Locki one / french maintainer","url":"https://github.com/jnschilling","socials":{"linkedin":"https://www.linkedin.com/in/jnschilling/","github":"https://github.com/jnschilling","newsletter":"https://www.stratej.fr"},"imageURL":"https://github.com/jnschilling.png","key":"jnxmas","page":null}],"frontMatter":{"slug":"opik-workshop-2","title":"OPIK : Agent & Prompt Optimization for LLM Systems","authors":["jnxmas"],"tags":["ai-ml","rag","encode"]},"unlisted":false,"prevItem":{"title":"\xd2 Capistaine Kick-off","permalink":"/fr/blog/ocapistaine-hackathon-kickoff"},"nextItem":{"title":"OPIK : AI Evaluation and Observability","permalink":"/fr/blog/opik-workshop-1"}}')},8453(e,n,i){i.d(n,{R:()=>l,x:()=>o});var s=i(6540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);