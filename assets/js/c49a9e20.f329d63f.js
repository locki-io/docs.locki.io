"use strict";(globalThis.webpackChunkdocs_locki_io=globalThis.webpackChunkdocs_locki_io||[]).push([[5992],{6665(e,s,n){n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"app/scheduler/tasks/TASK_PROMPT_SYNC","title":"Task: Prompt Sync","description":"File: app/services/tasks/taskpromptsync.py","source":"@site/docs/app/scheduler/tasks/TASK_PROMPT_SYNC.md","sourceDirName":"app/scheduler/tasks","slug":"/app/scheduler/tasks/TASK_PROMPT_SYNC","permalink":"/docs/app/scheduler/tasks/TASK_PROMPT_SYNC","draft":false,"unlisted":false,"editUrl":"https://github.com/locki-io/docs.locki.io/tree/main/docs/app/scheduler/tasks/TASK_PROMPT_SYNC.md","tags":[],"version":"current","frontMatter":{}}');var i=n(4848),t=n(8453);const o={},c="Task: Prompt Sync",l={},a=[{value:"Purpose",id:"purpose",level:2},{value:"What It Does",id:"what-it-does",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Manual Run",id:"manual-run",level:2},{value:"Success Keys",id:"success-keys",level:2},{value:"Related",id:"related",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"task-prompt-sync",children:"Task: Prompt Sync"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"File:"})," ",(0,i.jsx)(s.code,{children:"app/services/tasks/task_prompt_sync.py"}),"\n",(0,i.jsx)(s.strong,{children:"Schedule:"})," ",(0,i.jsx)(s.code,{children:"0 0 * * *"})," (Daily at midnight)"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"purpose",children:"Purpose"}),"\n",(0,i.jsx)(s.p,{children:"Synchronizes local prompt templates to the Opik platform for:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Version tracking and history"}),"\n",(0,i.jsx)(s.li,{children:"A/B testing in Opik prompt studio"}),"\n",(0,i.jsx)(s.li,{children:"Collaborative prompt optimization"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"what-it-does",children:"What It Does"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Syncs Individual Prompts"})," (",(0,i.jsx)(s.code,{children:"forseti.*"}),")"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Charter validation prompt"}),"\n",(0,i.jsx)(s.li,{children:"Category classification prompt"}),"\n",(0,i.jsx)(s.li,{children:"Wording correction prompt"}),"\n",(0,i.jsxs)(s.li,{children:["Synced as ",(0,i.jsx)(s.code,{children:"text"})," type"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Syncs Composite Prompts"})," (",(0,i.jsx)(s.code,{children:"forseti-persona-*"}),")"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Combines system + user prompts"}),"\n",(0,i.jsx)(s.li,{children:"Used for playground testing"}),"\n",(0,i.jsxs)(s.li,{children:["Synced as ",(0,i.jsx)(s.code,{children:"chat"})," type (messages array)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:'# In app/prompts/opik_sync.py\nCOMPOSITE_PROMPTS = {\n    "forseti-persona-wording": {\n        "system": "forseti.system",\n        "user": "forseti.wording_correction",\n    },\n    "forseti-persona-category": {\n        "system": "forseti.system",\n        "user": "forseti.category_classification",\n    },\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"manual-run",children:"Manual Run"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Via scheduler\npython -c \"from app.services.scheduler import run_task_now; print(run_task_now('task_prompt_sync'))\"\n\n# Via CLI\npython -m app.prompts.opik_sync --all\n"})}),"\n",(0,i.jsx)(s.h2,{id:"success-keys",children:"Success Keys"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"success:task_prompt_sync:YYYYMMDD\n"})}),"\n",(0,i.jsx)(s.h2,{id:"related",children:"Related"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"/docs/app/core/prompts",children:"Prompt Management"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"../../opik/",children:"Opik Integration"})}),"\n"]})]})}function p(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,s,n){n.d(s,{R:()=>o,x:()=>c});var r=n(6540);const i={},t=r.createContext(i);function o(e){const s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);