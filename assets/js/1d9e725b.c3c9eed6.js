"use strict";(globalThis.webpackChunkdocs_locki_io=globalThis.webpackChunkdocs_locki_io||[]).push([[3428],{6585(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"app/CORS_STRATEGY","title":"Dynamic CORS Strategy for OCapistaine","description":"Overview","source":"@site/docs/app/CORS_STRATEGY.md","sourceDirName":"app","slug":"/app/CORS_STRATEGY","permalink":"/docs/app/CORS_STRATEGY","draft":false,"unlisted":false,"editUrl":"https://github.com/locki-io/docs.locki.io/tree/main/docs/app/CORS_STRATEGY.md","tags":[],"version":"current","frontMatter":{},"sidebar":"appSidebar","previous":{"title":"Streamlit Quick Start - Fix 403 WebSocket Error","permalink":"/docs/app/STREAMLIT_QUICKSTART"},"next":{"title":"OCapistaine Scheduler Service","permalink":"/docs/app/scheduler/"}}');var s=i(4848),t=i(8453);const l={},o="Dynamic CORS Strategy for OCapistaine",c={},d=[{value:"Overview",id:"overview",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Automatic Origin Detection",id:"automatic-origin-detection",level:3},{value:"Configuration Files",id:"configuration-files",level:3},{value:"Quick Start",id:"quick-start",level:2},{value:"1. Set Your Ngrok Domain",id:"1-set-your-ngrok-domain",level:3},{value:"2. Start Streamlit",id:"2-start-streamlit",level:3},{value:"3. Verify Configuration",id:"3-verify-configuration",level:3},{value:"Environment Variables Reference",id:"environment-variables-reference",level:2},{value:"Required",id:"required",level:3},{value:"Optional",id:"optional",level:3},{value:"Auto-Generated (by set_streamlit_env.py)",id:"auto-generated-by-set_streamlit_envpy",level:3},{value:"Architecture",id:"architecture",level:2},{value:"Flow Diagram",id:"flow-diagram",level:3},{value:"Script Logic (<code>set_streamlit_env.py</code>)",id:"script-logic-set_streamlit_envpy",level:3},{value:"Benefits",id:"benefits",level:2},{value:"1. <strong>No Hardcoded Domains</strong>",id:"1-no-hardcoded-domains",level:3},{value:"2. <strong>Automatic Ngrok Integration</strong>",id:"2-automatic-ngrok-integration",level:3},{value:"3. <strong>Environment-Aware</strong>",id:"3-environment-aware",level:3},{value:"4. <strong>Single Source of Truth</strong>",id:"4-single-source-of-truth",level:3},{value:"5. <strong>VS Code Integration</strong>",id:"5-vs-code-integration",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"CORS Errors Still Occurring",id:"cors-errors-still-occurring",level:3},{value:"Ngrok Domain Not Included",id:"ngrok-domain-not-included",level:3},{value:"WebSocket Connection Failing",id:"websocket-connection-failing",level:3},{value:"Production Deployment",id:"production-deployment",level:2},{value:"Docker Compose",id:"docker-compose",level:3},{value:"Systemd Service",id:"systemd-service",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Development vs Production",id:"development-vs-production",level:3},{value:"XSRF Protection",id:"xsrf-protection",level:3},{value:"Related Documentation",id:"related-documentation",level:2},{value:"References",id:"references",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"dynamic-cors-strategy-for-ocapistaine",children:"Dynamic CORS Strategy for OCapistaine"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:["OCapistaine uses a ",(0,s.jsx)(n.strong,{children:"dynamic, environment-based CORS configuration"})," that automatically adapts to your development and production environments. This eliminates hardcoded domain lists and seamlessly integrates with your fixed ngrok domain."]}),"\n",(0,s.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,s.jsx)(n.h3,{id:"automatic-origin-detection",children:"Automatic Origin Detection"}),"\n",(0,s.jsx)(n.p,{children:"The system automatically includes these origins:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Localhost"})," - Always included for development"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"http://localhost:8502"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"http://127.0.0.1:8502"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Ngrok Domain"})," - Automatically included if ",(0,s.jsx)(n.code,{children:"NGROK_DOMAIN"})," is set in ",(0,s.jsx)(n.code,{children:".env"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Example: ",(0,s.jsx)(n.code,{children:"https://ocapistaine.ngrok-free.app"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Production Domains"})," - Hardcoded trusted domains"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"https://ocapistaine.vaettir.locki.io"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"https://vaettir.locki.io"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Custom Origins"})," - Optional via ",(0,s.jsx)(n.code,{children:"STREAMLIT_CUSTOM_ORIGINS"})," environment variable"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"configuration-files",children:"Configuration Files"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:".streamlit/config.toml          # Base Streamlit config (minimal)\n.env                            # Your environment configuration\nscripts/set_streamlit_env.py   # Dynamic CORS generator\nscripts/run_streamlit.sh        # Convenience launcher\n"})}),"\n",(0,s.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,s.jsx)(n.h3,{id:"1-set-your-ngrok-domain",children:"1. Set Your Ngrok Domain"}),"\n",(0,s.jsxs)(n.p,{children:["Edit ",(0,s.jsx)(n.code,{children:".env"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"NGROK_DOMAIN=ocapistaine.ngrok-free.app\nSTREAMLIT_PORT=8502\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-start-streamlit",children:"2. Start Streamlit"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Option A: Use the convenience script (recommended)"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./scripts/run_streamlit.sh\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Option B: Manual setup"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"eval $(python scripts/set_streamlit_env.py)\nstreamlit run app/front.py\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Option C: VS Code Task"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Press ",(0,s.jsx)(n.code,{children:"Cmd+Shift+P"}),' \u2192 "Tasks: Run Task"']}),"\n",(0,s.jsx)(n.li,{children:'Select "Start Streamlit (with CORS)"'}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-verify-configuration",children:"3. Verify Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Check the console output:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\ud83c\udfdb\ufe0f  Starting OCapistaine Streamlit App\n\n\u2713 Loaded .env configuration\n\ud83d\udd27 Configuring CORS...\n# Configured allowed origins:\n#   - http://localhost:8502\n#   - http://127.0.0.1:8502\n#   - https://ocapistaine.ngrok-free.app\n#   - https://ocapistaine.vaettir.locki.io\n#   - https://vaettir.locki.io\n\n\u2713 Streamlit will run on: http://localhost:8502\n\u2713 Ngrok domain: https://ocapistaine.ngrok-free.app\n"})}),"\n",(0,s.jsx)(n.h2,{id:"environment-variables-reference",children:"Environment Variables Reference"}),"\n",(0,s.jsx)(n.h3,{id:"required",children:"Required"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Variable"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Example"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"STREAMLIT_PORT"})}),(0,s.jsx)(n.td,{children:"Port for Streamlit server"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"8502"})})]})})]}),"\n",(0,s.jsx)(n.h3,{id:"optional",children:"Optional"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Variable"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Example"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"NGROK_DOMAIN"})}),(0,s.jsx)(n.td,{children:"Fixed ngrok domain (no protocol)"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ocapistaine.ngrok-free.app"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"STREAMLIT_CUSTOM_ORIGINS"})}),(0,s.jsx)(n.td,{children:"Comma-separated additional origins"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"https://custom.com,https://other.com"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"STREAMLIT_BROWSER_SERVER_ADDRESS"})}),(0,s.jsx)(n.td,{children:"Public domain for browser config"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ocapistaine.vaettir.locki.io"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"STREAMLIT_BROWSER_SERVER_PORT"})}),(0,s.jsx)(n.td,{children:"Public port"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"443"})})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"auto-generated-by-set_streamlit_envpy",children:"Auto-Generated (by set_streamlit_env.py)"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Variable"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"STREAMLIT_SERVER_ALLOWED_ORIGINS"})}),(0,s.jsx)(n.td,{children:"Comma-separated list of all allowed origins"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"STREAMLIT_SERVER_ENABLE_CORS"})}),(0,s.jsxs)(n.td,{children:["Always set to ",(0,s.jsx)(n.code,{children:"true"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"STREAMLIT_SERVER_ENABLE_XSRF_PROTECTION"})}),(0,s.jsxs)(n.td,{children:["Set to ",(0,s.jsx)(n.code,{children:"false"})," (behind trusted proxy)"]})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,s.jsx)(n.h3,{id:"flow-diagram",children:"Flow Diagram"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:".env (NGROK_DOMAIN, STREAMLIT_PORT)\n  \u2193\nset_streamlit_env.py\n  \u2193 generates\nEnvironment Variables (STREAMLIT_SERVER_ALLOWED_ORIGINS, etc.)\n  \u2193 used by\nStreamlit App (app/front.py)\n  \u2193 accepts\nRequests from Allowed Origins\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"script-logic-set_streamlit_envpy",children:["Script Logic (",(0,s.jsx)(n.code,{children:"set_streamlit_env.py"}),")"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'def build_allowed_origins():\n    origins = []\n\n    # 1. Add localhost\n    origins.append(f"http://localhost:{STREAMLIT_PORT}")\n\n    # 2. Add ngrok domain if set\n    if NGROK_DOMAIN:\n        origins.append(f"https://{NGROK_DOMAIN}")\n\n    # 3. Add production domains\n    origins.extend(PRODUCTION_DOMAINS)\n\n    # 4. Add custom origins\n    if STREAMLIT_CUSTOM_ORIGINS:\n        origins.extend(custom_origins.split(","))\n\n    return unique(origins)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"benefits",children:"Benefits"}),"\n",(0,s.jsxs)(n.h3,{id:"1-no-hardcoded-domains",children:["1. ",(0,s.jsx)(n.strong,{children:"No Hardcoded Domains"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"All origins are generated from environment configuration"}),"\n",(0,s.jsx)(n.li,{children:"Easy to update without code changes"}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"2-automatic-ngrok-integration",children:["2. ",(0,s.jsx)(n.strong,{children:"Automatic Ngrok Integration"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Setting ",(0,s.jsx)(n.code,{children:"NGROK_DOMAIN"})," automatically adds it to allowed origins"]}),"\n",(0,s.jsx)(n.li,{children:"No need to manually update CORS config when ngrok domain changes"}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"3-environment-aware",children:["3. ",(0,s.jsx)(n.strong,{children:"Environment-Aware"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Development: Includes localhost"}),"\n",(0,s.jsx)(n.li,{children:"Production: Includes vaettir.locki.io"}),"\n",(0,s.jsx)(n.li,{children:"Testing: Easy to add custom domains"}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"4-single-source-of-truth",children:["4. ",(0,s.jsx)(n.strong,{children:"Single Source of Truth"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["All configuration in ",(0,s.jsx)(n.code,{children:".env"})," file"]}),"\n",(0,s.jsx)(n.li,{children:"No need to sync multiple config files"}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"5-vs-code-integration",children:["5. ",(0,s.jsx)(n.strong,{children:"VS Code Integration"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Tasks preconfigured for easy launching"}),"\n",(0,s.jsx)(n.li,{children:"One-click start with correct CORS config"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"cors-errors-still-occurring",children:"CORS Errors Still Occurring"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Check allowed origins:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'python scripts/set_streamlit_env.py\n# Look at the "Configured allowed origins" output\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Verify environment variables:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"echo $STREAMLIT_SERVER_ALLOWED_ORIGINS\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Test with wildcard (development only):"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'export STREAMLIT_SERVER_ALLOWED_ORIGINS="*"\nstreamlit run app/front.py\n'})}),"\n",(0,s.jsx)(n.h3,{id:"ngrok-domain-not-included",children:"Ngrok Domain Not Included"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Check ",(0,s.jsx)(n.code,{children:".env"})," file:"]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"grep NGROK_DOMAIN .env\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Ensure no protocol prefix:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u2713 Correct\nNGROK_DOMAIN=ocapistaine.ngrok-free.app\n\n# \u2717 Incorrect\nNGROK_DOMAIN=https://ocapistaine.ngrok-free.app\n"})}),"\n",(0,s.jsx)(n.h3,{id:"websocket-connection-failing",children:"WebSocket Connection Failing"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Check browser console:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"F12 \u2192 Network tab \u2192 Filter: WS"}),"\n",(0,s.jsxs)(n.li,{children:["Look for ",(0,s.jsx)(n.code,{children:"/_stcore/stream"})," connection"]}),"\n",(0,s.jsxs)(n.li,{children:["Should show ",(0,s.jsx)(n.code,{children:"101 Switching Protocols"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Verify proxy configuration:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Check that proxy supports WebSocket upgrade\ncurl -I https://ocapistaine.vaettir.locki.io/_stcore/health\n"})}),"\n",(0,s.jsx)(n.h2,{id:"production-deployment",children:"Production Deployment"}),"\n",(0,s.jsx)(n.h3,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'services:\n  streamlit:\n    build: .\n    ports:\n      - "8502:8502"\n    environment:\n      - NGROK_DOMAIN=${NGROK_DOMAIN}\n      - STREAMLIT_PORT=8502\n      - STREAMLIT_CUSTOM_ORIGINS=${CUSTOM_ORIGINS}\n    command: bash scripts/run_streamlit.sh\n'})}),"\n",(0,s.jsx)(n.h3,{id:"systemd-service",children:"Systemd Service"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",children:"[Unit]\nDescription=OCapistaine Streamlit App\nAfter=network.target\n\n[Service]\nType=simple\nUser=<user>\nWorkingDirectory=/home/<user>/ocapistaine\nEnvironmentFile=/home/<user>/ocapistaine/.env\nExecStart=/home/<user>/ocapistaine/scripts/run_streamlit.sh\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,s.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,s.jsx)(n.h3,{id:"development-vs-production",children:"Development vs Production"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Development"})," (",(0,s.jsx)(n.code,{children:".env.development"}),"):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"STREAMLIT_CUSTOM_ORIGINS=http://localhost:*\n# Or use wildcard for testing\n# STREAMLIT_SERVER_ALLOWED_ORIGINS=*\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Production"})," (",(0,s.jsx)(n.code,{children:".env.production"}),"):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Only specific, trusted domains\nNGROK_DOMAIN=ocapistaine.ngrok-free.app\n# No wildcards, no HTTP (only HTTPS)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"xsrf-protection",children:"XSRF Protection"}),"\n",(0,s.jsxs)(n.p,{children:["Currently disabled (",(0,s.jsx)(n.code,{children:"enableXsrfProtection = false"}),") because:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"App is behind Traefik proxy with HTTPS"}),"\n",(0,s.jsx)(n.li,{children:"No authentication/session management yet"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Enable in production when adding auth:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-toml",children:'[server]\nenableXsrfProtection = true\ncookieSecret = "your-32-char-secret-key"\n'})}),"\n",(0,s.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/app/STREAMLIT_SETUP",children:"Streamlit Setup Guide"})," - Full setup instructions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/orchestration/PROXY_MANAGEMENT",children:"Proxy Configuration"})," - Vaettir proxy setup"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/orchestration/DEVELOPMENT",children:"Development Workflow"})," - Complete dev workflow"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.streamlit.io/develop/api-reference/configuration/config.toml#server",children:"Streamlit CORS Configuration"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.streamlit.io/develop/concepts/architecture/app-chrome#streamlit-behind-a-reverse-proxy",children:"Streamlit Behind Proxy"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.streamlit.io/develop/api-reference/configuration/config.toml#environment-variables",children:"Environment Variables in Streamlit"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453(e,n,i){i.d(n,{R:()=>l,x:()=>o});var r=i(6540);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);