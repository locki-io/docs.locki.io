"use strict";(globalThis.webpackChunkdocs_locki_io=globalThis.webpackChunkdocs_locki_io||[]).push([[700],{4562(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"app/I18N","title":"Internationalization (i18n)","description":"OCapistaine supports multiple languages through a simple JSON-based translation system.","source":"@site/docs/app/I18N.md","sourceDirName":"app","slug":"/app/I18N","permalink":"/docs/app/I18N","draft":false,"unlisted":false,"editUrl":"https://github.com/locki-io/docs.locki.io/tree/main/docs/app/I18N.md","tags":[],"version":"current","frontMatter":{},"sidebar":"appSidebar","previous":{"title":"Prompt Management Architecture","permalink":"/docs/app/core/prompts"},"next":{"title":"Logging System","permalink":"/docs/app/LOGGING"}}');var a=s(4848),t=s(8453);const l={},r="Internationalization (i18n)",d={},c=[{value:"Supported Languages",id:"supported-languages",level:2},{value:"File Structure",id:"file-structure",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Translation",id:"basic-translation",level:3},{value:"Language Selector Widget",id:"language-selector-widget",level:3},{value:"Check Current Language",id:"check-current-language",level:3},{value:"Adding a New Translation Key",id:"adding-a-new-translation-key",level:2},{value:"Step 1: Add to French translations",id:"step-1-add-to-french-translations",level:3},{value:"Step 2: Add to English translations",id:"step-2-add-to-english-translations",level:3},{value:"Step 3: Use in code",id:"step-3-use-in-code",level:3},{value:"Adding Format Variables",id:"adding-format-variables",level:2},{value:"Adding a New Language",id:"adding-a-new-language",level:2},{value:"Step 1: Create translation file",id:"step-1-create-translation-file",level:3},{value:"Step 2: Register the language",id:"step-2-register-the-language",level:3},{value:"Key Naming Conventions",id:"key-naming-conventions",level:2},{value:"Fallback Behavior",id:"fallback-behavior",level:2},{value:"Translation Files Reference",id:"translation-files-reference",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"internationalization-i18n",children:"Internationalization (i18n)"})}),"\n",(0,a.jsx)(n.p,{children:"OCapistaine supports multiple languages through a simple JSON-based translation system."}),"\n",(0,a.jsx)(n.h2,{id:"supported-languages",children:"Supported Languages"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Code"}),(0,a.jsx)(n.th,{children:"Language"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"fr"})}),(0,a.jsx)(n.td,{children:"Fran\xe7ais (default)"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"en"})}),(0,a.jsx)(n.td,{children:"English"})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"file-structure",children:"File Structure"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"app/\n\u251c\u2500\u2500 i18n.py                    # Translation utilities\n\u2514\u2500\u2500 translations/\n    \u251c\u2500\u2500 fr.json                # French translations\n    \u2514\u2500\u2500 en.json                # English translations\n"})}),"\n",(0,a.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(n.h3,{id:"basic-translation",children:"Basic Translation"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'from app.i18n import _\n\n# Simple key lookup\nst.title(_("app_title"))\n\n# With format variables\nst.caption(_("sidebar_session_id", user_id="abc123"))\n# Output: "ID: `abc123...`"\n'})}),"\n",(0,a.jsx)(n.h3,{id:"language-selector-widget",children:"Language Selector Widget"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from app.i18n import language_selector\n\n# Place in sidebar\nwith st.sidebar:\n    language_selector()\n"})}),"\n",(0,a.jsx)(n.h3,{id:"check-current-language",children:"Check Current Language"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'from app.i18n import get_language, set_language\n\nlang = get_language()  # Returns "fr" or "en"\nset_language("en")     # Switch to English\n'})}),"\n",(0,a.jsx)(n.h2,{id:"adding-a-new-translation-key",children:"Adding a New Translation Key"}),"\n",(0,a.jsx)(n.h3,{id:"step-1-add-to-french-translations",children:"Step 1: Add to French translations"}),"\n",(0,a.jsxs)(n.p,{children:["Edit ",(0,a.jsx)(n.code,{children:"app/translations/fr.json"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "existing_key": "Texte existant",\n  "my_new_key": "Mon nouveau texte en fran\xe7ais"\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"step-2-add-to-english-translations",children:"Step 2: Add to English translations"}),"\n",(0,a.jsxs)(n.p,{children:["Edit ",(0,a.jsx)(n.code,{children:"app/translations/en.json"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "existing_key": "Existing text",\n  "my_new_key": "My new text in English"\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"step-3-use-in-code",children:"Step 3: Use in code"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'from app.i18n import _\n\nst.write(_("my_new_key"))\n'})}),"\n",(0,a.jsx)(n.h2,{id:"adding-format-variables",children:"Adding Format Variables"}),"\n",(0,a.jsxs)(n.p,{children:["For dynamic content, use ",(0,a.jsx)(n.code,{children:"{variable}"})," placeholders:"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"fr.json:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "welcome_user": "Bienvenue, {name} !"\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"en.json:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "welcome_user": "Welcome, {name}!"\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'st.write(_("welcome_user", name=user.display_name))\n'})}),"\n",(0,a.jsx)(n.h2,{id:"adding-a-new-language",children:"Adding a New Language"}),"\n",(0,a.jsx)(n.h3,{id:"step-1-create-translation-file",children:"Step 1: Create translation file"}),"\n",(0,a.jsxs)(n.p,{children:["Create ",(0,a.jsx)(n.code,{children:"app/translations/de.json"})," (example for German):"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "app_title": "\xd2 Capistaine",\n  "app_subtitle": "B\xfcrgerliche Transparenz f\xfcr Audierne",\n  ...\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"step-2-register-the-language",children:"Step 2: Register the language"}),"\n",(0,a.jsxs)(n.p,{children:["Edit ",(0,a.jsx)(n.code,{children:"app/i18n.py"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'LANGUAGES = {\n    "fr": "Fran\xe7ais",\n    "en": "English",\n    "de": "Deutsch",  # Add new language\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"key-naming-conventions",children:"Key Naming Conventions"}),"\n",(0,a.jsx)(n.p,{children:"Use descriptive, hierarchical key names:"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Pattern"}),(0,a.jsx)(n.th,{children:"Example"}),(0,a.jsx)(n.th,{children:"Use Case"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"section_element"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"sidebar_session"})}),(0,a.jsx)(n.td,{children:"Section headers"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"section_action"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"sidebar_new_conversation"})}),(0,a.jsx)(n.td,{children:"Buttons/actions"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"feature_state"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"contributions_status_open"})}),(0,a.jsx)(n.td,{children:"Status labels"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"feature_message"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"chat_welcome"})}),(0,a.jsx)(n.td,{children:"User-facing messages"})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"fallback-behavior",children:"Fallback Behavior"}),"\n",(0,a.jsx)(n.p,{children:"If a key is not found in the current language:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Returns the key itself (useful for debugging)"}),"\n",(0,a.jsx)(n.li,{children:"No error is thrown"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'_("nonexistent_key")  # Returns "nonexistent_key"\n'})}),"\n",(0,a.jsx)(n.h2,{id:"translation-files-reference",children:"Translation Files Reference"}),"\n",(0,a.jsx)(n.p,{children:"See the complete list of available keys in:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"app/translations/fr.json"})," (source of truth)"]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"app/translations/en.json"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},8453(e,n,s){s.d(n,{R:()=>l,x:()=>r});var i=s(6540);const a={},t=i.createContext(a);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);